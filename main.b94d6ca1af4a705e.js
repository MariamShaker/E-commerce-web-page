(self.webpackChunkmy_market=self.webpackChunkmy_market||[]).push([[179],{440:(Xt,st,V)=>{"use strict";V.d(st,{nm:()=>fs});var a=V(5813);V(4650),V(5867);var ft=V(5861),Ce=V(9681),ke=V(4859),me=V(2090),Ae=V(1877);const ie=new Map,Be={activated:!1,tokenObservers:[]},fe={initialized:!1,enabled:!1};function Fe(tt){return ie.get(tt)||Be}function qe(tt,Je){ie.set(tt,Je)}function Qe(){return fe}class ln{constructor(Je,ht,Mt,Zt,pn){if(this.operation=Je,this.retryPolicy=ht,this.getWaitDuration=Mt,this.lowerBound=Zt,this.upperBound=pn,this.pending=null,this.nextErrorWaitInterval=Zt,Zt>pn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Je){var ht=this;return(0,ft.Z)(function*(){ht.stop();try{ht.pending=new me.BH,yield function Wt(tt){return new Promise(Je=>{setTimeout(Je,tt)})}(ht.getNextRun(Je)),ht.pending.resolve(),yield ht.pending.promise,ht.pending=new me.BH,yield ht.operation(),ht.pending.resolve(),yield ht.pending.promise,ht.process(!0).catch(()=>{})}catch(Mt){ht.retryPolicy(Mt)?ht.process(!1).catch(()=>{}):ht.stop()}})()}getNextRun(Je){if(Je)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ht=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ht}}}const $t=new me.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Rt(tt){if(!Fe(tt).activated)throw $t.create("use-before-activation",{appName:tt.name})}function fn(tt,Je){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,ft.Z)(function*({url:tt,body:Je},ht){var Mt,Zt;const pn={"Content-Type":"application/json"},xn=ht.getImmediate({optional:!0});if(xn){const Es=yield xn.getHeartbeatsHeader();Es&&(pn["X-Firebase-Client"]=Es)}const ni={method:"POST",body:JSON.stringify(Je),headers:pn};let lr,Ds;try{lr=yield fetch(tt,ni)}catch(Es){throw $t.create("fetch-network-error",{originalErrorMessage:null===(Mt=Es)||void 0===Mt?void 0:Mt.message})}if(200!==lr.status)throw $t.create("fetch-status-error",{httpStatus:lr.status});try{Ds=yield lr.json()}catch(Es){throw $t.create("fetch-parse-error",{originalErrorMessage:null===(Zt=Es)||void 0===Zt?void 0:Zt.message})}const Li=Ds.ttl.match(/^([\d.]+)(s)$/);if(!Li||!Li[2]||isNaN(Number(Li[1])))throw $t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Ds.ttl}`});const Xs=1e3*Number(Li[1]),fi=Date.now();return{token:Ds.token,expireTimeMillis:fi+Xs,issuedAtTimeMillis:fi}})).apply(this,arguments)}function Vr(tt,Je){const{projectId:ht,appId:Mt,apiKey:Zt}=tt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${ht}/apps/${Mt}:exchangeDebugToken?key=${Zt}`,body:{debug_token:Je}}}const di="firebase-app-check-store";let rr=null;function Pn(){return rr||(rr=new Promise((tt,Je)=>{var ht;try{const Mt=indexedDB.open("firebase-app-check-database",1);Mt.onsuccess=Zt=>{tt(Zt.target.result)},Mt.onerror=Zt=>{var pn;Je($t.create("storage-open",{originalErrorMessage:null===(pn=Zt.target.error)||void 0===pn?void 0:pn.message}))},Mt.onupgradeneeded=Zt=>{0===Zt.oldVersion&&Zt.target.result.createObjectStore(di,{keyPath:"compositeKey"})}}catch(Mt){Je($t.create("storage-open",{originalErrorMessage:null===(ht=Mt)||void 0===ht?void 0:ht.message}))}}),rr)}function Gn(){return(Gn=(0,ft.Z)(function*(tt,Je){const Mt=(yield Pn()).transaction(di,"readwrite"),pn=Mt.objectStore(di).put({compositeKey:tt,value:Je});return new Promise((xn,ni)=>{pn.onsuccess=lr=>{xn()},Mt.onerror=lr=>{var Ds;ni($t.create("storage-set",{originalErrorMessage:null===(Ds=lr.target.error)||void 0===Ds?void 0:Ds.message}))}})})).apply(this,arguments)}const _r=new Ae.Yd("@firebase/app-check");function Dn(tt,Je){return(0,me.hl)()?function Ci(tt,Je){return function Dr(tt,Je){return Gn.apply(this,arguments)}(function ur(tt){return`${tt.options.appId}-${tt.name}`}(tt),Je)}(tt,Je).catch(ht=>{_r.warn(`Failed to write token to IndexedDB. Error: ${ht}`)}):Promise.resolve()}function ds(){return Qe().enabled}function tr(){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,ft.Z)(function*(){const tt=Qe();if(tt.enabled&&tt.token)return tt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Me={error:"UNKNOWN_ERROR"};function He(tt){return me.US.encodeString(JSON.stringify(tt),!1)}function Ve(tt){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,ft.Z)(function*(tt,Je=!1){const ht=tt.app;Rt(ht);const Mt=Fe(ht);let pn,Zt=Mt.token;if(!Zt){const lr=yield Mt.cachedTokenPromise;lr&&An(lr)&&(Zt=lr)}if(!Je&&Zt&&An(Zt))return{token:Zt.token};let ni,xn=!1;if(ds()){Mt.exchangeTokenPromise||(Mt.exchangeTokenPromise=fn(Vr(ht,yield tr()),tt.heartbeatServiceProvider).then(Ds=>(Mt.exchangeTokenPromise=void 0,Ds)),xn=!0);const lr=yield Mt.exchangeTokenPromise;return yield Dn(ht,lr),qe(ht,Object.assign(Object.assign({},Mt),{token:lr})),{token:lr.token}}try{Mt.exchangeTokenPromise||(Mt.exchangeTokenPromise=Mt.provider.getToken().then(lr=>(Mt.exchangeTokenPromise=void 0,lr)),xn=!0),Zt=yield Mt.exchangeTokenPromise}catch(lr){"appCheck/throttled"===lr.code?_r.warn(lr.message):_r.error(lr),pn=lr}return Zt?(ni={token:Zt.token},qe(ht,Object.assign(Object.assign({},Mt),{token:Zt})),yield Dn(ht,Zt)):ni=Tn(pn),xn&&kn(ht,ni),ni})).apply(this,arguments)}function on(tt,Je){const ht=Fe(tt),Mt=ht.tokenObservers.filter(Zt=>Zt.next!==Je);0===Mt.length&&ht.tokenRefresher&&ht.tokenRefresher.isRunning()&&ht.tokenRefresher.stop(),qe(tt,Object.assign(Object.assign({},ht),{tokenObservers:Mt}))}function dr(tt){const{app:Je}=tt,ht=Fe(Je);let Mt=ht.tokenRefresher;Mt||(Mt=function nr(tt){const{app:Je}=tt;return new ln((0,ft.Z)(function*(){let Mt;if(Mt=Fe(Je).token?yield Ve(tt,!0):yield Ve(tt),Mt.error)throw Mt.error}),()=>!0,()=>{const ht=Fe(Je);if(ht.token){let Mt=ht.token.issuedAtTimeMillis+.5*(ht.token.expireTimeMillis-ht.token.issuedAtTimeMillis)+3e5;return Mt=Math.min(Mt,ht.token.expireTimeMillis-3e5),Math.max(0,Mt-Date.now())}return 0},3e4,96e4)}(tt),qe(Je,Object.assign(Object.assign({},ht),{tokenRefresher:Mt}))),!Mt.isRunning()&&ht.isTokenAutoRefreshEnabled&&Mt.start()}function kn(tt,Je){const ht=Fe(tt).tokenObservers;for(const Mt of ht)try{"EXTERNAL"===Mt.type&&null!=Je.error?Mt.error(Je.error):Mt.next(Je)}catch{}}function An(tt){return tt.expireTimeMillis-Date.now()>0}function Tn(tt){return{token:He(Me),error:tt}}class Er{constructor(Je,ht){this.app=Je,this.heartbeatServiceProvider=ht}_delete(){const{tokenObservers:Je}=Fe(this.app);for(const ht of Je)on(this.app,ht.next);return Promise.resolve()}}const ki="app-check-internal";!function ws(){(0,Ce._registerComponent)(new ke.wA("app-check",tt=>function Cr(tt,Je){return new Er(tt,Je)}(tt.getProvider("app").getImmediate(),tt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((tt,Je,ht)=>{tt.getProvider(ki).initialize()})),(0,Ce._registerComponent)(new ke.wA(ki,tt=>function zr(tt){return{getToken:Je=>Ve(tt,Je),addTokenListener:Je=>function Kt(tt,Je,ht,Mt){const{app:Zt}=tt,pn=Fe(Zt),xn={next:ht,error:Mt,type:Je};if(qe(Zt,Object.assign(Object.assign({},pn),{tokenObservers:[...pn.tokenObservers,xn]})),pn.token&&An(pn.token)){const ni=pn.token;Promise.resolve().then(()=>{ht({token:ni.token}),dr(tt)}).catch(()=>{})}pn.cachedTokenPromise.then(()=>dr(tt))}(tt,"INTERNAL",Je),removeTokenListener:Je=>on(tt.app,Je)}}(tt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)("@firebase/app-check","0.5.12")}();class fs{constructor(){return(0,a.vb)("app-check")}}typeof window<"u"&&window},1205:(Xt,st,V)=>{"use strict";V.d(st,{zQ:()=>Ot,ww:()=>Pt,rT:()=>fe,f7:()=>qe,L6:()=>ie,_Q:()=>Be,lh:()=>Fe,Qv:()=>Ae,nw:()=>Qe});var a=V(4650),k=V(7579),Q=V(9646),ge=V(9751),Oe=V(8996),be=V(6451),je=V(5363),Ne=V(3900),We=V(4004),de=V(6063);class he extends k.x{constructor(Jt=1/0,en=1/0,wt=de.l){super(),this._bufferSize=Jt,this._windowTime=en,this._timestampProvider=wt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=en===1/0,this._bufferSize=Math.max(1,Jt),this._windowTime=Math.max(1,en)}next(Jt){const{isStopped:en,_buffer:wt,_infiniteTimeWindow:ln,_timestampProvider:Wt,_windowTime:Yt}=this;en||(wt.push(Jt),!ln&&wt.push(Wt.now()+Yt)),this._trimBuffer(),super.next(Jt)}_subscribe(Jt){this._throwIfClosed(),this._trimBuffer();const en=this._innerSubscribe(Jt),{_infiniteTimeWindow:wt,_buffer:ln}=this,Wt=ln.slice();for(let Yt=0;Yt<Wt.length&&!Jt.closed;Yt+=wt?1:2)Jt.next(Wt[Yt]);return this._checkFinalizedStatuses(Jt),en}_trimBuffer(){const{_bufferSize:Jt,_timestampProvider:en,_buffer:wt,_infiniteTimeWindow:ln}=this,Wt=(ln?1:2)*Jt;if(Jt<1/0&&Wt<wt.length&&wt.splice(0,wt.length-Wt),!ln){const Yt=en.now();let $t=0;for(let bn=1;bn<wt.length&&wt[bn]<=Yt;bn+=2)$t=bn;$t&&wt.splice(0,$t+1)}}}var Pe=V(3099);function yt(jt,Jt,en){let wt,ln=!1;return jt&&"object"==typeof jt?({bufferSize:wt=1/0,windowTime:Jt=1/0,refCount:ln=!1,scheduler:en}=jt):wt=jt??1/0,(0,Pe.B)({connector:()=>new he(wt,Jt,en),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ln})}var ot=V(590),nt=V(576);function At(jt,Jt){return(0,nt.m)(Jt)?(0,Ne.w)(()=>jt,Jt):(0,Ne.w)(()=>jt)}var dt=V(9468),ut=V(9300),ze=V(5813),Gt=V(2011),ft=V(6895),Ce=V(440),ke=V(127);const Ae=new a.OlP("angularfire2.auth.use-emulator"),ie=new a.OlP("angularfire2.auth.settings"),Be=new a.OlP("angularfire2.auth.tenant-id"),fe=new a.OlP("angularfire2.auth.langugage-code"),Fe=new a.OlP("angularfire2.auth.use-device-language"),qe=new a.OlP("angularfire.auth.persistence"),Qe=(jt,Jt,en,wt,ln,Wt,Yt,$t)=>(0,Gt.cc)(`${jt.name}.auth`,"AngularFireAuth",jt.name,()=>{const bn=Jt.runOutsideAngular(()=>jt.auth());if(en&&bn.useEmulator(...en),wt&&(bn.tenantId=wt),bn.languageCode=ln,Wt&&bn.useDeviceLanguage(),Yt)for(const[Rt,Cn]of Object.entries(Yt))bn.settings[Rt]=Cn;return $t&&bn.setPersistence($t),bn},[en,wt,ln,Wt,Yt,$t]);let Ot=(()=>{class jt{constructor(en,wt,ln,Wt,Yt,$t,bn,Rt,Cn,ei,fn,Rn){const er=new k.x,pr=(0,Q.of)(void 0).pipe((0,je.Q)(Yt.outsideAngular),(0,Ne.w)(()=>Wt.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,2476)))),(0,We.U)(()=>(0,Gt.on)(en,Wt,wt)),(0,We.U)(Vr=>Qe(Vr,Wt,$t,Rt,Cn,ei,bn,fn)),yt({bufferSize:1,refCount:!1}));if((0,ft.PM)(ln))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Q.of)(null);else{pr.pipe((0,ot.P)()).subscribe();const Ur=pr.pipe((0,Ne.w)(xt=>xt.getRedirectResult().then(rr=>rr,()=>null)),ze.iC,yt({bufferSize:1,refCount:!1})),Ar=pr.pipe((0,Ne.w)(xt=>new ge.y(rr=>({unsubscribe:Wt.runOutsideAngular(()=>xt.onAuthStateChanged(Pn=>rr.next(Pn),Pn=>rr.error(Pn),()=>rr.complete()))})))),di=pr.pipe((0,Ne.w)(xt=>new ge.y(rr=>({unsubscribe:Wt.runOutsideAngular(()=>xt.onIdTokenChanged(Pn=>rr.next(Pn),Pn=>rr.error(Pn),()=>rr.complete()))}))));this.authState=Ur.pipe(At(Ar),(0,dt.R)(Yt.outsideAngular),(0,je.Q)(Yt.insideAngular)),this.user=Ur.pipe(At(di),(0,dt.R)(Yt.outsideAngular),(0,je.Q)(Yt.insideAngular)),this.idToken=this.user.pipe((0,Ne.w)(xt=>xt?(0,Oe.D)(xt.getIdToken()):(0,Q.of)(null))),this.idTokenResult=this.user.pipe((0,Ne.w)(xt=>xt?(0,Oe.D)(xt.getIdTokenResult()):(0,Q.of)(null))),this.credential=(0,be.T)(Ur,er,this.authState.pipe((0,ut.h)(xt=>!xt))).pipe((0,We.U)(xt=>xt?.user?xt:null),(0,dt.R)(Yt.outsideAngular),(0,je.Q)(Yt.insideAngular))}return(0,Gt.pX)(this,pr,Wt,{spy:{apply:(Vr,Ur,Ar)=>{(Vr.startsWith("signIn")||Vr.startsWith("createUser"))&&Ar.then(di=>er.next(di))}}})}}return jt.\u0275fac=function(en){return new(en||jt)(a.LFG(Gt.Dh),a.LFG(Gt.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ze.HU),a.LFG(Ae,8),a.LFG(ie,8),a.LFG(Be,8),a.LFG(fe,8),a.LFG(Fe,8),a.LFG(qe,8),a.LFG(Ce.nm,8))},jt.\u0275prov=a.Yz7({token:jt,factory:jt.\u0275fac,providedIn:"any"}),jt})(),Pt=(()=>{class jt{constructor(){ke.Z.registerVersion("angularfire",ze.q4.full,"auth-compat")}}return jt.\u0275fac=function(en){return new(en||jt)},jt.\u0275mod=a.oAB({type:jt}),jt.\u0275inj=a.cJS({providers:[Ot]}),jt})()},7407:(Xt,st,V)=>{"use strict";V.d(st,{ST:()=>q_,yb:()=>Ch});var a=V(4650),k=V(4986),Q=V(9751),ge=V(8996),Oe=V(9646),be=V(5813),je=V(8675),Ne=V(4482),We=V(5403);function de(){return(0,Ne.e)((i,e)=>{let t,o=!1;i.subscribe((0,We.x)(e,u=>{const p=t;t=u,o&&e.next([p,u]),o=!0}))})}var ie,he=V(4004),Pe=V(5026),yt=V(1884),ot=V(9300),nt=V(2011),At=V(6895),ut=(V(2476),V(3942)),ze=V(5861),Gt=V(9681),ft=V(4859),Ce=V(1877),ke=V(2090),me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={},Be=Be||{},fe=me||self;function Fe(){}function qe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Qe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Pt="closure_uid_"+(1e9*Math.random()>>>0),jt=0;function Jt(i,e,t){return i.call.apply(i.bind,arguments)}function en(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function wt(i,e,t){return(wt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jt:en).apply(null,arguments)}function ln(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Wt(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,u,p){for(var v=Array(arguments.length-2),x=2;x<arguments.length;x++)v[x-2]=arguments[x];return e.prototype[u].apply(o,v)}}function Yt(){this.s=this.s,this.o=this.o}var bn={};Yt.prototype.s=!1,Yt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Ot(i){return Object.prototype.hasOwnProperty.call(i,Pt)&&i[Pt]||(i[Pt]=++jt)}(this);delete bn[i]}},Yt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Rt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Cn(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function ei(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(qe(o)){const u=i.length||0,p=o.length||0;i.length=u+p;for(let v=0;v<p;v++)i[u+v]=o[v]}else i.push(o)}}function fn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}fn.prototype.h=function(){this.defaultPrevented=!0};var Rn=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{fe.addEventListener("test",Fe,e),fe.removeEventListener("test",Fe,e)}catch{}return i}();function er(i){return/^[\s\xa0]*$/.test(i)}var pr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Vr(i,e){return i<e?-1:i>e?1:0}function Ur(){var i=fe.navigator;return i&&(i=i.userAgent)?i:""}function Ar(i){return-1!=Ur().indexOf(i)}function di(i){return di[" "](i),i}di[" "]=Fe;var Gn,i,rr=Ar("Opera"),Pn=Ar("Trident")||Ar("MSIE"),ir=Ar("Edge"),Ci=ir||Pn,Qi=Ar("Gecko")&&!(-1!=Ur().toLowerCase().indexOf("webkit")&&!Ar("Edge"))&&!(Ar("Trident")||Ar("MSIE"))&&!Ar("Edge"),mr=-1!=Ur().toLowerCase().indexOf("webkit")&&!Ar("Edge");function Dr(){var i=fe.document;return i?i.documentMode:void 0}e:{var sn="",un=(i=Ur(),Qi?/rv:([^\);]+)(\)|;)/.exec(i):ir?/Edge\/([\d\.]+)/.exec(i):Pn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):mr?/WebKit\/(\S+)/.exec(i):rr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(un&&(sn=un?un[1]:""),Pn){var ur=Dr();if(null!=ur&&ur>parseFloat(sn)){Gn=String(ur);break e}}Gn=sn}var _r={};var Pi=fe.document&&Pn&&(Dr()||parseInt(Gn,10))||void 0;function Vn(i,e){if(fn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Qi){e:{try{di(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ds[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Vn.X.h.call(this)}}Wt(Vn,fn);var ds={2:"touch",3:"pen",4:"mouse"};Vn.prototype.h=function(){Vn.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var tr="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Ge(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++Ke,this.ba=this.ea=!1}function Me(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function He(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Ve(i){const e={};for(const t in i)e[t]=i[t];return e}const Nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kt(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let p=0;p<Nt.length;p++)t=Nt[p],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function on(i){this.src=i,this.g={},this.h=0}function dr(i,e){var t=e.type;if(t in i.g){var p,o=i.g[t],u=Rt(o,e);(p=0<=u)&&Array.prototype.splice.call(o,u,1),p&&(Me(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function nr(i,e,t,o){for(var u=0;u<i.length;++u){var p=i[u];if(!p.ba&&p.listener==e&&p.capture==!!t&&p.ha==o)return u}return-1}on.prototype.add=function(i,e,t,o,u){var p=i.toString();(i=this.g[p])||(i=this.g[p]=[],this.h++);var v=nr(i,e,o,u);return-1<v?(e=i[v],t||(e.ea=!1)):((e=new Ge(e,this.src,p,!!o,u)).ea=t,i.push(e)),e};var kn="closure_lm_"+(1e6*Math.random()|0),An={};function Tn(i,e,t,o,u){if(o&&o.once)return zr(i,e,t,o,u);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Tn(i,e[p],t,o,u);return null}return t=St(t),i&&i[tr]?i.N(e,t,Qe(o)?!!o.capture:!!o,u):Er(i,e,t,!1,o,u)}function Er(i,e,t,o,u,p){if(!e)throw Error("Invalid event type");var v=Qe(u)?!!u.capture:!!u,x=pe(i);if(x||(i[kn]=x=new on(i)),(t=x.add(e,t,o,v,p)).proxy)return t;if(o=function Cr(){const e=Se;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Rn||(u=v),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Re(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function zr(i,e,t,o,u){if(Array.isArray(e)){for(var p=0;p<e.length;p++)zr(i,e[p],t,o,u);return null}return t=St(t),i&&i[tr]?i.O(e,t,Qe(o)?!!o.capture:!!o,u):Er(i,e,t,!0,o,u)}function ai(i,e,t,o,u){if(Array.isArray(e))for(var p=0;p<e.length;p++)ai(i,e[p],t,o,u);else o=Qe(o)?!!o.capture:!!o,t=St(t),i&&i[tr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=nr(p=i.g[e],t,o,u))&&(Me(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete i.g[e],i.h--))):i&&(i=pe(i))&&(e=i.g[e.toString()],i=-1,e&&(i=nr(e,t,o,u)),(t=-1<i?e[i]:null)&&xr(t))}function xr(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[tr])dr(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Re(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=pe(e))?(dr(t,i),0==t.h&&(t.src=null,e[kn]=null)):Me(i)}}}function Re(i){return i in An?An[i]:An[i]="on"+i}function Se(i,e){if(i.ba)i=!0;else{e=new Vn(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&xr(i),i=t.call(o,e)}return i}function pe(i){return(i=i[kn])instanceof on?i:null}var ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(i){return"function"==typeof i?i:(i[ct]||(i[ct]=function(e){return i.handleEvent(e)}),i[ct])}function Ut(){Yt.call(this),this.i=new on(this),this.P=this,this.I=null}function Qt(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new fn(e,i);else if(e instanceof fn)e.target=e.target||i;else{var u=e;Kt(e=new fn(o,i),u)}if(u=!0,t)for(var p=t.length-1;0<=p;p--){var v=e.g=t[p];u=Mn(v,o,!0,e)&&u}if(u=Mn(v=e.g=i,o,!0,e)&&u,u=Mn(v,o,!1,e)&&u,t)for(p=0;p<t.length;p++)u=Mn(v=e.g=t[p],o,!1,e)&&u}function Mn(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,p=0;p<e.length;++p){var v=e[p];if(v&&!v.ba&&v.capture==t){var x=v.listener,K=v.ha||v.src;v.ea&&dr(i.i,v),u=!1!==x.call(K,o)&&u}}return u&&!o.defaultPrevented}Wt(Ut,Yt),Ut.prototype[tr]=!0,Ut.prototype.removeEventListener=function(i,e,t,o){ai(this,i,e,t,o)},Ut.prototype.M=function(){if(Ut.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Me(t[o]);delete i.g[e],i.h--}}this.I=null},Ut.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Ut.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var yr=fe.JSON.stringify;function Ji(){var i=Ti;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ti,ar=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new vi,i=>i.reset());class vi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function uo(i){fe.setTimeout(()=>{throw i},0)}function Xi(i,e){ti||function hs(){var i=fe.Promise.resolve(void 0);ti=function(){i.then(bi)}}(),Gi||(ti(),Gi=!0),Ti.add(i,e)}var Gi=!1,Ti=new class En{constructor(){this.h=this.g=null}add(e,t){const o=ar.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function bi(){for(var i;i=Ji();){try{i.h.call(i.g)}catch(t){uo(t)}var e=ar;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Gi=!1}function bs(i,e){Ut.call(this),this.h=i||1,this.g=e||fe,this.j=wt(this.kb,this),this.l=Date.now()}function Tr(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function co(i,e,t){if("function"==typeof i)t&&(i=wt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=wt(i.handleEvent,i)}return 2147483647<Number(e)?-1:fe.setTimeout(i,e||0)}function ki(i){i.g=co(()=>{i.g=null,i.i&&(i.i=!1,ki(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Wt(bs,Ut),(ie=bs.prototype).ca=!1,ie.R=null,ie.kb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Qt(this,"tick"),this.ca&&(Tr(this),this.start()))}},ie.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ie.M=function(){bs.X.M.call(this),Tr(this),delete this.g};class ws extends Yt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ki(this)}M(){super.M(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fi(i){Yt.call(this),this.h=i,this.g={}}Wt(Fi,Yt);var zi=[];function fs(i,e,t,o){Array.isArray(t)||(t&&(zi[0]=t.toString()),t=zi);for(var u=0;u<t.length;u++){var p=Tn(e,t[u],o||i.handleEvent,!1,i.h||i);if(!p)break;i.g[p.key]=p}}function Wr(i){He(i.g,function(e,t){this.g.hasOwnProperty(t)&&xr(e)},i),i.g={}}function Kn(){this.g=!0}function li(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function As(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var p=u[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var v=1;v<u.length;v++)u[v]=""}}}return yr(t)}catch{return e}}(i,t)+(o?" "+o:"")})}Fi.prototype.M=function(){Fi.X.M.call(this),Wr(this)},Fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kn.prototype.Aa=function(){this.g=!1},Kn.prototype.info=function(){};var hi={},Wi=null;function is(){return Wi=Wi||new Ut}function aa(i){fn.call(this,hi.Oa,i)}function Go(i){const e=is();Qt(e,new aa(e,i))}function ps(i,e){fn.call(this,hi.STAT_EVENT,i),this.stat=e}function Zr(i){const e=is();Qt(e,new ps(e,i))}function ui(i,e){fn.call(this,hi.Pa,i),this.size=e}function tt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){i()},e)}hi.Oa="serverreachability",Wt(aa,fn),hi.STAT_EVENT="statevent",Wt(ps,fn),hi.Pa="timingevent",Wt(ui,fn);var Je={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},ht={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Mt(){}function pn(){}Mt.prototype.h=null;var Ds,xn={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function ni(){fn.call(this,"d")}function lr(){fn.call(this,"c")}function Li(){}function Xs(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new Fi(this),this.O=Es,this.T=new bs(i=Ci?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}Wt(ni,fn),Wt(lr,fn),Wt(Li,Mt),Li.prototype.g=function(){return new XMLHttpRequest},Li.prototype.i=function(){return{}},Ds=new Li;var Es=45e3,Xo={},Cs={};function ea(i,e,t){i.K=1,i.v=Ki($s(e)),i.s=t,i.P=!0,Ns(i,null)}function Ns(i,e){i.F=Date.now(),ho(i),i.A=$s(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),ca(t.i,"t",o),i.C=0,t=i.l.H,i.h=new fi,i.g=pa(i.l,t?e:null,!i.s),0<i.N&&(i.L=new ws(wt(i.Ka,i,i.g),i.N)),fs(i.S,i.g,"readystatechange",i.hb),e=i.H?Ve(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Go(1),function js(i,e,t,o,u,p){i.info(function(){if(i.g)if(p)for(var v="",x=p.split("&"),K=0;K<x.length;K++){var ee=x[K].split("=");if(1<ee.length){var ce=ee[0];ee=ee[1];var Ue=ce.split("_");v=2<=Ue.length&&"type"==Ue[1]?v+(ce+"=")+ee+"&":v+(ce+"=redacted&")}}else v=null;else v=p;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+v})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Ts(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function es(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=Ms(i,t),u==Cs){4==e&&(i.o=4,Zr(14),o=!1),li(i.j,i.m,null,"[Incomplete Response]");break}if(u==Xo){i.o=4,Zr(15),li(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}li(i.j,i.m,u,null),Os(i,u)}Ts(i)&&u!=Cs&&u!=Xo&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Zr(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Rr(e),e.K=!0,Zr(11))):(li(i.j,i.m,t,"[Invalid Chunked Response]"),gs(i),Ro(i))}function Ms(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Cs:(t=Number(e.substring(t,o)),isNaN(t)?Xo:(o+=1)+t>e.length?Cs:(e=e.substr(o,t),i.C=o+t,e))}function ho(i){i.V=Date.now()+i.O,xs(i,i.O)}function xs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=tt(wt(i.fb,i),e)}function _o(i){i.B&&(fe.clearTimeout(i.B),i.B=null)}function Ro(i){0==i.l.G||i.I||si(i.l,i)}function gs(i){_o(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Tr(i.T),Wr(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Os(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||sr(t.h,i)))if(!i.J&&sr(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;as(t),J(t)}Qr(t),Zr(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=tt(wt(t.bb,t),6e3));if(1>=Lt(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else so(t,11)}else if((i.J||t.g==i)&&as(t),!er(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let ee=u[e];if(t.T=ee[0],ee=ee[1],2==t.G)if("c"==ee[0]){t.I=ee[1],t.ka=ee[2];const ce=ee[3];null!=ce&&(t.ma=ce,t.j.info("VER="+t.ma));const Ue=ee[4];null!=Ue&&(t.Ca=Ue,t.j.info("SVER="+t.Ca));const mt=ee[5];null!=mt&&"number"==typeof mt&&0<mt&&(t.J=o=1.5*mt,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Ft=i.g;if(Ft){const Vt=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vt){var p=o.h;p.g||-1==Vt.indexOf("spdy")&&-1==Vt.indexOf("quic")&&-1==Vt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(no(p,p.h),p.h=null))}if(o.D){const gn=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;gn&&(o.za=gn,hr(o.F,o.D,gn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var v=i;if((o=t).sa=Lo(o,o.H?o.ka:null,o.V),v.J){ro(o.h,v);var x=v,K=o.J;K&&x.setTimeout(K),x.B&&(_o(x),ho(x)),o.g=v}else qr(o);0<t.i.length&&se(t)}else"stop"!=ee[0]&&"close"!=ee[0]||so(t,7);else 3==t.G&&("stop"==ee[0]||"close"==ee[0]?"stop"==ee[0]?so(t,7):F(t):"noop"!=ee[0]&&t.l&&t.l.wa(ee),t.A=0)}Go(4)}catch{}}function eo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(qe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function ss(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(qe(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Rs(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(qe(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,p=0;p<u;p++)e.call(void 0,o[p],t&&t[p],i)}(ie=Xs.prototype).setTimeout=function(i){this.O=i},ie.hb=function(i){i=i.target;const e=this.L;e&&3==ii(i)?e.l():this.Ka(i)},ie.Ka=function(i){try{if(i==this.g)e:{const ce=ii(this.g);var e=this.g.Ea();const Ue=this.g.aa();if(!(3>ce)&&(3!=ce||Ci||this.g&&(this.h.h||this.g.fa()||zs(this.g)))){this.I||4!=ce||7==e||Go(8==e||0>=Ue?3:2),_o(this);var t=this.g.aa();this.Y=t;t:if(Ts(this)){var o=zs(this.g);i="";var u=o.length,p=4==ii(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),Ro(this);var v="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:p&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.fa();if(this.i=200==t,function Ir(i,e,t,o,u,p,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+p+" "+v})}(this.j,this.u,this.A,this.m,this.U,ce,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var x,K=this.g;if((x=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!er(x)){var ee=x;break t}}ee=null}if(!(t=ee)){this.i=!1,this.o=3,Zr(12),gs(this),Ro(this);break e}li(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Os(this,t)}this.P?(es(this,ce,v),Ci&&this.i&&3==ce&&(fs(this.S,this.T,"tick",this.gb),this.T.start())):(li(this.j,this.m,v,null),Os(this,v)),4==ce&&gs(this),this.i&&!this.I&&(4==ce?si(this.l,this):(this.i=!1,ho(this)))}else 400==t&&0<v.indexOf("Unknown SID")?(this.o=3,Zr(12)):(this.o=0,Zr(13)),gs(this),Ro(this)}}}catch{}},ie.gb=function(){if(this.g){var i=ii(this.g),e=this.g.fa();this.C<e.length&&(_o(this),es(this,i,e),this.i&&4!=i&&ho(this))}},ie.cancel=function(){this.I=!0,gs(this)},ie.fb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Hs(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Go(3),Zr(17)),gs(this),this.o=2,Ro(this)):xs(this,this.V-i)};var la=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function to(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof to){this.h=void 0!==e?e:i.h,pi(this,i.j),this.s=i.s,this.g=i.g,Eo(this,i.m),this.l=i.l,e=i.i;var t=new wi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),fo(this,t),this.o=i.o}else i&&(t=String(i).match(la))?(this.h=!!e,pi(this,t[1]||"",!0),this.s=os(t[2]||""),this.g=os(t[3]||"",!0),Eo(this,t[4]),this.l=os(t[5]||"",!0),fo(this,t[6]||"",!0),this.o=os(t[7]||"")):(this.h=!!e,this.i=new wi(null,this.h))}function $s(i){return new to(i)}function pi(i,e,t){i.j=t?os(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Eo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function fo(i,e,t){e instanceof wi?(i.i=e,function ko(i,e){e&&!i.j&&(jr(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(On(this,o),ca(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Co(e,Po)),i.i=new wi(e,i.h))}function hr(i,e,t){i.i.set(e,t)}function Ki(i){return hr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function os(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Co(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Gs),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Gs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}to.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Co(e,gr,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Co(e,gr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Co(t,"/"==t.charAt(0)?ms:zo,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Co(t,ts)),i.join("")};var gr=/[#\/\?@]/g,zo=/[#\?:]/g,ms=/[#\?]/g,Po=/[#\?@]/g,ts=/#/g;function wi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function jr(i){i.g||(i.g=new Map,i.h=0,i.i&&function Vi(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var p=i[t].substring(0,o);u=i[t].substring(o+1)}else p=i[t];e(p,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function On(i,e){jr(i),e=po(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ua(i,e){return jr(i),e=po(i,e),i.g.has(e)}function ca(i,e,t){On(i,e),0<t.length&&(i.i=null,i.g.set(po(i,e),Cn(t)),i.h+=t.length)}function po(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function go(i){this.l=i||yo,i=fe.PerformanceNavigationTiming?0<(i=fe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(fe.g&&fe.g.Ga&&fe.g.Ga()&&fe.g.Ga().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ie=wi.prototype).add=function(i,e){jr(this),this.i=null,i=po(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ie.forEach=function(i,e){jr(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},ie.oa=function(){jr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let p=0;p<u.length;p++)t.push(e[o])}return t},ie.W=function(i){jr(this);let e=[];if("string"==typeof i)ua(this,i)&&(e=e.concat(this.g.get(po(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ie.set=function(i,e){return jr(this),this.i=null,ua(this,i=po(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ie.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const p=encodeURIComponent(String(o)),v=this.W(o);for(o=0;o<v.length;o++){var u=p;""!==v[o]&&(u+="="+encodeURIComponent(String(v[o]))),i.push(u)}}return this.i=i.join("&")};var yo=10;function To(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Lt(i){return i.h?1:i.g?i.g.size:0}function sr(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function no(i,e){i.g?i.g.add(e):i.h=e}function ro(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ii(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Cn(i.i)}function da(){}function ha(){this.g=new da}function Z(i,e,t){const o=t||"";try{eo(i,function(u,p){let v=u;Qe(u)&&(v=yr(u)),e.push(o+p+"="+encodeURIComponent(v))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ue(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Ie(i){this.l=i.$b||null,this.j=i.ib||!1}function Xe(i,e){Ut.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=O,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}go.prototype.cancel=function(){if(this.i=Ii(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},da.prototype.stringify=function(i){return fe.JSON.stringify(i,void 0)},da.prototype.parse=function(i){return fe.JSON.parse(i,void 0)},Wt(Ie,Mt),Ie.prototype.g=function(){return new Xe(this.l,this.j)},Ie.prototype.i=function(i){return function(){return i}}({}),Wt(Xe,Ut);var O=0;function R(i){i.j.read().then(i.Sa.bind(i)).catch(i.ga.bind(i))}function N(i){i.readyState=4,i.l=null,i.j=null,i.A=null,X(i)}function X(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ie=Xe.prototype).open=function(i,e){if(this.readyState!=O)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,X(this)},ie.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||fe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,N(this)),this.readyState=O},ie.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,X(this)),this.g&&(this.readyState=3,X(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;R(this)}else i.text().then(this.Ua.bind(this),this.ga.bind(this))},ie.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?N(this):X(this),3==this.readyState&&R(this)}},ie.Ua=function(i){this.g&&(this.response=this.responseText=i,N(this))},ie.Ta=function(i){this.g&&(this.response=i,N(this))},ie.ga=function(){this.g&&N(this)},ie.setRequestHeader=function(i,e){this.v.append(i,e)},ie.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ie.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Xe.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var it=fe.JSON.parse;function Tt(i){Ut.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ln,this.K=this.L=!1}Wt(Tt,Ut);var Ln="",Or=/^https?$/i,Kr=["POST","PUT"];function Yr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Jr(i),Is(i)}function Jr(i){i.D||(i.D=!0,Qt(i,"complete"),Qt(i,"error"))}function Ui(i){if(i.h&&typeof Be<"u"&&(!i.C[1]||4!=ii(i)||2!=i.aa()))if(i.v&&4==ii(i))co(i.Ha,0,i);else if(Qt(i,"readystatechange"),4==ii(i)){i.h=!1;try{const x=i.aa();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===x){var u=String(i.H).match(la)[1]||null;if(!u&&fe.self&&fe.self.location){var p=fe.self.location.protocol;u=p.substr(0,p.length-1)}o=!Or.test(u?u.toLowerCase():"")}t=o}if(t)Qt(i,"complete"),Qt(i,"success");else{i.m=6;try{var v=2<ii(i)?i.g.statusText:""}catch{v=""}i.j=v+" ["+i.aa()+"]",Jr(i)}}finally{Is(i)}}}function Is(i,e){if(i.g){Si(i);const t=i.g,o=i.C[0]?Fe:null;i.g=null,i.C=null,e||Qt(i,"ready");try{t.onreadystatechange=o}catch{}}}function Si(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(fe.clearTimeout(i.A),i.A=null)}function ii(i){return i.g?i.g.readyState:0}function zs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Ln:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function io(i){let e="";return He(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function na(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=io(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):hr(i,e,t))}function Ws(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function fa(i){this.Ca=0,this.i=[],this.j=new Kn,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Ws("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Ws("baseRetryDelayMs",5e3,i),this.ab=Ws("retryDelaySeedMs",1e4,i),this.Za=Ws("forwardChannelMaxRetries",2,i),this.ta=Ws("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Yb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new go(i&&i.concurrentRequestLimit),this.Fa=new ha,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=i&&i.Wb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function F(i){if(j(i),3==i.G){var e=i.U++,t=$s(i.F);hr(t,"SID",i.I),hr(t,"RID",e),hr(t,"TYPE","terminate"),Dt(i,t),(e=new Xs(i,i.j,e,void 0)).K=2,e.v=Ki($s(t)),t=!1,fe.navigator&&fe.navigator.sendBeacon&&(t=fe.navigator.sendBeacon(e.v.toString(),"")),!t&&fe.Image&&((new Image).src=e.v,t=!0),t||(e.g=pa(e.l,null),e.g.da(e.v)),e.F=Date.now(),ho(e)}Fo(i)}function J(i){i.g&&(Rr(i),i.g.cancel(),i.g=null)}function j(i){J(i),i.u&&(fe.clearTimeout(i.u),i.u=null),as(i),i.h.cancel(),i.m&&("number"==typeof i.m&&fe.clearTimeout(i.m),i.m=null)}function se(i){To(i.h)||i.m||(i.m=!0,Xi(i.Ja,i),i.C=0)}function pt(i,e){var t;t=e?e.m:i.U++;const o=$s(i.F);hr(o,"SID",i.I),hr(o,"RID",t),hr(o,"AID",i.T),Dt(i,o),i.o&&i.s&&na(o,i.o,i.s),t=new Xs(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=hn(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),no(i.h,t),ea(t,o,e)}function Dt(i,e){i.ia&&He(i.ia,function(t,o){hr(e,o,t)}),i.l&&eo({},function(t,o){hr(e,o,t)})}function hn(i,e,t){t=Math.min(i.i.length,t);var o=i.l?wt(i.l.Qa,i.l,i):null;e:{var u=i.i;let p=-1;for(;;){const v=["count="+t];-1==p?0<t?(p=u[0].h,v.push("ofs="+p)):p=0:v.push("ofs="+p);let x=!0;for(let K=0;K<t;K++){let ee=u[K].h;const ce=u[K].g;if(ee-=p,0>ee)p=Math.max(0,u[K].h-100),x=!1;else try{Z(ce,v,"req"+ee+"_")}catch{o&&o(ce)}}if(x){o=v.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function qr(i){i.g||i.u||(i.Z=1,Xi(i.Ia,i),i.A=0)}function Qr(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=tt(wt(i.Ia,i),Ai(i,i.A)),i.A++,0))}function Rr(i){null!=i.B&&(fe.clearTimeout(i.B),i.B=null)}function Pr(i){i.g=new Xs(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=$s(i.sa);hr(e,"RID","rpc"),hr(e,"SID",i.I),hr(e,"CI",i.L?"0":"1"),hr(e,"AID",i.T),hr(e,"TYPE","xmlhttp"),Dt(i,e),i.o&&i.s&&na(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Ki($s(e)),t.s=null,t.P=!0,Ns(t,i)}function as(i){null!=i.v&&(fe.clearTimeout(i.v),i.v=null)}function si(i,e){var t=null;if(i.g==e){as(i),Rr(i),i.g=null;var o=2}else{if(!sr(i.h,e))return;t=e.D,ro(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Qt(o=is(),new ui(o,t,e,u)),se(i)}else qr(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function xe(i,e){return!(Lt(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Ya?0:i.Za)||(i.m=tt(wt(i.Ja,i,e),Ai(i,i.C)),i.C++,0)))}(i,e)||2==o&&Qr(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:so(i,5);break;case 4:so(i,10);break;case 3:so(i,6);break;default:so(i,2)}}function Ai(i,e){let t=i.Wa+Math.floor(Math.random()*i.ab);return i.l||(t*=2),t*e}function so(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=wt(i.jb,i);t||(t=new to("//www.google.com/images/cleardot.gif"),fe.location&&"http"==fe.location.protocol||pi(t,"https"),Ki(t)),function G(i,e){const t=new Kn;if(fe.Image){const o=new Image;o.onload=ln(ue,t,o,"TestLoadImage: loaded",!0,e),o.onerror=ln(ue,t,o,"TestLoadImage: error",!1,e),o.onabort=ln(ue,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=ln(ue,t,o,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Zr(2);i.G=0,i.l&&i.l.va(e),Fo(i),j(i)}function Fo(i){if(i.G=0,i.la=[],i.l){const e=Ii(i.h);(0!=e.length||0!=i.i.length)&&(ei(i.la,e),ei(i.la,i.i),i.h.i.length=0,Cn(i.i),i.i.length=0),i.l.ua()}}function Lo(i,e,t){var o=t instanceof to?$s(t):new to(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Eo(o,o.m);else{var u=fe.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var p=new to(null,void 0);o&&pi(p,o),e&&(p.g=e),u&&Eo(p,u),t&&(p.l=t),o=p}return e=i.za,(t=i.D)&&e&&hr(o,t,e),hr(o,"VER",i.ma),Dt(i,o),o}function pa(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tt(t&&i.Da&&!i.ra?new Ie({ib:!0}):i.ra)).L=i.H,e}function Wo(){}function Io(){if(Pn&&!(10<=Number(Pi)))throw Error("Environmental error: no available transport.")}function ji(i,e){Ut.call(this),this.g=new fa(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Xb)&&!er(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!er(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ga(this)}function ka(i){ni.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ls(){lr.call(this),this.status=1}function ga(i){this.g=i}(ie=Tt.prototype).da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ds.g(),this.C=function Zt(i){return i.h||(i.h=i.i())}(this.u?this.u:Ds),this.g.onreadystatechange=wt(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(p){return void Yr(this,p)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const p of o.keys())t.set(p,o.get(p))}o=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),u=fe.FormData&&i instanceof fe.FormData,!(0<=Rt(Kr,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,v]of t)this.g.setRequestHeader(p,v);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Si(this),0<this.B&&((this.K=function gi(i){return Pn&&function cr(){return function xt(i){var e=_r;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=pr(String(Gn)).split("."),t=pr("9").split("."),o=Math.max(e.length,t.length);for(let v=0;0==i&&v<o;v++){var u=e[v]||"",p=t[v]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==u[0].length&&0==p[0].length)break;i=Vr(0==u[1].length?0:parseInt(u[1],10),0==p[1].length?0:parseInt(p[1],10))||Vr(0==u[2].length,0==p[2].length)||Vr(u[2],p[2]),u=u[3],p=p[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.qa,this)):this.A=co(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(p){Yr(this,p)}},ie.qa=function(){typeof Be<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qt(this,"timeout"),this.abort(8))},ie.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Qt(this,"complete"),Qt(this,"abort"),Is(this))},ie.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Is(this,!0)),Tt.X.M.call(this)},ie.Ha=function(){this.s||(this.F||this.v||this.l?Ui(this):this.eb())},ie.eb=function(){Ui(this)},ie.aa=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}},ie.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ie.Ra=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),it(e)}},ie.Ea=function(){return this.m},ie.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(ie=fa.prototype).ma=8,ie.G=1,ie.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new Xs(this,this.j,i,void 0);let p=this.s;if(this.S&&(p?(p=Ve(p),Kt(p,this.S)):p=this.S),null!==this.o||this.N||(u.H=p,p=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=hn(this,u,e),hr(t=$s(this.F),"RID",i),hr(t,"CVER",22),this.D&&hr(t,"X-HTTP-Session-Id",this.D),Dt(this,t),p&&(this.N?e="headers="+encodeURIComponent(String(io(p)))+"&"+e:this.o&&na(t,this.o,p)),no(this.h,u),this.Xa&&hr(t,"TYPE","init"),this.O?(hr(t,"$req",e),hr(t,"SID","null"),u.Z=!0,ea(u,t,null)):ea(u,t,e),this.G=2}}else 3==this.G&&(i?pt(this,i):0==this.i.length||To(this.h)||pt(this))},ie.Ia=function(){if(this.u=null,Pr(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=tt(wt(this.cb,this),i)}},ie.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Zr(10),J(this),Pr(this))},ie.bb=function(){null!=this.v&&(this.v=null,J(this),Qr(this),Zr(19))},ie.jb=function(i){i?(this.j.info("Successfully pinged google.com"),Zr(2)):(this.j.info("Failed to ping google.com"),Zr(1))},(ie=Wo.prototype).xa=function(){},ie.wa=function(){},ie.va=function(){},ie.ua=function(){},ie.Qa=function(){},Io.prototype.g=function(i,e){return new ji(i,e)},Wt(ji,Ut),ji.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;Zr(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Lo(i,null,i.V),se(i)},ji.prototype.close=function(){F(this.g)},ji.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=yr(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.$a++,i)),3==e.G&&se(e)},ji.prototype.M=function(){this.g.l=null,delete this.j,F(this.g),delete this.g,ji.X.M.call(this)},Wt(ka,ni),Wt(ls,lr),Wt(ga,Wo),ga.prototype.xa=function(){Qt(this.g,"a")},ga.prototype.wa=function(i){Qt(this.g,new ka(i))},ga.prototype.va=function(i){Qt(this.g,new ls(i))},ga.prototype.ua=function(){Qt(this.g,"b")},Io.prototype.createWebChannel=Io.prototype.g,ji.prototype.send=ji.prototype.u,ji.prototype.open=ji.prototype.m,ji.prototype.close=ji.prototype.close,Je.NO_ERROR=0,Je.TIMEOUT=8,Je.HTTP_ERROR=6,ht.COMPLETE="complete",pn.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",Ut.prototype.listen=Ut.prototype.N,Tt.prototype.listenOnce=Tt.prototype.O,Tt.prototype.getLastError=Tt.prototype.Na,Tt.prototype.getLastErrorCode=Tt.prototype.Ea,Tt.prototype.getStatus=Tt.prototype.aa,Tt.prototype.getResponseJson=Tt.prototype.Ra,Tt.prototype.getResponseText=Tt.prototype.fa,Tt.prototype.send=Tt.prototype.da;var Xl=Ae.createWebChannelTransport=function(){return new Io},eu=Ae.getStatEventTarget=function(){return is()},nl=Ae.ErrorCode=Je,rl=Ae.EventType=ht,il=Ae.Event=hi,Ma=Ae.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},vl=Ae.FetchXmlHttpFactory=Ie,xa=Ae.WebChannel=pn,bl=Ae.XhrIo=Tt;const wl="@firebase/firestore";class ri{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ri.UNAUTHENTICATED=new ri(null),ri.GOOGLE_CREDENTIALS=new ri("google-credentials-uid"),ri.FIRST_PARTY=new ri("first-party-uid"),ri.MOCK_USER=new ri("mock-user");let ba="9.10.0";const Ko=new Ce.Yd("@firebase/firestore");function qo(){return Ko.logLevel}function y(i,...e){if(Ko.logLevel<=Ce.in.DEBUG){const t=e.map(te);Ko.debug(`Firestore (${ba}): ${i}`,...t)}}function C(i,...e){if(Ko.logLevel<=Ce.in.ERROR){const t=e.map(te);Ko.error(`Firestore (${ba}): ${i}`,...t)}}function U(i,...e){if(Ko.logLevel<=Ce.in.WARN){const t=e.map(te);Ko.warn(`Firestore (${ba}): ${i}`,...t)}}function te(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function ne(i="Unexpected state"){const e=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: `+i;throw C(e),new Error(e)}function we(i,e){i||ne()}function Le(i,e){return i}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ke.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Nr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ri.UNAUTHENTICATED))}shutdown(){}}class Un{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zn{constructor(e){this.t=e,this.currentUser=ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const p=ee=>this.i!==u?(u=this.i,t(ee)):Promise.resolve();let v=new zt;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new zt,e.enqueueRetryable(()=>p(this.currentUser))};const x=()=>{const ee=v;e.enqueueRetryable((0,ze.Z)(function*(){yield ee.promise,yield p(o.currentUser)}))},K=ee=>{y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ee,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(ee=>K(ee)),setTimeout(()=>{if(!this.auth){const ee=this.t.getImmediate({optional:!0});ee?K(ee):(y("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new zt)}},0),x()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(we("string"==typeof o.accessToken),new Nr(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return we(null===e||"string"==typeof e),new ri(e)}}class oi{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=ri.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(we(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Di{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new oi(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ni{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=p=>{null!=p.error&&y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const v=p.token!==this.A;return this.A=p.token,y("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const u=p=>{y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.T.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.T.getImmediate({optional:!0});p?u(p):y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(we("string"==typeof t.token),this.A=t.token,new Sr(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ra(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class ks{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=ra(40);for(let p=0;p<u.length;++p)o.length<20&&u[p]<t&&(o+=e.charAt(u[p]%e.length))}return o}}function _n(i,e){return i<e?-1:i>e?1:0}function vo(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function Zo(i){return i+"\0"}class kr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new at(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new at(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new at(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kr.fromMillis(Date.now())}static fromDate(e){return kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new kr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_n(this.nanoseconds,e.nanoseconds):_n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new mn(e)}static min(){return new mn(new kr(0,0))}static max(){return new mn(new kr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yo{constructor(e,t,o){void 0===t?t=0:t>e.length&&ne(),void 0===o?o=e.length-t:o>e.length-t&&ne(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Yo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yo?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const p=e.get(u),v=t.get(u);if(p<v)return-1;if(p>v)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fr extends Yo{construct(e,t,o){return new fr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new at(Te.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new fr(t)}static emptyPath(){return new fr([])}}const oo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hr extends Yo{construct(e,t,o){return new Hr(e,t,o)}static isValidIdentifier(e){return oo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hr(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const p=()=>{if(0===o.length)throw new at(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let v=!1;for(;u<e.length;){const x=e[u];if("\\"===x){if(u+1===e.length)throw new at(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const K=e[u+1];if("\\"!==K&&"."!==K&&"`"!==K)throw new at(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=K,u+=2}else"`"===x?(v=!v,u++):"."!==x||v?(o+=x,u++):(p(),u++)}if(p(),v)throw new at(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hr(t)}static emptyPath(){return new Hr([])}}class vt{constructor(e){this.path=e}static fromPath(e){return new vt(fr.fromString(e))}static fromName(e){return new vt(fr.fromString(e).popFirst(5))}static empty(){return new vt(fr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new fr(e.slice()))}}class In{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function Sn(i){return i.fields.find(e=>2===e.kind)}function Qn(i){return i.fields.filter(e=>2!==e.kind)}In.UNKNOWN_ID=-1;class _s{constructor(e,t){this.fieldPath=e,this.kind=t}}class So{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new So(0,Bo.min())}}function qi(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=mn.fromTimestamp(1e9===o?new kr(t+1,0):new kr(t,o));return new Bo(u,vt.empty(),e)}function Pl(i){return new Bo(i.readTime,i.key,-1)}class Bo{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Bo(mn.min(),vt.empty(),-1)}static max(){return new Bo(mn.max(),vt.empty(),-1)}}function ao(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=vt.comparator(i.documentKey,e.documentKey),0!==t?t:_n(i.largestBatchId,e.largestBatchId))}const Oa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ks(i){return ma.apply(this,arguments)}function ma(){return ma=(0,ze.Z)(function*(i){if(i.code!==Te.FAILED_PRECONDITION||i.message!==Oa)throw i;y("LocalStore","Unexpectedly lost primary lease")}),ma.apply(this,arguments)}class _t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _t((o,u)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,u)},this.catchCallback=p=>{this.wrapFailure(t,p).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _t?t:_t.resolve(t)}catch(t){return _t.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_t.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_t.reject(t)}static resolve(e){return new _t((t,o)=>{t(e)})}static reject(e){return new _t((t,o)=>{o(e)})}static waitFor(e){return new _t((t,o)=>{let u=0,p=0,v=!1;e.forEach(x=>{++u,x.next(()=>{++p,v&&p===u&&t()},K=>o(K))}),v=!0,p===u&&t()})}static or(e){let t=_t.resolve(!1);for(const o of e)t=t.next(u=>u?_t.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,p)=>{o.push(t.call(this,u,p))}),this.waitFor(o)}static mapArray(e,t){return new _t((o,u)=>{const p=e.length,v=new Array(p);let x=0;for(let K=0;K<p;K++){const ee=K;t(e[ee]).next(ce=>{v[ee]=ce,++x,x===p&&o(v)},ce=>u(ce))}})}static doWhile(e,t){return new _t((o,u)=>{const p=()=>{!0===e()?t().next(()=>{p()},u):o()};p()})}}class ns{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new zt,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Dl(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=Vo(o.target.error);this.P.reject(new Dl(e,u))}}static open(e,t,o,u){try{return new ns(t,e.transaction(u,o))}catch(p){throw new Dl(t,p)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(y("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ia(t)}}class Ao{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===Ao.D((0,ke.z$)())&&C("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return y("SimpleDb","Removing database:",e),mo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ke.hl)())return!1;if(Ao.N())return!0;const e=(0,ke.z$)(),t=Ao.D(e),o=0<t&&t<10,u=Ao.k(e),p=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,ze.Z)(function*(){return t.db||(y("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const p=indexedDB.open(t.name,t.version);p.onsuccess=v=>{o(v.target.result)},p.onblocked=()=>{u(new Dl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=v=>{const x=v.target.error;u("VersionError"===x.name?new at(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new at(Te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new Dl(e,x))},p.onupgradeneeded=v=>{y("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',v.oldVersion),t.S.$(v.target.result,p.transaction,v.oldVersion,t.version).next(()=>{y("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var p=this;return(0,ze.Z)(function*(){const v="readonly"===t;let x=0;for(;;){++x;try{p.db=yield p.F(e);const K=ns.open(p.db,e,v?"readonly":"readwrite",o),ee=u(K).next(ce=>(K.V(),ce)).catch(ce=>(K.abort(ce),_t.reject(ce))).toPromise();return ee.catch(()=>{}),yield K.v,ee}catch(K){const ee=K,ce="FirebaseError"!==ee.name&&x<3;if(y("SimpleDb","Transaction failed with error:",ee.message,"Retrying:",ce),p.close(),!ce)return Promise.reject(ee)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sl{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return mo(this.U.delete())}}class Dl extends at{constructor(e,t){super(Te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Da(i){return"IndexedDbTransactionError"===i.name}class ia{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(y("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(y("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),mo(o)}add(e){return y("SimpleDb","ADD",this.store.name,e,e),mo(this.store.add(e))}get(e){return mo(this.store.get(e)).next(t=>(void 0===t&&(t=null),y("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return y("SimpleDb","DELETE",this.store.name,e),mo(this.store.delete(e))}count(){return y("SimpleDb","COUNT",this.store.name),mo(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),p=[];return this.H(u,(v,x)=>{p.push(x)}).next(()=>p)}{const u=this.store.getAll(o.range);return new _t((p,v)=>{u.onerror=x=>{v(x.target.error)},u.onsuccess=x=>{p(x.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new _t((u,p)=>{o.onerror=v=>{p(v.target.error)},o.onsuccess=v=>{u(v.target.result)}})}Y(e,t){y("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const u=this.cursor(o);return this.H(u,(p,v,x)=>x.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.H(u,t)}tt(e){const t=this.cursor({});return new _t((o,u)=>{t.onerror=p=>{const v=Vo(p.target.error);u(v)},t.onsuccess=p=>{const v=p.target.result;v?e(v.primaryKey,v.value).next(x=>{x?v.continue():o()}):o()}})}H(e,t){const o=[];return new _t((u,p)=>{e.onerror=v=>{p(v.target.error)},e.onsuccess=v=>{const x=v.target.result;if(!x)return void u();const K=new sl(x),ee=t(x.primaryKey,x.value,K);if(ee instanceof _t){const ce=ee.catch(Ue=>(K.done(),_t.reject(Ue)));o.push(ce)}K.isDone?u():null===K.G?x.continue():x.continue(K.G)}}).next(()=>_t.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mo(i){return new _t((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Vo(o.target.error);t(u)}})}let tu=!1;function Vo(i){const e=Ao.D((0,ke.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new at("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tu||(tu=!0,setTimeout(()=>{throw o},0)),o}}return i}class Ka{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;y("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ze.Z)(function*(){t.task=null;try{y("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){Da(o)?y("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Ks(o)}yield t.nt(6e4)}))}}class kl{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ze.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let u=t,p=!0;return _t.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!o.has(v))return y("IndexBackiller",`Processing collection: ${v}`),this.rt(e,v,u).next(x=>{u-=x,o.add(v)});p=!1})).next(()=>t-u)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(p=>{const v=p.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.ot(u,p)).next(x=>(y("IndexBackiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,t,x))).next(()=>v.size)}))}ot(e,t){let o=e;return t.changes.forEach((u,p)=>{const v=Pl(p);ao(v,o)>0&&(o=v)}),new Bo(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class T{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function S(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function E(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function P(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}T.at=-1;class H{constructor(e,t){this.comparator=e,this.root=t||ye.EMPTY}insert(e,t){return new H(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ye.BLACK,null,null))}remove(e){return new H(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ye.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new re(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new re(this.root,e,this.comparator,!1)}getReverseIterator(){return new re(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new re(this.root,e,this.comparator,!0)}}class re{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?o(e.key,t):1,t&&u&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ye{constructor(e,t,o,u,p){this.key=e,this.value=t,this.color=o??ye.RED,this.left=u??ye.EMPTY,this.right=p??ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,p){return new ye(e??this.key,t??this.value,o??this.color,u??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const p=o(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===p?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return ye.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}ye.EMPTY=null,ye.RED=!0,ye.BLACK=!1,ye.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(i,e,t,o,u){return this}insert(i,e,t){return new ye(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class De{constructor(e){this.comparator=e,this.data=new H(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ct(this.data.getIterator())}getIteratorFrom(e){return new Ct(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,p=o.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new De(this.comparator);return t.data=e,t}}class Ct{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function tn(i){return i.hasNext()?i.getNext():void 0}class Wn{constructor(e){this.fields=e,e.sort(Hr.comparator)}static empty(){return new Wn([])}unionWith(e){let t=new De(Hr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Jn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Jn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let p=0;p<o.length;++p)u+=String.fromCharCode(o[p]);return u}(e);return new Jn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jn.EMPTY_BYTE_STRING=new Jn("");const _a=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(i){if(we(!!i),"string"==typeof i){let e=0;const t=_a.exec(i);if(we(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:$i(i.seconds),nanos:$i(i.nanos)}}function $i(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Fs(i){return"string"==typeof i?Jn.fromBase64String(i):Jn.fromUint8Array(i)}function Va(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fa(i){const e=i.mapValue.fields.__previous_value__;return Va(e)?Fa(e):e}function sa(i){const e=No(i.mapValue.fields.__local_write_time__.timestampValue);return new kr(e.seconds,e.nanos)}class ac{constructor(e,t,o,u,p,v,x,K){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=p,this.forceLongPolling=v,this.autoDetectLongPolling=x,this.useFetchStreams=K}}class La{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new La("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof La&&e.projectId===this.projectId&&e.database===this.database}}function Ra(i){return null==i}function Fl(i){return 0===i&&1/i==-1/0}function Ua(i){return"number"==typeof i&&Number.isInteger(i)&&!Fl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},al={nullValue:"NULL_VALUE"};function Ea(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Va(i)?4:Fr(i)?9007199254740991:10:ne()}function ja(i,e){if(i===e)return!0;const t=Ea(i);if(t!==Ea(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return sa(i).isEqual(sa(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const p=No(o.timestampValue),v=No(u.timestampValue);return p.seconds===v.seconds&&p.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Fs(i.bytesValue).isEqual(Fs(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return $i(o.geoPointValue.latitude)===$i(u.geoPointValue.latitude)&&$i(o.geoPointValue.longitude)===$i(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return $i(o.integerValue)===$i(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const p=$i(o.doubleValue),v=$i(u.doubleValue);return p===v?Fl(p)===Fl(v):isNaN(p)&&isNaN(v)}return!1}(i,e);case 9:return vo(i.arrayValue.values||[],e.arrayValue.values||[],ja);case 10:return function(o,u){const p=o.mapValue.fields||{},v=u.mapValue.fields||{};if(S(p)!==S(v))return!1;for(const x in p)if(p.hasOwnProperty(x)&&(void 0===v[x]||!ja(p[x],v[x])))return!1;return!0}(i,e);default:return ne()}var u}function Ls(i,e){return void 0!==(i.values||[]).find(t=>ja(t,e))}function ll(i,e){if(i===e)return 0;const t=Ea(i),o=Ea(e);if(t!==o)return _n(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return _n(i.booleanValue,e.booleanValue);case 2:return function(u,p){const v=$i(u.integerValue||u.doubleValue),x=$i(p.integerValue||p.doubleValue);return v<x?-1:v>x?1:v===x?0:isNaN(v)?isNaN(x)?0:-1:1}(i,e);case 3:return B(i.timestampValue,e.timestampValue);case 4:return B(sa(i),sa(e));case 5:return _n(i.stringValue,e.stringValue);case 6:return function(u,p){const v=Fs(u),x=Fs(p);return v.compareTo(x)}(i.bytesValue,e.bytesValue);case 7:return function(u,p){const v=u.split("/"),x=p.split("/");for(let K=0;K<v.length&&K<x.length;K++){const ee=_n(v[K],x[K]);if(0!==ee)return ee}return _n(v.length,x.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,p){const v=_n($i(u.latitude),$i(p.latitude));return 0!==v?v:_n($i(u.longitude),$i(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,p){const v=u.values||[],x=p.values||[];for(let K=0;K<v.length&&K<x.length;++K){const ee=ll(v[K],x[K]);if(ee)return ee}return _n(v.length,x.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,p){if(u===ol.mapValue&&p===ol.mapValue)return 0;if(u===ol.mapValue)return 1;if(p===ol.mapValue)return-1;const v=u.fields||{},x=Object.keys(v),K=p.fields||{},ee=Object.keys(K);x.sort(),ee.sort();for(let ce=0;ce<x.length&&ce<ee.length;++ce){const Ue=_n(x[ce],ee[ce]);if(0!==Ue)return Ue;const mt=ll(v[x[ce]],K[ee[ce]]);if(0!==mt)return mt}return _n(x.length,ee.length)}(i.mapValue,e.mapValue);default:throw ne()}}function B(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return _n(i,e);const t=No(i),o=No(e),u=_n(t.seconds,o.seconds);return 0!==u?u:_n(t.nanos,o.nanos)}function $(i){return oe(i)}function oe(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=No(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Fs(i.bytesValue).toBase64():"referenceValue"in i?vt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",p=!0;for(const v of o.values||[])p?p=!1:u+=",",u+=oe(v);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let p="{",v=!0;for(const x of u)v?v=!1:p+=",",p+=`${x}:${oe(o.fields[x])}`;return p+"}"}(i.mapValue):ne();var e}function _e(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function lt(i){return!!i&&"integerValue"in i}function bt(i){return!!i&&"arrayValue"in i}function Ht(i){return!!i&&"nullValue"in i}function dn(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Bn(i){return!!i&&"mapValue"in i}function qn(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return E(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=qn(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qn(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Fr(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Yn(i){return"nullValue"in i?al:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?_e(La.empty(),vt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:ne()}function qs(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?_e(La.empty(),vt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ol:ne()}function Mo(i,e){const t=ll(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function ul(i,e){const t=ll(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Zs{constructor(e){this.value=e}static empty(){return new Zs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Bn(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qn(t)}setAll(e){let t=Hr.emptyPath(),o={},u=[];e.forEach((v,x)=>{if(!t.isImmediateParentOf(x)){const K=this.getFieldsMap(t);this.applyChanges(K,o,u),o={},u=[],t=x.popLast()}v?o[x.lastSegment()]=qn(v):u.push(x.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,o,u)}delete(e){const t=this.field(e.popLast());Bn(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ja(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Bn(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){E(t,(u,p)=>e[u]=p);for(const u of o)delete e[u]}clone(){return new Zs(qn(this.value))}}function cl(i){const e=[];return E(i.fields,(t,o)=>{const u=new Hr([t]);if(Bn(o)){const p=cl(o.mapValue).fields;if(0===p.length)e.push(u);else for(const v of p)e.push(u.child(v))}else e.push(u)}),new Wn(e)}class Mi{constructor(e,t,o,u,p,v){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=p,this.documentState=v}static newInvalidDocument(e){return new Mi(e,0,mn.min(),mn.min(),Zs.empty(),0)}static newFoundDocument(e,t,o){return new Mi(e,1,t,mn.min(),o,0)}static newNoDocument(e,t){return new Mi(e,2,t,mn.min(),Zs.empty(),0)}static newUnknownDocument(e,t){return new Mi(e,3,t,mn.min(),Zs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dl{constructor(e,t=null,o=[],u=[],p=null,v=null,x=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=p,this.startAt=v,this.endAt=x,this.ht=null}}function hl(i,e=null,t=[],o=[],u=null,p=null,v=null){return new dl(i,e,t,o,u,p,v)}function Pa(i){const e=Le(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+$(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Ra(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>$(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>$(o)).join(",")),e.ht=t}return e.ht}function Ll(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Sd(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!ja(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Sh(i.startAt,e.startAt)&&Sh(i.endAt,e.endAt)}function Fu(i){return vt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function lc(i,e){return i.filters.filter(t=>t instanceof xo&&t.field.isEqual(e))}function Dd(i,e,t){let o=al,u=!0;for(const p of lc(i,e)){let v=al,x=!0;switch(p.op){case"<":case"<=":v=Yn(p.value);break;case"==":case"in":case">=":v=p.value;break;case">":v=p.value,x=!1;break;case"!=":case"not-in":v=al}Mo({value:o,inclusive:u},{value:v,inclusive:x})<0&&(o=v,u=x)}if(null!==t)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const v=t.position[p];Mo({value:o,inclusive:u},{value:v,inclusive:t.inclusive})<0&&(o=v,u=t.inclusive);break}return{value:o,inclusive:u}}function Fc(i,e,t){let o=ol,u=!0;for(const p of lc(i,e)){let v=ol,x=!0;switch(p.op){case">=":case">":v=qs(p.value),x=!1;break;case"==":case"in":case"<=":v=p.value;break;case"<":v=p.value,x=!1;break;case"!=":case"not-in":v=ol}ul({value:o,inclusive:u},{value:v,inclusive:x})>0&&(o=v,u=x)}if(null!==t)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const v=t.position[p];ul({value:o,inclusive:u},{value:v,inclusive:t.inclusive})>0&&(o=v,u=t.inclusive);break}return{value:o,inclusive:u}}class xo extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new pu(e,t,o):"array-contains"===t?new Td(e,o):"in"===t?new Op(e,o):"not-in"===t?new Id(e,o):"array-contains-any"===t?new Ih(e,o):new xo(e,t,o)}static lt(e,t,o){return"in"===t?new Ed(e,o):new Cd(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ll(t,this.value)):null!==t&&Ea(this.value)===Ea(t)&&this.ft(ll(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ne()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class pu extends xo{constructor(e,t,o){super(e,t,o),this.key=vt.fromName(o.referenceValue)}matches(e){const t=vt.comparator(e.key,this.key);return this.ft(t)}}class Ed extends xo{constructor(e,t){super(e,"in",t),this.keys=bf(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cd extends xo{constructor(e,t){super(e,"not-in",t),this.keys=bf(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bf(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>vt.fromName(o.referenceValue))}class Td extends xo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bt(t)&&Ls(t.arrayValue,this.value)}}class Op extends xo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ls(this.value.arrayValue,t)}}class Id extends xo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ls(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ls(this.value.arrayValue,t)}}class Ih extends xo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Ls(this.value.arrayValue,o))}}class Bl{constructor(e,t){this.position=e,this.inclusive=t}}class fl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Sd(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function gu(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const p=e[u],v=i.position[u];if(o=p.field.isKeyField()?vt.comparator(vt.fromName(v.referenceValue),t.key):ll(v,t.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function Sh(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ja(i.position[t],e.position[t]))return!1;return!0}class Vl{constructor(e,t=null,o=[],u=[],p=null,v="F",x=null,K=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=p,this.limitType=v,this.startAt=x,this.endAt=K,this._t=null,this.wt=null}}function wf(i,e,t,o,u,p,v,x){return new Vl(i,e,t,o,u,p,v,x)}function Cl(i){return new Vl(i)}function Lc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Bc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Vc(i){for(const e of i.filters)if(e.dt())return e.field;return null}function Uc(i){return null!==i.collectionGroup}function Ul(i){const e=Le(i);if(null===e._t){e._t=[];const t=Vc(e),o=Bc(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new fl(t)),e._t.push(new fl(Hr.keyField(),"asc"));else{let u=!1;for(const p of e.explicitOrderBy)e._t.push(p),p.field.isKeyField()&&(u=!0);if(!u){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new fl(Hr.keyField(),p))}}}return e._t}function Ba(i){const e=Le(i);if(!e.wt)if("F"===e.limitType)e.wt=hl(e.path,e.collectionGroup,Ul(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of Ul(e))t.push(new fl(p.field,"desc"===p.dir?"asc":"desc"));const o=e.endAt?new Bl(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Bl(e.startAt.position,e.startAt.inclusive):null;e.wt=hl(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.wt}function mu(i,e,t){return new Vl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function uc(i,e){return Ll(Ba(i),Ba(e))&&i.limitType===e.limitType}function Ad(i){return`${Pa(Ba(i))}|lt:${i.limitType}`}function Nd(i){return`Query(target=${function El(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${$(o.value)}`;var o}).join(", ")}]`),Ra(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>$(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>$(t)).join(",")),`Target(${e})`}(Ba(i))}; limitType=${i.limitType})`}function qa(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):vt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,p,v){const x=gu(u,p,v);return u.inclusive?x<=0:x<0}(t.startAt,Ul(t),o)||t.endAt&&!function(u,p,v){const x=gu(u,p,v);return u.inclusive?x>=0:x>0}(t.endAt,Ul(t),o)));var t,o}function Lu(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Md(i){return(e,t)=>{let o=!1;for(const u of Ul(i)){const p=xd(u,e,t);if(0!==p)return p;o=o||u.field.isKeyField()}return 0}}function xd(i,e,t){const o=i.field.isKeyField()?vt.comparator(e.key,t.key):function(u,p,v){const x=p.data.field(u),K=v.data.field(u);return null!==x&&null!==K?ll(x,K):ne()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return ne()}}function Df(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fl(e)?"-0":e}}function Za(i){return{integerValue:""+i}}function Ys(i,e){return Ua(e)?Za(e):Df(i,e)}class cc{constructor(){this._=void 0}}function Tl(i,e,t){return i instanceof jl?function(o,u){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(p.fields.__previous_value__=u),{mapValue:p}}(t,e):i instanceof Il?Bu(i,e):i instanceof Uo?Sl(i,e):function(o,u){const p=Od(o,u),v=Hc(p)+Hc(o.yt);return lt(p)&&lt(o.yt)?Za(v):Df(o.It,v)}(i,e)}function jc(i,e,t){return i instanceof Il?Bu(i,e):i instanceof Uo?Sl(i,e):t}function Od(i,e){return i instanceof pl?lt(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class jl extends cc{}class Il extends cc{constructor(e){super(),this.elements=e}}function Bu(i,e){const t=$c(e);for(const o of i.elements)t.some(u=>ja(u,o))||t.push(o);return{arrayValue:{values:t}}}class Uo extends cc{constructor(e){super(),this.elements=e}}function Sl(i,e){let t=$c(e);for(const o of i.elements)t=t.filter(u=>!ja(u,o));return{arrayValue:{values:t}}}class pl extends cc{constructor(e,t){super(),this.It=e,this.yt=t}}function Hc(i){return $i(i.integerValue||i.doubleValue)}function $c(i){return bt(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class _u{constructor(e,t){this.field=e,this.transform=t}}class Vu{constructor(e,t){this.version=e,this.transformResults=t}}class Bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class yu{}function Gc(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Uu(i.key,Bi.none()):new ru(i.key,i.data,Bi.none());{const t=i.data,o=Zs.empty();let u=new De(Hr.comparator);for(let p of e.fields)if(!u.has(p)){let v=t.field(p);null===v&&p.length>1&&(p=p.popLast(),v=t.field(p)),null===v?o.delete(p):o.set(p,v),u=u.add(p)}return new Al(i.key,o,new Wn(u.toArray()),Bi.none())}}function nu(i,e,t){i instanceof ru?function(o,u,p){const v=o.value.clone(),x=hc(o.fieldTransforms,u,p.transformResults);v.setAll(x),u.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(i,e,t):i instanceof Al?function(o,u,p){if(!gl(o.precondition,u))return void u.convertToUnknownDocument(p.version);const v=hc(o.fieldTransforms,u,p.transformResults),x=u.data;x.setAll(dc(o)),x.setAll(v),u.convertToFoundDocument(p.version,x).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ya(i,e,t,o){return i instanceof ru?function(u,p,v,x){if(!gl(u.precondition,p))return v;const K=u.value.clone(),ee=Wc(u.fieldTransforms,x,p);return K.setAll(ee),p.convertToFoundDocument(p.version,K).setHasLocalMutations(),null}(i,e,t,o):i instanceof Al?function(u,p,v,x){if(!gl(u.precondition,p))return v;const K=Wc(u.fieldTransforms,x,p),ee=p.data;return ee.setAll(dc(u)),ee.setAll(K),p.convertToFoundDocument(p.version,ee).setHasLocalMutations(),null===v?null:v.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ce=>ce.field))}(i,e,t,o):(v=t,gl(i.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):v);var p,v}function Rd(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),p=Od(o.transform,u||null);null!=p&&(null===t&&(t=Zs.empty()),t.set(o.field,p))}return t||null}function zc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&vo(t,o,(u,p)=>function Ef(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Il&&o instanceof Il||t instanceof Uo&&o instanceof Uo?vo(t.elements,o.elements,ja):t instanceof pl&&o instanceof pl?ja(t.yt,o.yt):t instanceof jl&&o instanceof jl);var t,o}(u,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class ru extends yu{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Al extends yu{constructor(e,t,o,u,p=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function dc(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function hc(i,e,t){const o=new Map;we(i.length===t.length);for(let u=0;u<t.length;u++){const p=i[u],v=p.transform,x=e.data.field(p.field);o.set(p.field,jc(v,x,t[u]))}return o}function Wc(i,e,t){const o=new Map;for(const u of i){const p=u.transform,v=t.data.field(u.field);o.set(u.field,Tl(p,v,e))}return o}class Uu extends yu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bo extends yu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ah{constructor(e){this.count=e}}var jo,mi;function Pd(i){switch(i){default:return ne();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function Nh(i){if(void 0===i)return C("GRPC error has no .code"),Te.UNKNOWN;switch(i){case jo.OK:return Te.OK;case jo.CANCELLED:return Te.CANCELLED;case jo.UNKNOWN:return Te.UNKNOWN;case jo.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case jo.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case jo.INTERNAL:return Te.INTERNAL;case jo.UNAVAILABLE:return Te.UNAVAILABLE;case jo.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case jo.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case jo.NOT_FOUND:return Te.NOT_FOUND;case jo.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case jo.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case jo.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case jo.ABORTED:return Te.ABORTED;case jo.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case jo.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case jo.DATA_LOSS:return Te.DATA_LOSS;default:return ne()}}(mi=jo||(jo={}))[mi.OK=0]="OK",mi[mi.CANCELLED=1]="CANCELLED",mi[mi.UNKNOWN=2]="UNKNOWN",mi[mi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mi[mi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mi[mi.NOT_FOUND=5]="NOT_FOUND",mi[mi.ALREADY_EXISTS=6]="ALREADY_EXISTS",mi[mi.PERMISSION_DENIED=7]="PERMISSION_DENIED",mi[mi.UNAUTHENTICATED=16]="UNAUTHENTICATED",mi[mi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mi[mi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mi[mi.ABORTED=10]="ABORTED",mi[mi.OUT_OF_RANGE=11]="OUT_OF_RANGE",mi[mi.UNIMPLEMENTED=12]="UNIMPLEMENTED",mi[mi.INTERNAL=13]="INTERNAL",mi[mi.UNAVAILABLE=14]="UNAVAILABLE",mi[mi.DATA_LOSS=15]="DATA_LOSS";class Qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,p]of o)if(this.equalsFn(u,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],e))return void(u[p]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){E(this.inner,(t,o)=>{for(const[u,p]of o)e(u,p)})}isEmpty(){return P(this.inner)}size(){return this.innerSize}}const Cf=new H(vt.comparator);function ya(){return Cf}const kd=new H(vt.comparator);function vu(...i){let e=kd;for(const t of i)e=e.insert(t.key,t);return e}function Fd(i){let e=kd;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ca(){return $l()}function Hl(){return $l()}function $l(){return new Qa(i=>i.toString(),(i,e)=>i.isEqual(e))}const iu=new H(vt.comparator),Ld=new De(vt.comparator);function $r(...i){let e=Ld;for(const t of i)e=e.add(t);return e}const ml=new De(_n);function fc(){return ml}class Ho{constructor(e,t,o,u,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ho(mn.min(),o,fc(),ya(),$r())}}class Nl{constructor(e,t,o,u,p){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Nl(Jn.EMPTY_BYTE_STRING,t,$r(),$r(),$r())}}class ju{constructor(e,t,o,u){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=u}}class Gl{constructor(e,t){this.targetId=e,this.At=t}}class Hu{constructor(e,t,o=Jn.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class $u{constructor(){this.Rt=0,this.bt=pc(),this.Pt=Jn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=$r(),t=$r(),o=$r();return this.bt.forEach((u,p)=>{switch(p){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:ne()}}),new Nl(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=pc()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class su{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ya(),this.qt=Kc(),this.Kt=new De(_n)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,u)=>{this.Ht(u)&&t(u)})}Yt(e){const t=e.targetId,o=e.At.count,u=this.Xt(t);if(u){const p=u.target;if(Fu(p))if(0===o){const v=new vt(p.path);this.jt(t,v,Mi.newNoDocument(v,mn.min()))}else we(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((p,v)=>{const x=this.Xt(v);if(x){if(p.current&&Fu(x.target)){const K=new vt(x.target.path);null!==this.Ut.get(K)||this.ee(v,K)||this.jt(v,K,Mi.newNoDocument(K,e))}p.Dt&&(t.set(v,p.xt()),p.Nt())}});let o=$r();this.qt.forEach((p,v)=>{let x=!0;v.forEachWhile(K=>{const ee=this.Xt(K);return!ee||2===ee.purpose||(x=!1,!1)}),x&&(o=o.add(p))}),this.Ut.forEach((p,v)=>v.setReadTime(e));const u=new Ho(e,t,this.Kt,this.Ut,o);return this.Ut=ya(),this.qt=Kc(),this.Kt=new De(_n),u}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,t)?u.kt(t,1):u.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new $u,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new De(_n),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||y("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new $u),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Kc(){return new H(vt.comparator)}function pc(){return new H(vt.comparator)}const Ha={asc:"ASCENDING",desc:"DESCENDING"},Bd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class gc{constructor(e,t){this.databaseId=e,this.gt=t}}function zl(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ml(i,e){return i.gt?e.toBase64():e.toUint8Array()}function Gu(i,e){return zl(i,e.toTimestamp())}function _i(i){return we(!!i),mn.fromTimestamp(function(e){const t=No(e);return new kr(t.seconds,t.nanos)}(i))}function bu(i,e){return(t=i,new fr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function mc(i){const e=fr.fromString(i);return we(Eu(e)),e}function wu(i,e){return bu(i.databaseId,e.path)}function Bs(i,e){const t=mc(e);if(t.get(1)!==i.databaseId.projectId)throw new at(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new at(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new vt(Ud(t))}function Du(i,e){return bu(i.databaseId,e)}function Vd(i){const e=mc(i);return 4===e.length?fr.emptyPath():Ud(e)}function ou(i){return new fr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ud(i){return we(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function au(i,e,t){return{name:wu(i,e),fields:t.value.mapValue.fields}}function qc(i,e,t){const o=Bs(i,e.name),u=_i(e.updateTime),p=new Zs({mapValue:{fields:e.fields}}),v=Mi.newFoundDocument(o,u,p);return t&&v.setHasCommittedMutations(),t?v.setHasCommittedMutations():v}function lu(i,e){let t;if(e instanceof ru)t={update:au(i,e.key,e.value)};else if(e instanceof Uu)t={delete:wu(i,e.key)};else if(e instanceof Al)t={update:au(i,e.key,e.data),updateMask:Ja(e.fieldMask)};else{if(!(e instanceof bo))return ne();t={verify:wu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,p){const v=p.transform;if(v instanceof jl)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Il)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Uo)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof pl)return{fieldPath:p.field.canonicalString(),increment:v.yt};throw ne()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Gu(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:ne()),t;var u}function w(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Bi.updateTime(_i(u.updateTime)):void 0!==u.exists?Bi.exists(u.exists):Bi.none():Bi.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(p,v){let x=null;"setToServerValue"in v?(we("REQUEST_TIME"===v.setToServerValue),x=new jl):"appendMissingElements"in v?x=new Il(v.appendMissingElements.values||[]):"removeAllFromArray"in v?x=new Uo(v.removeAllFromArray.values||[]):"increment"in v?x=new pl(p,v.increment):ne();const K=Hr.fromServerFormat(v.fieldPath);return new _u(K,x)}(i,u)):[];var u;if(e.update){const u=Bs(i,e.update.name),p=new Zs({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new Wn((e.updateMask.fieldPaths||[]).map(ee=>Hr.fromServerFormat(ee)));return new Al(u,p,v,t,o)}return new ru(u,p,t,o)}if(e.delete){const u=Bs(i,e.delete);return new Uu(u,t)}if(e.verify){const u=Bs(i,e.verify);return new bo(u,t)}return ne()}function m(i,e){return{documents:[Du(i,e.path)]}}function I(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Du(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Du(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(K){if(0===K.length)return;const ee=K.map(ce=>function(Ue){if("=="===Ue.op){if(dn(Ue.value))return{unaryFilter:{field:yn(Ue.field),op:"IS_NAN"}};if(Ht(Ue.value))return{unaryFilter:{field:yn(Ue.field),op:"IS_NULL"}}}else if("!="===Ue.op){if(dn(Ue.value))return{unaryFilter:{field:yn(Ue.field),op:"IS_NOT_NAN"}};if(Ht(Ue.value))return{unaryFilter:{field:yn(Ue.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yn(Ue.field),op:nn(Ue.op),value:Ue.value}}}(ce));return 1===ee.length?ee[0]:{compositeFilter:{op:"AND",filters:ee}}}(e.filters);u&&(t.structuredQuery.where=u);const p=function(K){if(0!==K.length)return K.map(ee=>{return{field:yn((ce=ee).field),direction:It(ce.dir)};var ce})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const v=(ee=e.limit,i.gt||Ra(ee)?ee:{value:ee});var ee,x,K;return null!==v&&(t.structuredQuery.limit=v),e.startAt&&(t.structuredQuery.startAt={before:(x=e.startAt).inclusive,values:x.position}),e.endAt&&(t.structuredQuery.endAt={before:!(K=e.endAt).inclusive,values:K.position}),t}function Y(i){let e=Vd(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){we(1===o);const ce=t.from[0];ce.allDescendants?u=ce.collectionId:e=e.child(ce.collectionId)}let p=[];t.where&&(p=rt(t.where));let v=[];t.orderBy&&(v=t.orderBy.map(ce=>{return new fl(Zn((Ue=ce).field),function(mt){switch(mt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ue.direction));var Ue}));let x=null;t.limit&&(x=function(ce){let Ue;return Ue="object"==typeof ce?ce.value:ce,Ra(Ue)?null:Ue}(t.limit));let K=null;var ce;t.startAt&&(K=new Bl((ce=t.startAt).values||[],!!ce.before));let ee=null;return t.endAt&&(ee=function(ce){return new Bl(ce.values||[],!ce.before)}(t.endAt)),wf(e,u,v,p,x,"F",K,ee)}function rt(i){return i?void 0!==i.unaryFilter?[$o(i)]:void 0!==i.fieldFilter?[Xn(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>rt(e)).reduce((e,t)=>e.concat(t)):ne():[]}function It(i){return Ha[i]}function nn(i){return Bd[i]}function yn(i){return{fieldPath:i.canonicalString()}}function Zn(i){return Hr.fromServerFormat(i.fieldPath)}function Xn(i){return xo.create(Zn(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(i.fieldFilter.op),i.fieldFilter.value)}function $o(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Zn(i.unaryFilter.field);return xo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Zn(i.unaryFilter.field);return xo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zn(i.unaryFilter.field);return xo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zn(i.unaryFilter.field);return xo.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}function Ja(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Eu(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ta(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=yc(e)),e=_c(i.get(t),e);return yc(e)}function _c(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const p=i.charAt(u);switch(p){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=p}}return t}function yc(i){return i+"\x01\x01"}function xl(i){const e=i.length;if(we(e>=2),2===e)return we("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),fr.emptyPath();const t=e-2,o=[];let u="";for(let p=0;p<e;){const v=i.indexOf("\x01",p);switch((v<0||v>t)&&ne(),i.charAt(v+1)){case"\x01":const x=i.substring(p,v);let K;0===u.length?K=x:(u+=x,K=u,u=""),o.push(K);break;case"\x10":u+=i.substring(p,v),u+="\0";break;case"\x11":u+=i.substring(p,v+1);break;default:ne()}p=v+2}return new fr(o)}const vc=["userId","batchId"];function uu(i,e){return[i,Ta(e)]}function Hd(i,e,t){return[i,Ta(e),t]}const Yc={},Tf=["prefixPath","collectionGroup","readTime","documentId"],Rp=["prefixPath","collectionGroup","documentId"],Mh=["collectionGroup","readTime","prefixPath","documentId"],If=["canonicalId","targetId"],Sf=["targetId","path"],Af=["path","targetId"],Pp=["collectionId","parent"],Nf=["indexId","uid"],kp=["uid","sequenceNumber"],Mf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xf=["indexId","uid","orderedDocumentKey"],Of=["userId","collectionPath","documentId"],$d=["userId","collectionPath","largestBatchId"],fm=["userId","collectionGroup","largestBatchId"],Fp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pm=[...Fp,"documentOverlays"],Gd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lp=Gd,gm=[...Lp,"indexConfiguration","indexState","indexEntries"];class Rf extends wa{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Ia(i,e){const t=Le(i);return Ao.O(t.ie,e)}class bc{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(e.key)&&nu(p,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Ya(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Ya(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Hl();return this.mutations.forEach(u=>{const p=e.get(u.key),v=p.overlayedDocument;let x=this.applyToLocalView(v,p.mutatedFields);x=t.has(u.key)?null:x;const K=Gc(v,x);null!==K&&o.set(u.key,K),v.isValidDocument()||v.convertToNoDocument(mn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$r())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(t,o)=>zc(t,o))&&vo(this.baseMutations,e.baseMutations,(t,o)=>zc(t,o))}}class Pf{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){we(e.mutations.length===o.length);let u=iu;const p=e.mutations;for(let v=0;v<p.length;v++)u=u.insert(p[v].key,o[v].version);return new Pf(e,t,o,u)}}class kf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zu{constructor(e,t,o,u,p=mn.min(),v=mn.min(),x=Jn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=x}withSequenceNumber(e){return new zu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ff{constructor(e){this.re=e}}function Vp(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Sa(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:wu(u=i.re,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:zl(u,p.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Cu(e.version)};else{if(!e.isUnknownDocument())return ne();o.unknownDocument={path:t.path.toArray(),version:Cu(e.version)}}var u,p;return o}function Sa(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Cu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wu(i){const e=new kr(i.seconds,i.nanoseconds);return mn.fromTimestamp(e)}function Wl(i,e){const t=(e.baseMutations||[]).map(p=>w(i.re,p));for(let p=0;p<e.mutations.length-1;++p){const v=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(v.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const o=e.mutations.map(p=>w(i.re,p)),u=kr.fromMillis(e.localWriteTimeMs);return new bc(e.batchId,u,t,o)}function oa(i){const e=Wu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Wu(i.lastLimboFreeSnapshotVersion):mn.min();let o;var u;return void 0!==i.query.documents?(we(1===(u=i.query).documents.length),o=Ba(Cl(Vd(u.documents[0])))):o=Ba(Y(i.query)),new zu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Jn.fromBase64String(i.resumeToken))}function Qc(i,e){const t=Cu(e.snapshotVersion),o=Cu(e.lastLimboFreeSnapshotVersion);let u;u=Fu(e.target)?m(i.re,e.target):I(i.re,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pa(e.target),readTime:t,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function xh(i){const e=Y({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?mu(e,e.limit,"L"):e}function Lf(i,e){return new kf(e.largestBatchId,w(i.re,e.overlayMutation))}function Up(i,e){const t=e.path.lastSegment();return[i,Ta(e.path.popLast()),t]}function Bf(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Cu(o.readTime),documentKey:Ta(o.documentKey.path),largestBatchId:o.largestBatchId}}class mm{getBundleMetadata(e,t){return Vf(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Wu(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Vf(e).put({bundleId:(o=t).id,createTime:Cu(_i(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Oh(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:xh(u.bundledQuery),readTime:Wu(u.readTime)};var u})}saveNamedQuery(e,t){return Oh(e).put({name:(o=t).name,readTime:Cu(_i(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Vf(i){return Ia(i,"bundles")}function Oh(i){return Ia(i,"namedQueries")}class Jc{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Jc(e,t.uid||"")}getOverlay(e,t){return Xc(e).get(Up(this.userId,t)).next(o=>o?Lf(this.It,o):null)}getOverlays(e,t){const o=Ca();return _t.forEach(t,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((p,v)=>{const x=new kf(t,v);u.push(this.ue(e,x))}),_t.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(v=>u.add(Ta(v.getCollectionPath())));const p=[];return u.forEach(v=>{const x=IDBKeyRange.bound([this.userId,v,o],[this.userId,v,o+1],!1,!0);p.push(Xc(e).Y("collectionPathOverlayIndex",x))}),_t.waitFor(p)}getOverlaysForCollection(e,t,o){const u=Ca(),p=Ta(t),v=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return Xc(e).W("collectionPathOverlayIndex",v).next(x=>{for(const K of x){const ee=Lf(this.It,K);u.set(ee.getKey(),ee)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const p=Ca();let v;const x=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Xc(e).Z({index:"collectionGroupOverlayIndex",range:x},(K,ee,ce)=>{const Ue=Lf(this.It,ee);p.size()<u||Ue.largestBatchId===v?(p.set(Ue.getKey(),Ue),v=Ue.largestBatchId):ce.done()}).next(()=>p)}ue(e,t){return Xc(e).put(function(o,u,p){const[v,x,K]=Up(u,p.mutation.key);return{userId:u,collectionPath:x,documentId:K,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:lu(o.re,p.mutation)}}(this.It,this.userId,t))}}function Xc(i){return Ia(i,"documentOverlays")}class h{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe($i(e.integerValue));else if("doubleValue"in e){const o=$i(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),Fl(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Fs(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?Fr(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ne()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const u of Object.keys(o))this._e(u,t),this.ae(o[u],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const u of o)this.ae(u,t)}ge(e,t){this.le(t,37),vt.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function _(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function c(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const p=_(255&t[u]);if(o+=p,8!==p)break}return o}(i);return Math.ceil(e/8)}h.Te=new h;class b{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=t.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=t.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const t=this.Ce(e),o=c(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Ne(e){const t=this.Ce(e),o=c(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(u){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,u,!1),new Uint8Array(p.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class M{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class z{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Ee{constructor(){this.Be=new b,this.Le=new M(this.Be),this.Ue=new z(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Ye{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Ye(this.indexId,this.documentKey,this.arrayValue,o)}}function Ze(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Et(i.arrayValue,e.arrayValue),0!==t?t:(t=Et(i.directionalValue,e.directionalValue),0!==t?t:vt.comparator(i.documentKey,e.documentKey)))}function Et(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class kt{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=Sn(e);if(void 0!==t&&!this.ze(t))return!1;const o=Qn(e);let u=0,p=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.je){const v=o[u];if(!this.He(this.je,v)||!this.Je(this.Ge[p++],v))return!1;++u}for(;u<o.length;++u){const v=o[u];if(p>=this.Ge.length||!this.Je(this.Ge[p++],v))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Nn{constructor(){this.Ye=new an}addToCollectionParentIndex(e,t){return this.Ye.add(t),_t.resolve()}getCollectionParents(e,t){return _t.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return _t.resolve()}deleteFieldIndex(e,t){return _t.resolve()}getDocumentsMatchingTarget(e,t){return _t.resolve(null)}getIndexType(e,t){return _t.resolve(0)}getFieldIndexes(e,t){return _t.resolve([])}getNextCollectionGroupToUpdate(e){return _t.resolve(null)}getMinOffset(e,t){return _t.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,t){return _t.resolve(Bo.min())}updateCollectionGroup(e,t,o){return _t.resolve()}updateIndexEntries(e,t){return _t.resolve()}}class an{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new De(fr.comparator),p=!u.has(o);return this.index[t]=u.add(o),p}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new De(fr.comparator)).toArray()}}const Fn=new Uint8Array(0);class xi{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new an,this.Ze=new Qa(o=>Pa(o),(o,u)=>Ll(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const p={collectionId:o,parent:Ta(u)};return or(e).put(p)}return _t.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[Zo(t),""],!1,!0);return or(e).W(u).next(p=>{for(const v of p){if(v.collectionId!==t)break;o.push(xl(v.parent))}return o})}addFieldIndex(e,t){const o=ci(e),u={indexId:(v=t).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(x=>[x.fieldPath.canonicalString(),x.kind])};var v;delete u.indexId;const p=o.add(u);if(t.indexState){const v=Gr(e);return p.next(x=>{v.put(Bf(x,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return p.next()}deleteFieldIndex(e,t){const o=ci(e),u=Gr(e),p=Lr(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Lr(e);let u=!0;const p=new Map;return _t.forEach(this.tn(t),v=>this.en(e,v).next(x=>{u&&(u=!!x),p.set(v,x)})).next(()=>{if(u){let v=$r();const x=[];return _t.forEach(p,(K,ee)=>{var ce;y("IndexedDbIndexManager",`Using index ${ce=K,`id=${ce.indexId}|cg=${ce.collectionGroup}|f=${ce.fields.map(Yi=>`${Yi.fieldPath}:${Yi.kind}`).join(",")}`} to execute ${Pa(t)}`);const Ue=function(Yi,Oo){const rs=Sn(Oo);if(void 0===rs)return null;for(const vs of lc(Yi,rs.fieldPath))switch(vs.op){case"array-contains-any":return vs.value.arrayValue.values||[];case"array-contains":return[vs.value]}return null}(ee,K),mt=function(Yi,Oo){const rs=new Map;for(const vs of Qn(Oo))for(const Na of lc(Yi,vs.fieldPath))switch(Na.op){case"==":case"in":rs.set(vs.fieldPath.canonicalString(),Na.value);break;case"not-in":case"!=":return rs.set(vs.fieldPath.canonicalString(),Na.value),Array.from(rs.values())}return null}(ee,K),Ft=function(Yi,Oo){const rs=[];let vs=!0;for(const Na of Qn(Oo)){const sc=0===Na.kind?Dd(Yi,Na.fieldPath,Yi.startAt):Fc(Yi,Na.fieldPath,Yi.startAt);rs.push(sc.value),vs&&(vs=sc.inclusive)}return new Bl(rs,vs)}(ee,K),Vt=function(Yi,Oo){const rs=[];let vs=!0;for(const Na of Qn(Oo)){const sc=0===Na.kind?Fc(Yi,Na.fieldPath,Yi.endAt):Dd(Yi,Na.fieldPath,Yi.endAt);rs.push(sc.value),vs&&(vs=sc.inclusive)}return new Bl(rs,vs)}(ee,K),gn=this.nn(K,ee,Ft),jn=this.nn(K,ee,Vt),Zi=this.sn(K,ee,mt),Js=this.rn(K.indexId,Ue,gn,Ft.inclusive,jn,Vt.inclusive,Zi);return _t.forEach(Js,Yi=>o.J(Yi,t.limit).next(Oo=>{Oo.forEach(rs=>{const vs=vt.fromSegments(rs.documentKey);v.has(vs)||(v=v.add(vs),x.push(vs))})}))}).next(()=>x)}return _t.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,u,p,v,x){const K=(null!=t?t.length:1)*Math.max(o.length,p.length),ee=K/(null!=t?t.length:1),ce=[];for(let Ue=0;Ue<K;++Ue){const mt=t?this.on(t[Ue/ee]):Fn,Ft=this.un(e,mt,o[Ue%ee],u),Vt=this.cn(e,mt,p[Ue%ee],v),gn=x.map(jn=>this.un(e,mt,jn,!0));ce.push(...this.createRange(Ft,Vt,gn))}return ce}un(e,t,o,u){const p=new Ye(e,vt.empty(),t,o);return u?p:p.Ke()}cn(e,t,o,u){const p=new Ye(e,vt.empty(),t,o);return u?p.Ke():p}en(e,t){const o=new kt(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(p=>{let v=null;for(const x of p)o.We(x)&&(!v||x.fields.length>v.fields.length)&&(v=x);return v})}getIndexType(e,t){let o=2;return _t.forEach(this.tn(t),u=>this.en(e,u).next(p=>{p?0!==o&&p.fields.length<function(v){let x=new De(Hr.comparator),K=!1;for(const ee of v.filters){const ce=ee;ce.field.isKeyField()||("array-contains"===ce.op||"array-contains-any"===ce.op?K=!0:x=x.add(ce.field))}for(const ee of v.orderBy)ee.field.isKeyField()||(x=x.add(ee.field));return x.size+(K?1:0)}(u)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new Ee;for(const u of Qn(e)){const p=t.data.field(u.fieldPath);if(null==p)return null;const v=o.qe(u.kind);h.Te.ce(p,v)}return o.$e()}on(e){const t=new Ee;return h.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new Ee;return h.Te.ce(_e(this.databaseId,t),o.qe(function(u){const p=Qn(u);return 0===p.length?0:p[p.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let u=[];u.push(new Ee);let p=0;for(const v of Qn(e)){const x=o[p++];for(const K of u)if(this.ln(t,v.fieldPath)&&bt(x))u=this.fn(u,v,x);else{const ee=K.qe(v.kind);h.Te.ce(x,ee)}}return this.dn(u)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const u=[...e],p=[];for(const v of o.arrayValue.values||[])for(const x of u){const K=new Ee;K.seed(x.$e()),h.Te.ce(v,K.qe(t.kind)),p.push(K)}return p}ln(e,t){return!!e.filters.find(o=>o instanceof xo&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=ci(e),u=Gr(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(p=>{const v=[];return _t.forEach(p,x=>u.get([x.indexId,this.uid]).next(K=>{v.push(function(ee,ce){const Ue=ce?new So(ce.sequenceNumber,new Bo(Wu(ce.readTime),new vt(xl(ce.documentKey)),ce.largestBatchId)):So.empty(),mt=ee.fields.map(([Ft,Vt])=>new _s(Hr.fromServerFormat(Ft),Vt));return new In(ee.indexId,ee.collectionGroup,mt,Ue)}(x,K))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const p=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:_n(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=ci(e),p=Gr(e);return this._n(e).next(v=>u.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(x=>_t.forEach(x,K=>p.put(Bf(K.indexId,this.user,v,o)))))}updateIndexEntries(e,t){const o=new Map;return _t.forEach(t,(u,p)=>{const v=o.get(u.collectionGroup);return(v?_t.resolve(v):this.getFieldIndexes(e,u.collectionGroup)).next(x=>(o.set(u.collectionGroup,x),_t.forEach(x,K=>this.wn(e,u,K).next(ee=>{const ce=this.mn(p,K);return ee.isEqual(ce)?_t.resolve():this.gn(e,p,K,ee,ce)}))))})}yn(e,t,o,u){return Lr(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,u){return Lr(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const u=Lr(e);let p=new De(Ze);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(v,x)=>{p=p.add(new Ye(o.indexId,t,x.arrayValue,x.directionalValue))}).next(()=>p)}mn(e,t){let o=new De(Ze);const u=this.an(t,e);if(null==u)return o;const p=Sn(t);if(null!=p){const v=e.data.field(p.fieldPath);if(bt(v))for(const x of v.arrayValue.values||[])o=o.add(new Ye(t.indexId,e.key,this.on(x),u))}else o=o.add(new Ye(t.indexId,e.key,Fn,u));return o}gn(e,t,o,u,p){y("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const v=[];return function(x,K,ee,ce,Ue){const mt=x.getIterator(),Ft=K.getIterator();let Vt=tn(mt),gn=tn(Ft);for(;Vt||gn;){let jn=!1,Zi=!1;if(Vt&&gn){const Js=ee(Vt,gn);Js<0?Zi=!0:Js>0&&(jn=!0)}else null!=Vt?Zi=!0:jn=!0;jn?(ce(gn),gn=tn(Ft)):Zi?(Ue(Vt),Vt=tn(mt)):(Vt=tn(mt),gn=tn(Ft))}}(u,p,Ze,x=>{v.push(this.yn(e,t,o,x))},x=>{v.push(this.pn(e,t,o,x))}),_t.waitFor(v)}_n(e){let t=1;return Gr(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,p)=>{p.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((v,x)=>Ze(v,x)).filter((v,x,K)=>!x||0!==Ze(v,K[x-1]));const u=[];u.push(e);for(const v of o){const x=Ze(v,e),K=Ze(v,t);if(0===x)u[0]=e.Ke();else if(x>0&&K<0)u.push(v),u.push(v.Ke());else if(K>0)break}u.push(t);const p=[];for(let v=0;v<u.length;v+=2)p.push(IDBKeyRange.bound([u[v].indexId,this.uid,u[v].arrayValue,u[v].directionalValue,Fn,[]],[u[v+1].indexId,this.uid,u[v+1].arrayValue,u[v+1].directionalValue,Fn,[]]));return p}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Qs)}getMinOffset(e,t){return _t.mapArray(this.tn(t),o=>this.en(e,o).next(u=>u||ne())).next(Qs)}}function or(i){return Ia(i,"collectionParents")}function Lr(i){return Ia(i,"indexEntries")}function ci(i){return Ia(i,"indexConfiguration")}function Gr(i){return Ia(i,"indexState")}function Qs(i){we(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;ao(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new Bo(e.readTime,e.documentKey,t)}const Oi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vr{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ei(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),p=[],v=IDBKeyRange.only(t.batchId);let x=0;const K=o.Z({range:v},(ce,Ue,mt)=>(x++,mt.delete()));p.push(K.next(()=>{we(1===x)}));const ee=[];for(const ce of t.mutations){const Ue=Hd(e,ce.key.path,t.batchId);p.push(u.delete(Ue)),ee.push(ce.key)}return _t.waitFor(p).next(()=>ee)}function us(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw ne();e=i.noDocument}return JSON.stringify(e).length}vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(41943040,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);class cs{constructor(e,t,o,u){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=u,this.In={}}static oe(e,t,o,u){we(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new cs(p,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ss(e).Z({index:"userMutationsIndex",range:o},(u,p,v)=>{t=!1,v.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const p=Vs(e),v=Ss(e);return v.add({}).next(x=>{we("number"==typeof x);const K=new bc(x,t,o,u),ee=function(mt,Ft,Vt){const gn=Vt.baseMutations.map(Zi=>lu(mt.re,Zi)),jn=Vt.mutations.map(Zi=>lu(mt.re,Zi));return{userId:Ft,batchId:Vt.batchId,localWriteTimeMs:Vt.localWriteTime.toMillis(),baseMutations:gn,mutations:jn}}(this.It,this.userId,K),ce=[];let Ue=new De((mt,Ft)=>_n(mt.canonicalString(),Ft.canonicalString()));for(const mt of u){const Ft=Hd(this.userId,mt.key.path,x);Ue=Ue.add(mt.key.path.popLast()),ce.push(v.put(ee)),ce.push(p.put(Ft,Yc))}return Ue.forEach(mt=>{ce.push(this.indexManager.addToCollectionParentIndex(e,mt))}),e.addOnCommittedListener(()=>{this.In[x]=K.keys()}),_t.waitFor(ce).next(()=>K)})}lookupMutationBatch(e,t){return Ss(e).get(t).next(o=>o?(we(o.userId===this.userId),Wl(this.It,o)):null)}Tn(e,t){return this.In[t]?_t.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.In[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return Ss(e).Z({index:"userMutationsIndex",range:u},(v,x,K)=>{x.userId===this.userId&&(we(x.batchId>=o),p=Wl(this.It,x)),K.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Ss(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,p,v)=>{o=p.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ss(e).W("userMutationsIndex",t).next(o=>o.map(u=>Wl(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=uu(this.userId,t.path),u=IDBKeyRange.lowerBound(o),p=[];return Vs(e).Z({range:u},(v,x,K)=>{const[ee,ce,Ue]=v,mt=xl(ce);if(ee===this.userId&&t.path.isEqual(mt))return Ss(e).get(Ue).next(Ft=>{if(!Ft)throw ne();we(Ft.userId===this.userId),p.push(Wl(this.It,Ft))});K.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new De(_n);const u=[];return t.forEach(p=>{const v=uu(this.userId,p.path),x=IDBKeyRange.lowerBound(v),K=Vs(e).Z({range:x},(ee,ce,Ue)=>{const[mt,Ft,Vt]=ee,gn=xl(Ft);mt===this.userId&&p.path.isEqual(gn)?o=o.add(Vt):Ue.done()});u.push(K)}),_t.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,p=uu(this.userId,o),v=IDBKeyRange.lowerBound(p);let x=new De(_n);return Vs(e).Z({range:v},(K,ee,ce)=>{const[Ue,mt,Ft]=K,Vt=xl(mt);Ue===this.userId&&o.isPrefixOf(Vt)?Vt.length===u&&(x=x.add(Ft)):ce.done()}).next(()=>this.En(e,x))}En(e,t){const o=[],u=[];return t.forEach(p=>{u.push(Ss(e).get(p).next(v=>{if(null===v)throw ne();we(v.userId===this.userId),o.push(Wl(this.It,v))}))}),_t.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return Ei(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),_t.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return _t.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Vs(e).Z({range:o},(p,v,x)=>{if(p[0]===this.userId){const K=xl(p[1]);u.push(K)}else x.done()}).next(()=>{we(0===u.length)})})}containsKey(e,t){return lo(e,this.userId,t)}Rn(e){return _l(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function lo(i,e,t){const o=uu(e,t.path),u=o[1],p=IDBKeyRange.lowerBound(o);let v=!1;return Vs(i).Z({range:p,X:!0},(x,K,ee)=>{const[ce,Ue,mt]=x;ce===e&&Ue===u&&(v=!0),ee.done()}).next(()=>v)}function Ss(i){return Ia(i,"mutations")}function Vs(i){return Ia(i,"documentMutations")}function _l(i){return Ia(i,"mutationQueues")}class wo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new wo(0)}static vn(){return new wo(-1)}}class Ku{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new wo(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>mn.fromTimestamp(new kr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Sn(e,u)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>yl(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(we(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let u=0;const p=[];return yl(e).Z((v,x)=>{const K=oa(x);K.sequenceNumber<=t&&null===o.get(K.targetId)&&(u++,p.push(this.removeTargetData(e,K)))}).next(()=>_t.waitFor(p)).next(()=>u)}forEachTarget(e,t){return yl(e).Z((o,u)=>{const p=oa(u);t(p)})}Vn(e){return $a(e).get("targetGlobalKey").next(t=>(we(null!==t),t))}Sn(e,t){return $a(e).put("targetGlobalKey",t)}Dn(e,t){return yl(e).put(Qc(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Pa(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return yl(e).Z({range:u,index:"queryTargetsIndex"},(v,x,K)=>{const ee=oa(x);Ll(t,ee.target)&&(p=ee,K.done())}).next(()=>p)}addMatchingKeys(e,t,o){const u=[],p=va(e);return t.forEach(v=>{const x=Ta(v.path);u.push(p.put({targetId:o,path:x})),u.push(this.referenceDelegate.addReference(e,o,v))}),_t.waitFor(u)}removeMatchingKeys(e,t,o){const u=va(e);return _t.forEach(t,p=>{const v=Ta(p.path);return _t.waitFor([u.delete([o,v]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,t){const o=va(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=va(e);let p=$r();return u.Z({range:o,X:!0},(v,x,K)=>{const ee=xl(v[1]),ce=new vt(ee);p=p.add(ce)}).next(()=>p)}containsKey(e,t){const o=Ta(t.path),u=IDBKeyRange.bound([o],[Zo(o)],!1,!0);let p=0;return va(e).Z({index:"documentTargetsIndex",X:!0,range:u},([v,x],K,ee)=>{0!==v&&(p++,ee.done())}).next(()=>p>0)}se(e,t){return yl(e).get(t).next(o=>o?oa(o):null)}}function yl(i){return Ia(i,"targets")}function $a(i){return Ia(i,"targetGlobal")}function va(i){return Ia(i,"targetDocuments")}function ed([i,e],[t,o]){const u=_n(i,t);return 0===u?_n(e,o):u}class qu{constructor(e){this.xn=e,this.buffer=new De(ed),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();ed(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class td{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;y("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ze.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Da(o)?y("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ks(o)}yield t.Fn(3e5)}))}}class nd{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return _t.resolve(T.at);const o=new qu(t);return this.$n.forEachTarget(e,u=>o.Mn(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.Mn(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(y("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(Oi)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(y("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Oi):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,u,p,v,x,K,ee;const ce=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ue=>(Ue>this.params.maximumSequenceNumbersToCollect?(y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ue}`),u=this.params.maximumSequenceNumbersToCollect):u=Ue,v=Date.now(),this.nthSequenceNumber(e,u))).next(Ue=>(o=Ue,x=Date.now(),this.removeTargets(e,o,t))).next(Ue=>(p=Ue,K=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ue=>(ee=Date.now(),qo()<=Ce.in.DEBUG&&y("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-ce}ms\n\tDetermined least recently used ${u} in `+(x-v)+`ms\n\tRemoved ${p} targets in `+(K-x)+`ms\n\tRemoved ${Ue} documents in `+(ee-K)+`ms\nTotal Duration: ${ee-ce}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:Ue})))}}class wc{constructor(e,t){this.db=e,this.garbageCollector=new nd(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,u)=>t(u))}addReference(e,t,o){return cu(e,o)}removeReference(e,t,o){return cu(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return cu(e,t)}Gn(e,t){return function(o,u){let p=!1;return _l(o).tt(v=>lo(o,v,u).next(x=>(x&&(p=!0),_t.resolve(!x)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.Kn(e,(v,x)=>{if(x<=t){const K=this.Gn(e,v).next(ee=>{if(!ee)return p++,o.getEntry(e,v).next(()=>(o.removeEntry(v,mn.min()),va(e).delete([0,Ta(v.path)])))});u.push(K)}}).next(()=>_t.waitFor(u)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return cu(e,t)}Kn(e,t){const o=va(e);let u,p=T.at;return o.Z({index:"documentTargetsIndex"},([v,x],{path:K,sequenceNumber:ee})=>{0===v?(p!==T.at&&t(new vt(xl(u)),p),p=ee,u=K):p=T.at}).next(()=>{p!==T.at&&t(new vt(xl(u)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cu(i,e){return va(i).put((o=i.currentSequenceNumber,{targetId:0,path:Ta(e.path),sequenceNumber:o}));var o}class Zu{constructor(){this.changes=new Qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?_t.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tu{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Kl(e).put(o)}removeEntry(e,t,o){return Kl(e).delete(function(u,p){const v=u.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],Sa(p),v[v.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=Mi.newInvalidDocument(t);return Kl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Dc(t))},(u,p)=>{o=this.jn(t,p)}).next(()=>o)}Wn(e,t){let o={size:0,document:Mi.newInvalidDocument(t)};return Kl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Dc(t))},(u,p)=>{o={document:this.jn(t,p),size:us(p)}}).next(()=>o)}getEntries(e,t){let o=ya();return this.zn(e,t,(u,p)=>{const v=this.jn(u,p);o=o.insert(u,v)}).next(()=>o)}Hn(e,t){let o=ya(),u=new H(vt.comparator);return this.zn(e,t,(p,v)=>{const x=this.jn(p,v);o=o.insert(p,x),u=u.insert(p,us(v))}).next(()=>({documents:o,Jn:u}))}zn(e,t,o){if(t.isEmpty())return _t.resolve();let u=new De(jp);t.forEach(K=>u=u.add(K));const p=IDBKeyRange.bound(Dc(u.first()),Dc(u.last())),v=u.getIterator();let x=v.getNext();return Kl(e).Z({index:"documentKeyIndex",range:p},(K,ee,ce)=>{const Ue=vt.fromSegments([...ee.prefixPath,ee.collectionGroup,ee.documentId]);for(;x&&jp(x,Ue)<0;)o(x,null),x=v.getNext();x&&x.isEqual(Ue)&&(o(x,ee),x=v.hasNext()?v.getNext():null),x?ce.j(Dc(x)):ce.done()}).next(()=>{for(;x;)o(x,null),x=v.hasNext()?v.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),Sa(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],p=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kl(e).W(IDBKeyRange.bound(u,p,!0)).next(v=>{let x=ya();for(const K of v){const ee=this.jn(vt.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);x=x.insert(ee.key,ee)}return x})}getAllFromCollectionGroup(e,t,o,u){let p=ya();const v=zd(t,o),x=zd(t,Bo.max());return Kl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,x,!0)},(K,ee,ce)=>{const Ue=this.jn(vt.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);p=p.insert(Ue.key,Ue),p.size===u&&ce.done()}).next(()=>p)}newChangeBuffer(e){return new rd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Ga(e).get("remoteDocumentGlobalKey").next(t=>(we(!!t),t))}Qn(e,t){return Ga(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function Bp(i,e){let t;if(e.document)t=qc(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=vt.fromSegments(e.noDocument.path),u=Wu(e.noDocument.readTime);t=Mi.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ne();{const o=vt.fromSegments(e.unknownDocument.path),u=Wu(e.unknownDocument.version);t=Mi.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new kr(o[0],o[1]);return mn.fromTimestamp(u)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(mn.min()))return o}return Mi.newInvalidDocument(e)}}function Yu(i){return new Tu(i)}class rd extends Zu{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Qa(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new De((p,v)=>_n(p.canonicalString(),v.canonicalString()));return this.changes.forEach((p,v)=>{const x=this.Xn.get(p);if(t.push(this.Yn.removeEntry(e,p,x.readTime)),v.isValidDocument()){const K=Vp(this.Yn.It,v);u=u.add(p.path.popLast()),o+=us(K)-x.size,t.push(this.Yn.addEntry(e,p,K))}else if(o-=x.size,this.trackRemovals){const K=Vp(this.Yn.It,v.convertToNoDocument(mn.min()));t.push(this.Yn.addEntry(e,p,K))}}),u.forEach(p=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,p))}),t.push(this.Yn.updateMetadata(e,o)),_t.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:u})=>(u.forEach((p,v)=>{this.Xn.set(p,{size:v,readTime:o.get(p).readTime})}),o))}}function Ga(i){return Ia(i,"remoteDocumentGlobal")}function Kl(i){return Ia(i,"remoteDocumentsV14")}function Dc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zd(i,e){const t=e.documentKey.path.toArray();return[i,Sa(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function jp(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let p=0;p<t.length-2&&p<o.length-2;++p)if(u=_n(t[p],o[p]),u)return u;return u=_n(t.length,o.length),u||(u=_n(t[t.length-2],o[o.length-2]),u||_n(t[t.length-1],o[o.length-1]))}class id{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Uf{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.getBaseDocument(e,t,o))).next(u=>(null!==o&&Ya(o.mutation,u,Wn.empty(),kr.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,$r()).next(()=>o))}getLocalViewOfDocuments(e,t,o=$r()){const u=Ca();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(p=>{let v=vu();return p.forEach((x,K)=>{v=v.insert(x,K.overlayedDocument)}),v}))}getOverlayedDocuments(e,t){const o=Ca();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,$r()))}populateOverlays(e,t,o){const u=[];return o.forEach(p=>{t.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(e,u).next(p=>{p.forEach((v,x)=>{t.set(v,x)})})}computeViews(e,t,o,u){let p=ya();const v=$l(),x=$l();return t.forEach((K,ee)=>{const ce=o.get(ee.key);u.has(ee.key)&&(void 0===ce||ce.mutation instanceof Al)?p=p.insert(ee.key,ee):void 0!==ce&&(v.set(ee.key,ce.mutation.getFieldMask()),Ya(ce.mutation,ee,ce.mutation.getFieldMask(),kr.now()))}),this.recalculateAndSaveOverlays(e,p).next(K=>(K.forEach((ee,ce)=>v.set(ee,ce)),t.forEach((ee,ce)=>{var Ue;return x.set(ee,new id(ce,null!==(Ue=v.get(ee))&&void 0!==Ue?Ue:null))}),x))}recalculateAndSaveOverlays(e,t){const o=$l();let u=new H((v,x)=>v-x),p=$r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(v=>{for(const x of v)x.keys().forEach(K=>{const ee=t.get(K);if(null===ee)return;let ce=o.get(K)||Wn.empty();ce=x.applyToLocalView(ee,ce),o.set(K,ce);const Ue=(u.get(x.batchId)||$r()).add(K);u=u.insert(x.batchId,Ue)})}).next(()=>{const v=[],x=u.getReverseIterator();for(;x.hasNext();){const K=x.getNext(),ee=K.key,ce=K.value,Ue=Hl();ce.forEach(mt=>{if(!p.has(mt)){const Ft=Gc(t.get(mt),o.get(mt));null!==Ft&&Ue.set(mt,Ft),p=p.add(mt)}}),v.push(this.documentOverlayCache.saveOverlays(e,ee,Ue))}return _t.waitFor(v)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return vt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Uc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(p=>{const v=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-p.size):_t.resolve(Ca());let x=-1,K=p;return v.next(ee=>_t.forEach(ee,(ce,Ue)=>(x<Ue.largestBatchId&&(x=Ue.largestBatchId),p.get(ce)?_t.resolve():this.getBaseDocument(e,ce,Ue).next(mt=>{K=K.insert(ce,mt)}))).next(()=>this.populateOverlays(e,ee,p)).next(()=>this.computeViews(e,K,ee,$r())).next(ce=>({batchId:x,changes:Fd(ce)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new vt(t)).next(o=>{let u=vu();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let p=vu();return this.indexManager.getCollectionParents(e,u).next(v=>_t.forEach(v,x=>{const K=(ee=t,ce=x.child(u),new Vl(ce,null,ee.explicitOrderBy.slice(),ee.filters.slice(),ee.limit,ee.limitType,ee.startAt,ee.endAt));var ee,ce;return this.getDocumentsMatchingCollectionQuery(e,K,o).next(ee=>{ee.forEach((ce,Ue)=>{p=p.insert(ce,Ue)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(p=>(u=p,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(p=>{p.forEach((x,K)=>{const ee=K.getKey();null===u.get(ee)&&(u=u.insert(ee,Mi.newInvalidDocument(ee)))});let v=vu();return u.forEach((x,K)=>{const ee=p.get(x);void 0!==ee&&Ya(ee.mutation,K,Wn.empty(),kr.now()),qa(t,K)&&(v=v.insert(x,K))}),v})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):_t.resolve(Mi.newInvalidDocument(t))}}class jf{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return _t.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:_i(o.createTime)}),_t.resolve()}getNamedQuery(e,t){return _t.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:xh(o.bundledQuery),readTime:_i(o.readTime)}),_t.resolve();var o}}class Rh{constructor(){this.overlays=new H(vt.comparator),this.es=new Map}getOverlay(e,t){return _t.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ca();return _t.forEach(t,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,p)=>{this.ue(e,t,p)}),_t.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.es.delete(o)),_t.resolve()}getOverlaysForCollection(e,t,o){const u=Ca(),p=t.length+1,v=new vt(t.child("")),x=this.overlays.getIteratorFrom(v);for(;x.hasNext();){const K=x.getNext().value,ee=K.getKey();if(!t.isPrefixOf(ee.path))break;ee.path.length===p&&K.largestBatchId>o&&u.set(K.getKey(),K)}return _t.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let p=new H((ee,ce)=>ee-ce);const v=this.overlays.getIterator();for(;v.hasNext();){const ee=v.getNext().value;if(ee.getKey().getCollectionGroup()===t&&ee.largestBatchId>o){let ce=p.get(ee.largestBatchId);null===ce&&(ce=Ca(),p=p.insert(ee.largestBatchId,ce)),ce.set(ee.getKey(),ee)}}const x=Ca(),K=p.getIterator();for(;K.hasNext()&&(K.getNext().value.forEach((ee,ce)=>x.set(ee,ce)),!(x.size()>=u)););return _t.resolve(x)}ue(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const v=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new kf(t,o));let p=this.es.get(t);void 0===p&&(p=$r(),this.es.set(t,p)),this.es.set(t,p.add(o.key))}}class sd{constructor(){this.ns=new De(Qo.ss),this.rs=new De(Qo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new Qo(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new Qo(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new vt(new fr([])),o=new Qo(t,e),u=new Qo(t,e+1),p=[];return this.rs.forEachInRange([o,u],v=>{this.cs(v),p.push(v.key)}),p}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new vt(new fr([])),o=new Qo(t,e),u=new Qo(t,e+1);let p=$r();return this.rs.forEachInRange([o,u],v=>{p=p.add(v.key)}),p}containsKey(e){const t=new Qo(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Qo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return vt.comparator(e.key,t.key)||_n(e._s,t._s)}static os(e,t){return _n(e._s,t._s)||vt.comparator(e.key,t.key)}}class Hf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new De(Qo.ss)}checkEmpty(e){return _t.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const p=this.ws;this.ws++;const v=new bc(p,t,o,u);this.mutationQueue.push(v);for(const x of u)this.gs=this.gs.add(new Qo(x.key,p)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return _t.resolve(v)}lookupMutationBatch(e,t){return _t.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),p=u<0?0:u;return _t.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Qo(t,0),u=new Qo(t,Number.POSITIVE_INFINITY),p=[];return this.gs.forEachInRange([o,u],v=>{const x=this.ys(v._s);p.push(x)}),_t.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new De(_n);return t.forEach(u=>{const p=new Qo(u,0),v=new Qo(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([p,v],x=>{o=o.add(x._s)})}),_t.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let p=o;vt.isDocumentKey(p)||(p=p.child(""));const v=new Qo(new vt(p),0);let x=new De(_n);return this.gs.forEachWhile(K=>{const ee=K.key.path;return!!o.isPrefixOf(ee)&&(ee.length===u&&(x=x.add(K._s)),!0)},v),_t.resolve(this.Is(x))}Is(e){const t=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){we(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return _t.forEach(t.mutations,u=>{const p=new Qo(u.key,t.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new Qo(t,0),u=this.gs.firstAfterOrEqual(o);return _t.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return _t.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ql{constructor(e){this.Es=e,this.docs=new H(vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),p=u?u.size:0,v=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:v}),this.size+=v-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return _t.resolve(o?o.document.mutableCopy():Mi.newInvalidDocument(t))}getEntries(e,t){let o=ya();return t.forEach(u=>{const p=this.docs.get(u);o=o.insert(u,p?p.document.mutableCopy():Mi.newInvalidDocument(u))}),_t.resolve(o)}getAllFromCollection(e,t,o){let u=ya();const p=new vt(t.child("")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:x,value:{document:K}}=v.getNext();if(!t.isPrefixOf(x.path))break;x.path.length>t.length+1||ao(Pl(K),o)<=0||(u=u.insert(K.key,K.mutableCopy()))}return _t.resolve(u)}getAllFromCollectionGroup(e,t,o,u){ne()}As(e,t){return _t.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Qu(this)}getSize(e){return _t.resolve(this.size)}}class Qu extends Zu{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),_t.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Ph{constructor(e){this.persistence=e,this.Rs=new Qa(t=>Pa(t),Ll),this.lastRemoteSnapshotVersion=mn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new sd,this.targetCount=0,this.vs=wo.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,u)=>t(u)),_t.resolve()}getLastRemoteSnapshotVersion(e){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _t.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),_t.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new wo(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,_t.resolve()}updateTargetData(e,t){return this.Dn(t),_t.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,_t.resolve()}removeTargets(e,t,o){let u=0;const p=[];return this.Rs.forEach((v,x)=>{x.sequenceNumber<=t&&null===o.get(x.targetId)&&(this.Rs.delete(v),p.push(this.removeMatchingKeysForTargetId(e,x.targetId)),u++)}),_t.waitFor(p).next(()=>u)}getTargetCount(e){return _t.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return _t.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),_t.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const u=this.persistence.referenceDelegate,p=[];return u&&t.forEach(v=>{p.push(u.markPotentiallyOrphaned(e,v))}),_t.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),_t.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return _t.resolve(o)}containsKey(e,t){return _t.resolve(this.Ps.containsKey(t))}}class od{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new T(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Ph(this),this.indexManager=new Nn,this.remoteDocumentCache=new ql(o=>this.referenceDelegate.xs(o)),this.It=new Ff(t),this.Ns=new jf(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Hf(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){y("MemoryPersistence","Starting transaction:",e);const u=new Wd(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(p=>this.referenceDelegate.Ms(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Os(e,t){return _t.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Wd extends wa{constructor(e){super(),this.currentSequenceNumber=e}}class Ju{constructor(e){this.persistence=e,this.Fs=new sd,this.$s=null}static Bs(e){return new Ju(e)}get Ls(){if(this.$s)return this.$s;throw ne()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),_t.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),_t.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),_t.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(p=>this.Ls.add(p.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.Ls,o=>{const u=vt.fromPath(o);return this.Us(e,u).next(p=>{p||t.removeEntry(u,mn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return _t.or([()=>_t.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Ec{constructor(e){this.It=e}$(e,t,o,u){const p=new ns("createOrUpgrade",t);var x;o<1&&u>=1&&(e.createObjectStore("owner"),(x=e).createObjectStore("mutationQueues",{keyPath:"userId"}),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vc,{unique:!0}),x.createObjectStore("documentMutations"),kh(e),function(x){x.createObjectStore("remoteDocuments")}(e));let v=_t.resolve();return o<3&&u>=3&&(0!==o&&(function(x){x.deleteObjectStore("targetDocuments"),x.deleteObjectStore("targets"),x.deleteObjectStore("targetGlobal")}(e),kh(e)),v=v.next(()=>function(x){const K=x.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mn.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",ee)}(p))),o<4&&u>=4&&(0!==o&&(v=v.next(()=>function(x,K){return K.store("mutations").W().next(ee=>{x.deleteObjectStore("mutations"),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vc,{unique:!0});const ce=K.store("mutations"),Ue=ee.map(mt=>ce.put(mt));return _t.waitFor(Ue)})}(e,p))),v=v.next(()=>{!function(x){x.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(v=v.next(()=>this.qs(p))),o<6&&u>=6&&(v=v.next(()=>(function(x){x.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(p)))),o<7&&u>=7&&(v=v.next(()=>this.Gs(p))),o<8&&u>=8&&(v=v.next(()=>this.Qs(e,p))),o<9&&u>=9&&(v=v.next(()=>{!function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(v=v.next(()=>this.js(p))),o<11&&u>=11&&(v=v.next(()=>{(function(x){x.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(x){x.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(v=v.next(()=>{!function(x){const K=x.createObjectStore("documentOverlays",{keyPath:Of});K.createIndex("collectionPathOverlayIndex",$d,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",fm,{unique:!1})}(e)})),o<13&&u>=13&&(v=v.next(()=>function(x){const K=x.createObjectStore("remoteDocumentsV14",{keyPath:Tf});K.createIndex("documentKeyIndex",Rp),K.createIndex("collectionGroupIndex",Mh)}(e)).next(()=>this.Ws(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(v=v.next(()=>this.zs(e,p))),o<15&&u>=15&&(v=v.next(()=>function(x){x.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),x.createObjectStore("indexState",{keyPath:Nf}).createIndex("sequenceNumberIndex",kp,{unique:!1}),x.createObjectStore("indexEntries",{keyPath:Mf}).createIndex("documentKeyIndex",xf,{unique:!1})}(e))),v}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,u)=>{t+=us(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(u=>_t.forEach(u,p=>{const v=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",v).next(x=>_t.forEach(x,K=>{we(K.userId===p.userId);const ee=Wl(this.It,K);return Ei(e,p.userId,ee).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return o.Z((v,x)=>{const K=new fr(v),ee=[0,Ta(K)];p.push(t.get(ee).next(ce=>ce?_t.resolve():t.put({targetId:0,path:Ta(K),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>_t.waitFor(p))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Pp});const o=t.store("collectionParents"),u=new an,p=v=>{if(u.add(v)){const x=v.lastSegment(),K=v.popLast();return o.put({collectionId:x,parent:Ta(K)})}};return t.store("remoteDocuments").Z({X:!0},(v,x)=>{const K=new fr(v);return p(K.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([v,x,K],ee)=>{const ce=xl(x);return p(ce.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,u)=>{const p=oa(u),v=Qc(this.It,p);return t.put(v)})}Ws(e,t){const o=t.store("remoteDocuments"),u=[];return o.Z((p,v)=>{const x=t.store("remoteDocumentsV14"),K=(ee=v,ee.document?new vt(fr.fromString(ee.document.name).popFirst(5)):ee.noDocument?vt.fromSegments(ee.noDocument.path):ee.unknownDocument?vt.fromSegments(ee.unknownDocument.path):ne()).path.toArray();var ee;const ce={prefixPath:K.slice(0,K.length-2),collectionGroup:K[K.length-2],documentId:K[K.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};u.push(x.put(ce))}).next(()=>_t.waitFor(u))}zs(e,t){const o=t.store("mutations"),u=Yu(this.It),p=new od(Ju.Bs,this.It.re);return o.W().next(v=>{const x=new Map;return v.forEach(K=>{var ee;let ce=null!==(ee=x.get(K.userId))&&void 0!==ee?ee:$r();Wl(this.It,K).keys().forEach(Ue=>ce=ce.add(Ue)),x.set(K.userId,ce)}),_t.forEach(x,(K,ee)=>{const ce=new ri(ee),Ue=Jc.oe(this.It,ce),mt=p.getIndexManager(ce),Ft=cs.oe(ce,this.It,mt,p.referenceDelegate);return new Uf(u,Ft,Ue,mt).recalculateAndSaveOverlaysForDocumentKeys(new Rf(t,T.at),K).next()})})}}function kh(i){i.createObjectStore("targetDocuments",{keyPath:Sf}).createIndex("documentTargetsIndex",Af,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",If,{unique:!0}),i.createObjectStore("targetGlobal")}const ad="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Hp{constructor(e,t,o,u,p,v,x,K,ee,ce,Ue=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=p,this.window=v,this.document=x,this.Js=ee,this.Ys=ce,this.Xs=Ue,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=mt=>Promise.resolve(),!Hp.C())throw new at(Te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wc(this,u),this.ii=t+"main",this.It=new Ff(K),this.ri=new Ao(this.ii,this.Xs,new Ec(this.It)),this.Cs=new Ku(this.referenceDelegate,this.It),this.remoteDocumentCache=Yu(this.It),this.Ns=new mm,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ce&&C("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new at(Te.FAILED_PRECONDITION,ad);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new T(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,ze.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ze.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ze.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Lh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Da(e))return y("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return y("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Fh(e).get("owner").next(t=>_t.resolve(this.mi(t)))}gi(e){return Lh(e).delete(this.clientId)}yi(){var e=this;return(0,ze.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Ia(o,"clientMetadata");return u.W().next(p=>{const v=e.Ii(p,18e5),x=p.filter(K=>-1===v.indexOf(K));return _t.forEach(x,K=>u.delete(K.clientId)).next(()=>x)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?_t.resolve(!0):Fh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new at(Te.FAILED_PRECONDITION,ad);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lh(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>{if(this.clientId!==u.clientId){const v=!this.inForeground&&u.inForeground,x=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||v&&x)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&y("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ze.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Rf(t,T.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Lh(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return cs.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xi(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Jc.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){y("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",p=15===(v=this.Xs)?gm:14===v?Lp:13===v?Gd:12===v?pm:11===v?Fp:void ne();var v;let x;return this.ri.runTransaction(e,u,p,K=>(x=new Rf(K,this.Ss?this.Ss.next():T.at),"readwrite-primary"===t?this.fi(x).next(ee=>!!ee||this.di(x)).next(ee=>{if(!ee)throw C(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new at(Te.FAILED_PRECONDITION,Oa);return o(x)}).next(ee=>this.wi(x).next(()=>ee)):this.Vi(x).next(()=>o(x)))).then(K=>(x.raiseOnCommittedEvent(),K))}Vi(e){return Fh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new at(Te.FAILED_PRECONDITION,ad)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fh(e).put("owner",t)}static C(){return Ao.C()}_i(e){const t=Fh(e);return t.get("owner").next(o=>this.mi(o)?(y("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):_t.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(C(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ke.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return y("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return C("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){C("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fh(i){return Ia(i,"owner")}function Lh(i){return Ia(i,"clientMetadata")}function Bh(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class $f{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=u}static Ci(e,t){let o=$r(),u=$r();for(const p of t.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new $f(e,t.fromCache,o,u)}}class oy{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.ki(e,t).next(p=>p||this.Mi(e,t,u,o)).next(p=>p||this.Oi(e,t))}ki(e,t){if(Lc(t))return _t.resolve(null);let o=Ba(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=mu(t,null,"F"),o=Ba(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const v=$r(...p);return this.Ni.getDocuments(e,v).next(x=>this.indexManager.getMinOffset(e,o).next(K=>{const ee=this.Fi(t,x);return this.$i(t,ee,v,K.readTime)?this.ki(e,mu(t,null,"F")):this.Bi(e,ee,t,K)}))})))}Mi(e,t,o,u){return Lc(t)||u.isEqual(mn.min())?this.Oi(e,t):this.Ni.getDocuments(e,o).next(p=>{const v=this.Fi(t,p);return this.$i(t,v,o,u)?this.Oi(e,t):(qo()<=Ce.in.DEBUG&&y("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Nd(t)),this.Bi(e,v,t,qi(u,-1)))})}Fi(e,t){let o=new De(Md(e));return t.forEach((u,p)=>{qa(e,p)&&(o=o.add(p))}),o}$i(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Oi(e,t){return qo()<=Ce.in.DEBUG&&y("QueryEngine","Using full collection scan to execute query:",Nd(t)),this.Ni.getDocumentsMatchingQuery(e,t,Bo.min())}Bi(e,t,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(p=>(t.forEach(v=>{p=p.insert(v.key,v)}),p))}}class _m{constructor(e,t,o,u){this.persistence=e,this.Li=t,this.It=u,this.Ui=new H(_n),this.qi=new Qa(p=>Pa(p),Ll),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uf(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function ym(i,e,t,o){return new _m(i,e,t,o)}function $p(i,e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,ze.Z)(function*(i,e){const t=Le(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(p=>(u=p,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(p=>{const v=[],x=[];let K=$r();for(const ee of u){v.push(ee.batchId);for(const ce of ee.mutations)K=K.add(ce.key)}for(const ee of p){x.push(ee.batchId);for(const ce of ee.mutations)K=K.add(ce.key)}return t.localDocuments.getDocuments(o,K).next(ee=>({ji:ee,removedBatchIds:v,addedBatchIds:x}))})})}),Gp.apply(this,arguments)}function ay(i,e){const t=Le(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),p=t.Gi.newChangeBuffer({trackRemovals:!0});return function(v,x,K,ee){const ce=K.batch,Ue=ce.keys();let mt=_t.resolve();return Ue.forEach(Ft=>{mt=mt.next(()=>ee.getEntry(x,Ft)).next(Vt=>{const gn=K.docVersions.get(Ft);we(null!==gn),Vt.version.compareTo(gn)<0&&(ce.applyToRemoteDocument(Vt,K),Vt.isValidDocument()&&(Vt.setReadTime(K.commitVersion),ee.addEntry(Vt)))})}),mt.next(()=>v.mutationQueue.removeMutationBatch(x,ce))}(t,o,e,p).next(()=>p.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(v){let x=$r();for(let K=0;K<v.mutationResults.length;++K)v.mutationResults[K].transformResults.length>0&&(x=x.add(v.batch.mutations[K].key));return x}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function Zl(i){const e=Le(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function ly(i,e){const t=Le(i),o=e.snapshotVersion;let u=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const v=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.Ui;const x=[];e.targetChanges.forEach((ce,Ue)=>{const mt=u.get(Ue);if(!mt)return;x.push(t.Cs.removeMatchingKeys(p,ce.removedDocuments,Ue).next(()=>t.Cs.addMatchingKeys(p,ce.addedDocuments,Ue)));let Ft=mt.withSequenceNumber(p.currentSequenceNumber);var Vt,gn,jn;e.targetMismatches.has(Ue)?Ft=Ft.withResumeToken(Jn.EMPTY_BYTE_STRING,mn.min()).withLastLimboFreeSnapshotVersion(mn.min()):ce.resumeToken.approximateByteSize()>0&&(Ft=Ft.withResumeToken(ce.resumeToken,o)),u=u.insert(Ue,Ft),gn=Ft,jn=ce,(0===(Vt=mt).resumeToken.approximateByteSize()||gn.snapshotVersion.toMicroseconds()-Vt.snapshotVersion.toMicroseconds()>=3e8||jn.addedDocuments.size+jn.modifiedDocuments.size+jn.removedDocuments.size>0)&&x.push(t.Cs.updateTargetData(p,Ft))});let K=ya(),ee=$r();if(e.documentUpdates.forEach(ce=>{e.resolvedLimboDocuments.has(ce)&&x.push(t.persistence.referenceDelegate.updateLimboDocument(p,ce))}),x.push(zp(p,v,e.documentUpdates).next(ce=>{K=ce.Wi,ee=ce.zi})),!o.isEqual(mn.min())){const ce=t.Cs.getLastRemoteSnapshotVersion(p).next(Ue=>t.Cs.setTargetsMetadata(p,p.currentSequenceNumber,o));x.push(ce)}return _t.waitFor(x).next(()=>v.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,K,ee)).next(()=>K)}).then(p=>(t.Ui=u,p))}function zp(i,e,t){let o=$r(),u=$r();return t.forEach(p=>o=o.add(p)),e.getEntries(i,o).next(p=>{let v=ya();return t.forEach((x,K)=>{const ee=p.get(x);K.isFoundDocument()!==ee.isFoundDocument()&&(u=u.add(x)),K.isNoDocument()&&K.version.isEqual(mn.min())?(e.removeEntry(x,K.readTime),v=v.insert(x,K)):!ee.isValidDocument()||K.version.compareTo(ee.version)>0||0===K.version.compareTo(ee.version)&&ee.hasPendingWrites?(e.addEntry(K),v=v.insert(x,K)):y("LocalStore","Ignoring outdated watch update for ",x,". Current version:",ee.version," Watch version:",K.version)}),{Wi:v,zi:u}})}function uy(i,e){const t=Le(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Kd(i,e){const t=Le(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Cs.getTargetData(o,e).next(p=>p?(u=p,_t.resolve(u)):t.Cs.allocateTargetId(o).next(v=>(u=new zu(e,v,0,o.currentSequenceNumber),t.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function qd(i,e,t){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,ze.Z)(function*(i,e,t){const o=Le(i),u=o.Ui.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",p,v=>o.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!Da(v))throw v;y("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),Wp.apply(this,arguments)}function Vh(i,e,t){const o=Le(i);let u=mn.min(),p=$r();return o.persistence.runTransaction("Execute query","readonly",v=>function(x,K,ee){const ce=Le(x),Ue=ce.qi.get(ee);return void 0!==Ue?_t.resolve(ce.Ui.get(Ue)):ce.Cs.getTargetData(K,ee)}(o,v,Ba(e)).next(x=>{if(x)return u=x.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(v,x.targetId).next(K=>{p=K})}).next(()=>o.Li.getDocumentsMatchingQuery(v,e,t?u:mn.min(),t?p:$r())).next(x=>(wm(o,Lu(e),x),{documents:x,Hi:p})))}function vm(i,e){const t=Le(i),o=Le(t.Cs),u=t.Ui.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",p=>o.se(p,e).next(v=>v?v.target:null))}function bm(i,e){const t=Le(i),o=t.Ki.get(e)||mn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Gi.getAllFromCollectionGroup(u,e,qi(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(wm(t,e,u),u))}function wm(i,e,t){let o=mn.min();t.forEach((u,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),i.Ki.set(e,o)}function Gf(){return Gf=(0,ze.Z)(function*(i,e,t,o){const u=Le(i);let p=$r(),v=ya();for(const ee of t){const ce=e.Ji(ee.metadata.name);ee.document&&(p=p.add(ce));const Ue=e.Yi(ee);Ue.setReadTime(e.Xi(ee.metadata.readTime)),v=v.insert(ce,Ue)}const x=u.Gi.newChangeBuffer({trackRemovals:!0}),K=yield Kd(u,(ee=o,Ba(Cl(fr.fromString(`__bundle__/docs/${ee}`)))));var ee;return u.persistence.runTransaction("Apply bundle documents","readwrite",ee=>zp(ee,x,v).next(ce=>(x.apply(ee),ce)).next(ce=>u.Cs.removeMatchingKeysForTargetId(ee,K.targetId).next(()=>u.Cs.addMatchingKeys(ee,p,K.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(ee,ce.Wi,ce.zi)).next(()=>ce.Wi)))}),Gf.apply(this,arguments)}function Dm(i,e){return zf.apply(this,arguments)}function zf(){return zf=(0,ze.Z)(function*(i,e,t=$r()){const o=yield Kd(i,Ba(xh(e.bundledQuery))),u=Le(i);return u.persistence.runTransaction("Save named query","readwrite",p=>{const v=_i(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return u.Ns.saveNamedQuery(p,e);const x=o.withResumeToken(Jn.EMPTY_BYTE_STRING,v);return u.Ui=u.Ui.insert(x.targetId,x),u.Cs.updateTargetData(p,x).next(()=>u.Cs.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>u.Cs.addMatchingKeys(p,t,o.targetId)).next(()=>u.Ns.saveNamedQuery(p,e))})}),zf.apply(this,arguments)}function Em(i,e){return`firestore_clients_${i}_${e}`}function Cm(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Wf(i,e){return`firestore_targets_${i}_${e}`}class Kf{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Zi(e,t,o){const u=JSON.parse(o);let p,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(p=new at(u.error.code,u.error.message))),v?new Kf(e,t,u.state,p):(C("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zd{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let u,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(u=new at(o.error.code,o.error.message))),p?new Zd(e,o.state,u):(C("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,p=fc();for(let v=0;u&&v<o.activeTargetIds.length;++v)u=Ua(o.activeTargetIds[v]),p=p.add(o.activeTargetIds[v]);return u?new qf(e,p):(C("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Kp{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Kp(t.clientId,t.onlineState):(C("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Tm{constructor(){this.activeTargetIds=fc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zf{constructor(e,t,o,u,p){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new H(_n),this.started=!1,this.cr=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ar=Em(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Tm),this.lr=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(x){return`firestore_bundle_loaded_v2_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ze.Z)(function*(){const t=yield e.syncEngine.vi();for(const u of t){if(u===e.sr)continue;const p=e.getItem(Em(e.persistenceKey,u));if(p){const v=qf.Zi(u,p);v&&(e.ur=e.ur.insert(v.clientId,v))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Wf(this.persistenceKey,e));if(o){const u=Zd.Zi(e,o);u&&(t=u.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wf(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return y("SharedClientState","READ",e,t),t}setItem(e,t){y("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){y("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(y("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void C("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ze.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const u=t.vr(o.key);return t.Vr(u,null)}{const u=t.Sr(o.key,o.newValue);if(u)return t.Vr(u.clientId,u)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const u=t.Dr(o.key,o.newValue);if(u)return t.Cr(u)}}else if(t._r.test(o.key)){if(null!==o.newValue){const u=t.Nr(o.key,o.newValue);if(u)return t.kr(u)}}else if(o.key===t.wr){if(null!==o.newValue){const u=t.yr(o.newValue);if(u)return t.pr(u)}}else if(o.key===t.hr){const u=function(p){let v=T.at;if(null!=p)try{const x=JSON.parse(p);we("number"==typeof x),v=x}catch(x){C("SharedClientState","Failed to read sequence number from WebStorage",x)}return v}(o.newValue);u!==T.at&&t.sequenceNumberHandler(u)}else if(o.key===t.mr){const u=t.Mr(o.newValue);yield Promise.all(u.map(p=>t.syncEngine.Or(p)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const u=new Kf(this.currentUser,e,t,o),p=Cm(this.persistenceKey,this.currentUser,e);this.setItem(p,u.tr())}Er(e){const t=Cm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const u=Wf(this.persistenceKey,e),p=new Zd(e,t,o);this.setItem(u,p.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return qf.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),u=Number(o[1]);return Kf.Zi(new ri(void 0!==o[2]?o[2]:null),u,t)}Nr(e,t){const o=this._r.exec(e),u=Number(o[1]);return Zd.Zi(u,t)}yr(e){return Kp.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ze.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);y("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),u=this.Ir(this.ur),p=this.Ir(o),v=[],x=[];return p.forEach(K=>{u.has(K)||v.push(K)}),u.forEach(K=>{p.has(K)||x.push(K)}),this.syncEngine.Br(v,x).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=fc();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class qp{constructor(){this.Lr=new Tm,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Tm,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ld{qr(e){}shutdown(){}}class Im{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Zp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Yp{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class cy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,o,u,p){const v=this.ao(e,t);y("RestConnection","Sending: ",v,o);const x={};return this.ho(x,u,p),this.lo(e,v,x,o).then(K=>(y("RestConnection","Received: ",K),K),K=>{throw U("RestConnection",`${e} failed with error: `,K,"url: ",v,"request:",o),K})}fo(e,t,o,u,p,v){return this.co(e,t,o,u,p)}ho(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ba,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,p)=>e[p]=u),o&&o.headers.forEach((u,p)=>e[p]=u)}ao(e,t){return`${this.oo}/v1/${t}:${Zp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,o,u){return new Promise((p,v)=>{const x=new bl;x.listenOnce(rl.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case nl.NO_ERROR:const ee=x.getResponseJson();y("Connection","XHR received:",JSON.stringify(ee)),p(ee);break;case nl.TIMEOUT:y("Connection",'RPC "'+e+'" timed out'),v(new at(Te.DEADLINE_EXCEEDED,"Request time out"));break;case nl.HTTP_ERROR:const ce=x.getStatus();if(y("Connection",'RPC "'+e+'" failed with status:',ce,"response text:",x.getResponseText()),ce>0){const Ue=x.getResponseJson().error;if(Ue&&Ue.status&&Ue.message){const mt=function(Ft){const Vt=Ft.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(Vt)>=0?Vt:Te.UNKNOWN}(Ue.status);v(new at(mt,Ue.message))}else v(new at(Te.UNKNOWN,"Server responded with status "+x.getStatus()))}else v(new at(Te.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{y("Connection",'RPC "'+e+'" completed.')}});const K=JSON.stringify(u);x.send(t,"POST",K,o,15)})}_o(e,t,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Xl(),v=eu(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(x.xmlHttpFactory=new vl({})),this.ho(x.initMessageHeaders,t,o),x.encodeInitMessageHeaders=!0;const K=u.join("");y("Connection","Creating WebChannel: "+K,x);const ee=p.createWebChannel(K,x);let ce=!1,Ue=!1;const mt=new Yp({Hr:Vt=>{Ue?y("Connection","Not sending because WebChannel is closed:",Vt):(ce||(y("Connection","Opening WebChannel transport."),ee.open(),ce=!0),y("Connection","WebChannel sending:",Vt),ee.send(Vt))},Jr:()=>ee.close()}),Ft=(Vt,gn,jn)=>{Vt.listen(gn,Zi=>{try{jn(Zi)}catch(Js){setTimeout(()=>{throw Js},0)}})};return Ft(ee,xa.EventType.OPEN,()=>{Ue||y("Connection","WebChannel transport opened.")}),Ft(ee,xa.EventType.CLOSE,()=>{Ue||(Ue=!0,y("Connection","WebChannel transport closed"),mt.io())}),Ft(ee,xa.EventType.ERROR,Vt=>{Ue||(Ue=!0,U("Connection","WebChannel transport errored:",Vt),mt.io(new at(Te.UNAVAILABLE,"The operation could not be completed")))}),Ft(ee,xa.EventType.MESSAGE,Vt=>{var gn;if(!Ue){const jn=Vt.data[0];we(!!jn);const Zi=jn,Js=Zi.error||(null===(gn=Zi[0])||void 0===gn?void 0:gn.error);if(Js){y("Connection","WebChannel received error:",Js);const Yi=Js.status;let Oo=function(vs){const Na=jo[vs];if(void 0!==Na)return Nh(Na)}(Yi),rs=Js.message;void 0===Oo&&(Oo=Te.INTERNAL,rs="Unknown error status: "+Yi+" with message "+Js.message),Ue=!0,mt.io(new at(Oo,rs)),ee.close()}else y("Connection","WebChannel received:",jn),mt.ro(jn)}}),Ft(v,il.STAT_EVENT,Vt=>{Vt.stat===Ma.PROXY?y("Connection","Detected buffering proxy"):Vt.stat===Ma.NOPROXY&&y("Connection","Detected no buffering proxy")}),setTimeout(()=>{mt.so()},0),mt}}function dy(){return typeof window<"u"?window:null}function Qp(){return typeof document<"u"?document:null}function Yf(i){return new gc(i,!0)}class Jp{constructor(e,t,o=1e3,u=1.5,p=6e4){this.Hs=e,this.timerId=t,this.wo=o,this.mo=u,this.yo=p,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),u=Math.max(0,t-o);u>0&&y("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Xp{constructor(e,t,o,u,p,v,x,K){this.Hs=e,this.Po=o,this.vo=u,this.Vo=p,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=x,this.listener=K,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Jp(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ze.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ze.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,ze.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===Te.RESOURCE_EXHAUSTED?(C(t.toString()),C("Using maximum backoff delay to prevent overloading the backend."),o.xo.Eo()):t&&t.code===Te.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===t&&this.Go(o,u)},o=>{e(()=>{const u=new at(Te.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ze.Z)(function*(){e.state=0,e.start()}))}Qo(e){return y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zv extends Xp{constructor(e,t,o,u,p,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,v),this.It=p}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function jd(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:ne(),u=e.targetChange.targetIds||[],p=function(K,ee){return K.gt?(we(void 0===ee||"string"==typeof ee),Jn.fromBase64String(ee||"")):(we(void 0===ee||ee instanceof Uint8Array),Jn.fromUint8Array(ee||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,x=v&&function(K){const ee=void 0===K.code?Te.UNKNOWN:Nh(K.code);return new at(ee,K.message||"")}(v);t=new Hu(o,u,p,x||null)}else if("documentChange"in e){const o=e.documentChange,u=Bs(i,o.document.name),p=_i(o.document.updateTime),v=new Zs({mapValue:{fields:o.document.fields}}),x=Mi.newFoundDocument(u,p,v);t=new ju(o.targetIds||[],o.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const o=e.documentDelete,u=Bs(i,o.document),p=o.readTime?_i(o.readTime):mn.min(),v=Mi.newNoDocument(u,p);t=new ju([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,u=Bs(i,o.document);t=new ju([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return ne();{const o=e.filter,p=new Ah(o.count||0);t=new Gl(o.targetId,p)}}var K;return t}(this.It,e),o=function(u){if(!("targetChange"in u))return mn.min();const p=u.targetChange;return p.targetIds&&p.targetIds.length?mn.min():p.readTime?_i(p.readTime):mn.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=ou(this.It),t.addTarget=function(u,p){let v;const x=p.target;return v=Fu(x)?{documents:m(u,x)}:{query:I(u,x)},v.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?v.resumeToken=Ml(u,p.resumeToken):p.snapshotVersion.compareTo(mn.min())>0&&(v.readTime=zl(u,p.snapshotVersion.toTimestamp())),v}(this.It,e);const o=function le(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ne()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=ou(this.It),t.removeTarget=e,this.Bo(t)}}class hy extends Xp{constructor(e,t,o,u,p,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,v),this.It=p,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function f(i,e){return i&&i.length>0?(we(void 0!==e),i.map(t=>function(o,u){let p=_i(o.updateTime?o.updateTime:u);return p.isEqual(mn.min())&&(p=_i(u)),new Vu(p,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=_i(e.commitTime);return this.listener.Zo(o,t)}return we(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ou(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>lu(this.It,o))};this.Bo(t)}}class Yd extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=o,this.It=u,this.nu=!1}su(){if(this.nu)throw new at(Te.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.Vo.co(e,t,o,u,p)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new at(Te.UNKNOWN,u.toString())})}fo(e,t,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,v])=>this.Vo.fo(e,t,o,p,v,u)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new at(Te.UNKNOWN,p.toString())})}terminate(){this.nu=!0}}class fy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(C(t),this.ou=!1):y("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Sm{constructor(e,t,o,u,p){var v=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=p,this.mu.qr(x=>{o.enqueueAndForget((0,ze.Z)(function*(){var K;Xu(v)&&(y("RemoteStore","Restarting streams for network reachability change."),yield(K=(0,ze.Z)(function*(ee){const ce=Le(ee);ce._u.add(4),yield ud(ce),ce.gu.set("Unknown"),ce._u.delete(4),yield Cc(ce)}),function(ee){return K.apply(this,arguments)})(v))}))}),this.gu=new fy(o,u)}}function Cc(i){return eg.apply(this,arguments)}function eg(){return eg=(0,ze.Z)(function*(i){if(Xu(i))for(const e of i.wu)yield e(!0)}),eg.apply(this,arguments)}function ud(i){return tg.apply(this,arguments)}function tg(){return tg=(0,ze.Z)(function*(i){for(const e of i.wu)yield e(!1)}),tg.apply(this,arguments)}function Qf(i,e){const t=Le(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),rg(t)?Jf(t):Jd(t).ko()&&ng(t,e))}function Uh(i,e){const t=Le(i),o=Jd(t);t.du.delete(e),o.ko()&&Am(t,e),0===t.du.size&&(o.ko()?o.Fo():Xu(t)&&t.gu.set("Unknown"))}function ng(i,e){i.yu.Ot(e.targetId),Jd(i).zo(e)}function Am(i,e){i.yu.Ot(e),Jd(i).Ho(e)}function Jf(i){i.yu=new su({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),Jd(i).start(),i.gu.uu()}function rg(i){return Xu(i)&&!Jd(i).No()&&i.du.size>0}function Xu(i){return 0===Le(i)._u.size}function ig(i){i.yu=void 0}function sg(i){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,ze.Z)(function*(i){i.du.forEach((e,t)=>{ng(i,e)})}),Nm.apply(this,arguments)}function og(i,e){return ag.apply(this,arguments)}function ag(){return ag=(0,ze.Z)(function*(i,e){ig(i),rg(i)?(i.gu.hu(e),Jf(i)):i.gu.set("Unknown")}),ag.apply(this,arguments)}function Wv(i,e,t){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,ze.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Hu&&2===e.state&&e.cause)try{yield(o=(0,ze.Z)(function*(u,p){const v=p.cause;for(const x of p.targetIds)u.du.has(x)&&(yield u.remoteSyncer.rejectListen(x,v),u.du.delete(x),u.yu.removeTarget(x))}),function(u,p){return o.apply(this,arguments)})(i,e)}catch(o){y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield jh(i,o)}else if(e instanceof ju?i.yu.Gt(e):e instanceof Gl?i.yu.Yt(e):i.yu.Wt(e),!t.isEqual(mn.min()))try{const o=yield Zl(i.localStore);t.compareTo(o)>=0&&(yield function(u,p){const v=u.yu.te(p);return v.targetChanges.forEach((x,K)=>{if(x.resumeToken.approximateByteSize()>0){const ee=u.du.get(K);ee&&u.du.set(K,ee.withResumeToken(x.resumeToken,p))}}),v.targetMismatches.forEach(x=>{const K=u.du.get(x);if(!K)return;u.du.set(x,K.withResumeToken(Jn.EMPTY_BYTE_STRING,K.snapshotVersion)),Am(u,x);const ee=new zu(K.target,x,1,K.sequenceNumber);ng(u,ee)}),u.remoteSyncer.applyRemoteEvent(v)}(i,t))}catch(o){y("RemoteStore","Failed to raise snapshot:",o),yield jh(i,o)}var o}),Tc.apply(this,arguments)}function jh(i,e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,ze.Z)(function*(i,e,t){if(!Da(e))throw e;i._u.add(1),yield ud(i),i.gu.set("Offline"),t||(t=()=>Zl(i.localStore)),i.asyncQueue.enqueueRetryable((0,ze.Z)(function*(){y("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Cc(i)}))}),Xf.apply(this,arguments)}function Hh(i,e){return e().catch(t=>jh(i,t,e))}function za(i){return ep.apply(this,arguments)}function ep(){return ep=(0,ze.Z)(function*(i){const e=Le(i),t=Ic(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;py(e);)try{const u=yield uy(e.localStore,o);if(null===u){0===e.fu.length&&t.Fo();break}o=u.batchId,lg(e,u)}catch(u){yield jh(e,u)}Iu(e)&&tp(e)}),ep.apply(this,arguments)}function py(i){return Xu(i)&&i.fu.length<10}function lg(i,e){i.fu.push(e);const t=Ic(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Iu(i){return Xu(i)&&!Ic(i).No()&&i.fu.length>0}function tp(i){Ic(i).start()}function Mm(i){return $h.apply(this,arguments)}function $h(){return $h=(0,ze.Z)(function*(i){Ic(i).eu()}),$h.apply(this,arguments)}function Kv(i){return np.apply(this,arguments)}function np(){return np=(0,ze.Z)(function*(i){const e=Ic(i);for(const t of i.fu)e.Xo(t.mutations)}),np.apply(this,arguments)}function qv(i,e,t){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,ze.Z)(function*(i,e,t){const o=i.fu.shift(),u=Pf.from(o,e,t);yield Hh(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield za(i)}),Qd.apply(this,arguments)}function rp(i,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,ze.Z)(function*(i,e){var t;e&&Ic(i).Yo&&(yield(t=(0,ze.Z)(function*(o,u){if(Pd(p=u.code)&&p!==Te.ABORTED){const v=o.fu.shift();Ic(o).Oo(),yield Hh(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,u)),yield za(o)}var p}),function(o,u){return t.apply(this,arguments)})(i,e)),Iu(i)&&tp(i)}),Gh.apply(this,arguments)}function ip(i,e){return zh.apply(this,arguments)}function zh(){return zh=(0,ze.Z)(function*(i,e){const t=Le(i);t.asyncQueue.verifyOperationInProgress(),y("RemoteStore","RemoteStore received new credentials");const o=Xu(t);t._u.add(3),yield ud(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Cc(t)}),zh.apply(this,arguments)}function xm(i,e){return ug.apply(this,arguments)}function ug(){return ug=(0,ze.Z)(function*(i,e){const t=Le(i);e?(t._u.delete(2),yield Cc(t)):e||(t._u.add(2),yield ud(t),t.gu.set("Unknown"))}),ug.apply(this,arguments)}function Jd(i){return i.pu||(i.pu=function(e,t,o){const u=Le(e);return u.su(),new zv(t,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:sg.bind(null,i),Zr:og.bind(null,i),Wo:Wv.bind(null,i)}),i.wu.push(function(){var e=(0,ze.Z)(function*(t){t?(i.pu.Oo(),rg(i)?Jf(i):i.gu.set("Unknown")):(yield i.pu.stop(),ig(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function Ic(i){return i.Iu||(i.Iu=function(e,t,o){const u=Le(e);return u.su(),new hy(t,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:Mm.bind(null,i),Zr:rp.bind(null,i),tu:Kv.bind(null,i),Zo:qv.bind(null,i)}),i.wu.push(function(){var e=(0,ze.Z)(function*(t){t?(i.Iu.Oo(),yield za(i)):(yield i.Iu.stop(),i.fu.length>0&&(y("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class cg{constructor(e,t,o,u,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=p,this.deferred=new zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,t,o,u,p){const v=Date.now()+o,x=new cg(e,t,v,u,p);return x.start(o),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new at(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cd(i,e){if(C("AsyncQueue",`${e}: ${i}`),Da(i))return new at(Te.UNAVAILABLE,`${e}: ${i}`);throw i}class Wh{constructor(e){this.comparator=e?(t,o)=>e(t,o)||vt.comparator(t.key,o.key):(t,o)=>vt.comparator(t.key,o.key),this.keyedMap=vu(),this.sortedSet=new H(this.comparator)}static emptySet(e){return new Wh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,p=o.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Wh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Om{constructor(){this.Tu=new H(vt.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ne():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Kh{constructor(e,t,o,u,p,v,x,K){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=p,this.fromCache=v,this.syncStateChanged=x,this.excludesMetadataChanges=K}static fromInitialDocuments(e,t,o,u){const p=[];return t.forEach(v=>{p.push({type:0,doc:v})}),new Kh(e,t,Wh.emptySet(t),p,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class Rm{constructor(){this.Au=void 0,this.listeners=[]}}class Pm{constructor(){this.queries=new Qa(e=>Ad(e),uc),this.onlineState="Unknown",this.Ru=new Set}}function dg(i,e){return qh.apply(this,arguments)}function qh(){return qh=(0,ze.Z)(function*(i,e){const t=Le(i),o=e.query;let u=!1,p=t.queries.get(o);if(p||(u=!0,p=new Rm),u)try{p.Au=yield t.onListen(o)}catch(v){const x=cd(v,`Initialization of query '${Nd(e.query)}' failed`);return void e.onError(x)}t.queries.set(o,p),p.listeners.push(e),e.bu(t.onlineState),p.Au&&e.Pu(p.Au)&&Lm(t)}),qh.apply(this,arguments)}function km(i,e){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,ze.Z)(function*(i,e){const t=Le(i),o=e.query;let u=!1;const p=t.queries.get(o);if(p){const v=p.listeners.indexOf(e);v>=0&&(p.listeners.splice(v,1),u=0===p.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),Fm.apply(this,arguments)}function Zv(i,e){const t=Le(i);let o=!1;for(const u of e){const v=t.queries.get(u.query);if(v){for(const x of v.listeners)x.Pu(u)&&(o=!0);v.Au=u}}o&&Lm(t)}function Yv(i,e,t){const o=Le(i),u=o.queries.get(e);if(u)for(const p of u.listeners)p.onError(t);o.queries.delete(e)}function Lm(i){i.Ru.forEach(e=>{e.next()})}class Bm{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Kh(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Kh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Qv{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class gy{constructor(e){this.It=e}Ji(e){return Bs(this.It,e)}Yi(e){return e.metadata.exists?qc(this.It,e.document,!1):Mi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return _i(e)}}class Jv{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=my(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=fr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,o=new gy(this.It);for(const u of e)if(u.metadata.queries){const p=o.Ji(u.metadata.name);for(const v of u.metadata.queries){const x=(t.get(v)||$r()).add(p);t.set(v,x)}}return t}complete(){var e=this;return(0,ze.Z)(function*(){const t=yield function Xr(i,e,t,o){return Gf.apply(this,arguments)}(e.localStore,new gy(e.It),e.documents,e.Mu.id),o=e.Fu(e.documents);for(const u of e.queries)yield Dm(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function my(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class ec{constructor(e){this.key=e}}class sp{constructor(e){this.key=e}}class Vm{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=$r(),this.mutatedKeys=$r(),this.Ku=Md(e),this.Gu=new Wh(this.Ku)}get Qu(){return this.Lu}ju(e,t){const o=t?t.Wu:new Om,u=t?t.Gu:this.Gu;let p=t?t.mutatedKeys:this.mutatedKeys,v=u,x=!1;const K="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,ee="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ce,Ue)=>{const mt=u.get(ce),Ft=qa(this.query,Ue)?Ue:null,Vt=!!mt&&this.mutatedKeys.has(mt.key),gn=!!Ft&&(Ft.hasLocalMutations||this.mutatedKeys.has(Ft.key)&&Ft.hasCommittedMutations);let jn=!1;mt&&Ft?mt.data.isEqual(Ft.data)?Vt!==gn&&(o.track({type:3,doc:Ft}),jn=!0):this.zu(mt,Ft)||(o.track({type:2,doc:Ft}),jn=!0,(K&&this.Ku(Ft,K)>0||ee&&this.Ku(Ft,ee)<0)&&(x=!0)):!mt&&Ft?(o.track({type:0,doc:Ft}),jn=!0):mt&&!Ft&&(o.track({type:1,doc:mt}),jn=!0,(K||ee)&&(x=!0)),jn&&(Ft?(v=v.add(Ft),p=gn?p.add(ce):p.delete(ce)):(v=v.delete(ce),p=p.delete(ce)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const ce="F"===this.query.limitType?v.last():v.first();v=v.delete(ce.key),p=p.delete(ce.key),o.track({type:1,doc:ce})}return{Gu:v,Wu:o,$i:x,mutatedKeys:p}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const p=e.Wu.Eu();p.sort((ee,ce)=>function(Ue,mt){const Ft=Vt=>{switch(Vt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return Ft(Ue)-Ft(mt)}(ee.type,ce.type)||this.Ku(ee.doc,ce.doc)),this.Hu(o);const v=t?this.Ju():[],x=0===this.qu.size&&this.current?1:0,K=x!==this.Uu;return this.Uu=x,0!==p.length||K?{snapshot:new Kh(this.query,e.Gu,u,p,e.mutatedKeys,0===x,K,!1),Yu:v}:{Yu:v}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Om,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=$r(),this.Gu.forEach(o=>{this.Xu(o.key)&&(this.qu=this.qu.add(o.key))});const t=[];return e.forEach(o=>{this.qu.has(o)||t.push(new sp(o))}),this.qu.forEach(o=>{e.has(o)||t.push(new ec(o))}),t}Zu(e){this.Lu=e.Hi,this.qu=$r();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Kh.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Um{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class hg{constructor(e){this.key=e,this.ec=!1}}class jm{constructor(e,t,o,u,p,v){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=v,this.nc={},this.sc=new Qa(x=>Ad(x),uc),this.ic=new Map,this.rc=new Set,this.oc=new H(vt.comparator),this.uc=new Map,this.cc=new sd,this.ac={},this.hc=new Map,this.lc=wo.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function fg(i,e){return pg.apply(this,arguments)}function pg(){return pg=(0,ze.Z)(function*(i,e){const t=Yl(i);let o,u;const p=t.sc.get(e);if(p)o=p.targetId,t.sharedClientState.addLocalQueryTarget(o),u=p.view.tc();else{const v=yield Kd(t.localStore,Ba(e));t.isPrimaryClient&&Qf(t.remoteStore,v);const x=t.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,u=yield Su(t,e,o,"current"===x)}return u}),pg.apply(this,arguments)}function Su(i,e,t,o){return op.apply(this,arguments)}function op(){return op=(0,ze.Z)(function*(i,e,t,o){i.dc=(ce,Ue,mt)=>{return(Ft=(0,ze.Z)(function*(Vt,gn,jn,Zi){let Js=gn.view.ju(jn);Js.$i&&(Js=yield Vh(Vt.localStore,gn.query,!1).then(({documents:rs})=>gn.view.ju(rs,Js)));const Yi=Zi&&Zi.targetChanges.get(gn.targetId),Oo=gn.view.applyChanges(Js,Vt.isPrimaryClient,Yi);return bg(Vt,gn.targetId,Oo.Yu),Oo.snapshot}),function(Vt,gn,jn,Zi){return Ft.apply(this,arguments)})(i,ce,Ue,mt);var Ft};const u=yield Vh(i.localStore,e,!0),p=new Vm(e,u.Hi),v=p.ju(u.documents),x=Nl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),K=p.applyChanges(v,i.isPrimaryClient,x);bg(i,t,K.Yu);const ee=new Um(e,t,p);return i.sc.set(e,ee),i.ic.has(t)?i.ic.get(t).push(e):i.ic.set(t,[e]),K.snapshot}),op.apply(this,arguments)}function _y(i,e){return gg.apply(this,arguments)}function gg(){return gg=(0,ze.Z)(function*(i,e){const t=Le(i),o=t.sc.get(e),u=t.ic.get(o.targetId);if(u.length>1)return t.ic.set(o.targetId,u.filter(p=>!uc(p,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield qd(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Uh(t.remoteStore,o.targetId),th(t,o.targetId)}).catch(Ks))):(th(t,o.targetId),yield qd(t.localStore,o.targetId,!0))}),gg.apply(this,arguments)}function mg(){return mg=(0,ze.Z)(function*(i,e,t){const o=Jh(i);try{const u=yield function(p,v){const x=Le(p),K=kr.now(),ee=v.reduce((mt,Ft)=>mt.add(Ft.key),$r());let ce,Ue;return x.persistence.runTransaction("Locally write mutations","readwrite",mt=>{let Ft=ya(),Vt=$r();return x.Gi.getEntries(mt,ee).next(gn=>{Ft=gn,Ft.forEach((jn,Zi)=>{Zi.isValidDocument()||(Vt=Vt.add(jn))})}).next(()=>x.localDocuments.getOverlayedDocuments(mt,Ft)).next(gn=>{ce=gn;const jn=[];for(const Zi of v){const Js=Rd(Zi,ce.get(Zi.key).overlayedDocument);null!=Js&&jn.push(new Al(Zi.key,Js,cl(Js.value.mapValue),Bi.exists(!0)))}return x.mutationQueue.addMutationBatch(mt,K,jn,v)}).next(gn=>{Ue=gn;const jn=gn.applyToLocalDocumentSet(ce,Vt);return x.documentOverlayCache.saveOverlays(mt,gn.batchId,jn)})}).then(()=>({batchId:Ue.batchId,changes:Fd(ce)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(p,v,x){let K=p.ac[p.currentUser.toKey()];K||(K=new H(_n)),K=K.insert(v,x),p.ac[p.currentUser.toKey()]=K}(o,u.batchId,t),yield Au(o,u.changes),yield za(o.remoteStore)}catch(u){const p=cd(u,"Failed to persist write");t.reject(p)}}),mg.apply(this,arguments)}function $m(i,e){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,ze.Z)(function*(i,e){const t=Le(i);try{const o=yield ly(t.localStore,e);e.targetChanges.forEach((u,p)=>{const v=t.uc.get(p);v&&(we(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.ec=!0:u.modifiedDocuments.size>0?we(v.ec):u.removedDocuments.size>0&&(we(v.ec),v.ec=!1))}),yield Au(t,o,e)}catch(o){yield Ks(o)}}),Xd.apply(this,arguments)}function dd(i,e,t){const o=Le(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.sc.forEach((p,v)=>{const x=v.view.bu(e);x.snapshot&&u.push(x.snapshot)}),function(p,v){const x=Le(p);x.onlineState=v;let K=!1;x.queries.forEach((ee,ce)=>{for(const Ue of ce.listeners)Ue.bu(v)&&(K=!0)}),K&&Lm(x)}(o.eventManager,e),u.length&&o.nc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function _g(i,e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,ze.Z)(function*(i,e,t){const o=Le(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.uc.get(e),p=u&&u.key;if(p){let v=new H(vt.comparator);v=v.insert(p,Mi.newNoDocument(p,mn.min()));const x=$r().add(p),K=new Ho(mn.min(),new Map,new De(_n),v,x);yield $m(o,K),o.oc=o.oc.remove(p),o.uc.delete(e),wg(o)}else yield qd(o.localStore,e,!1).then(()=>th(o,e,t)).catch(Ks)}),Sc.apply(this,arguments)}function yg(i,e){return eh.apply(this,arguments)}function eh(){return eh=(0,ze.Z)(function*(i,e){const t=Le(i),o=e.batch.batchId;try{const u=yield ay(t.localStore,e);Yh(t,o,null),lp(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Au(t,u)}catch(u){yield Ks(u)}}),eh.apply(this,arguments)}function Gm(i,e,t){return ap.apply(this,arguments)}function ap(){return ap=(0,ze.Z)(function*(i,e,t){const o=Le(i);try{const u=yield function(p,v){const x=Le(p);return x.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let ee;return x.mutationQueue.lookupMutationBatch(K,v).next(ce=>(we(null!==ce),ee=ce.keys(),x.mutationQueue.removeMutationBatch(K,ce))).next(()=>x.mutationQueue.performConsistencyCheck(K)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(K,ee,v)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,ee)).next(()=>x.localDocuments.getDocuments(K,ee))})}(o.localStore,e);Yh(o,e,t),lp(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Au(o,u)}catch(u){yield Ks(u)}}),ap.apply(this,arguments)}function Zh(){return Zh=(0,ze.Z)(function*(i,e){const t=Le(i);Xu(t.remoteStore)||y("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(p){const v=Le(p);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>v.mutationQueue.getHighestUnacknowledgedBatchId(x))}(t.localStore);if(-1===o)return void e.resolve();const u=t.hc.get(o)||[];u.push(e),t.hc.set(o,u)}catch(o){const u=cd(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Zh.apply(this,arguments)}function lp(i,e){(i.hc.get(e)||[]).forEach(t=>{t.resolve()}),i.hc.delete(e)}function Yh(i,e,t){const o=Le(i);let u=o.ac[o.currentUser.toKey()];if(u){const p=u.get(e);p&&(t?p.reject(t):p.resolve(),u=u.remove(e)),o.ac[o.currentUser.toKey()]=u}}function th(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ic.get(e))i.sc.delete(o),t&&i.nc._c(o,t);i.ic.delete(e),i.isPrimaryClient&&i.cc.ls(e).forEach(o=>{i.cc.containsKey(o)||yy(i,o)})}function yy(i,e){i.rc.delete(e.path.canonicalString());const t=i.oc.get(e);null!==t&&(Uh(i.remoteStore,t),i.oc=i.oc.remove(e),i.uc.delete(t),wg(i))}function bg(i,e,t){for(const o of t)o instanceof ec?(i.cc.addReference(o.key,e),zm(i,o)):o instanceof sp?(y("SyncEngine","Document no longer in limbo: "+o.key),i.cc.removeReference(o.key,e),i.cc.containsKey(o.key)||yy(i,o.key)):ne()}function zm(i,e){const t=e.key,o=t.path.canonicalString();i.oc.get(t)||i.rc.has(o)||(y("SyncEngine","New document in limbo: "+t),i.rc.add(o),wg(i))}function wg(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const t=new vt(fr.fromString(e)),o=i.lc.next();i.uc.set(o,new hg(t)),i.oc=i.oc.insert(t,o),Qf(i.remoteStore,new zu(Ba(Cl(t.path)),o,2,T.at))}}function Au(i,e,t){return up.apply(this,arguments)}function up(){return up=(0,ze.Z)(function*(i,e,t){const o=Le(i),u=[],p=[],v=[];var x;o.sc.isEmpty()||(o.sc.forEach((x,K)=>{v.push(o.dc(K,e,t).then(ee=>{if(ee){o.isPrimaryClient&&o.sharedClientState.updateQueryState(K.targetId,ee.fromCache?"not-current":"current"),u.push(ee);const ce=$f.Ci(K.targetId,ee);p.push(ce)}}))}),yield Promise.all(v),o.nc.Wo(u),yield(x=(0,ze.Z)(function*(K,ee){const ce=Le(K);try{yield ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ue=>_t.forEach(ee,mt=>_t.forEach(mt.Si,Ft=>ce.persistence.referenceDelegate.addReference(Ue,mt.targetId,Ft)).next(()=>_t.forEach(mt.Di,Ft=>ce.persistence.referenceDelegate.removeReference(Ue,mt.targetId,Ft)))))}catch(Ue){if(!Da(Ue))throw Ue;y("LocalStore","Failed to update sequence numbers: "+Ue)}for(const Ue of ee){const mt=Ue.targetId;if(!Ue.fromCache){const Ft=ce.Ui.get(mt),gn=Ft.withLastLimboFreeSnapshotVersion(Ft.snapshotVersion);ce.Ui=ce.Ui.insert(mt,gn)}}}),function(K,ee){return x.apply(this,arguments)})(o.localStore,p))}),up.apply(this,arguments)}function vy(i,e){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,ze.Z)(function*(i,e){const t=Le(i);if(!t.currentUser.isEqual(e)){y("SyncEngine","User change. New user:",e.toKey());const o=yield $p(t.localStore,e);t.currentUser=e,(u=t).hc.forEach(v=>{v.forEach(x=>{x.reject(new at(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.hc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Au(t,o.ji)}var u}),Xa.apply(this,arguments)}function Wm(i,e){const t=Le(i),o=t.uc.get(e);if(o&&o.ec)return $r().add(o.key);{let u=$r();const p=t.ic.get(e);if(!p)return u;for(const v of p){const x=t.sc.get(v);u=u.unionWith(x.view.Qu)}return u}}function by(i,e){return Km.apply(this,arguments)}function Km(){return Km=(0,ze.Z)(function*(i,e){const t=Le(i),o=yield Vh(t.localStore,e.query,!0),u=e.view.Zu(o);return t.isPrimaryClient&&bg(t,e.targetId,u.Yu),u}),Km.apply(this,arguments)}function wy(i,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,ze.Z)(function*(i,e){const t=Le(i);return bm(t.localStore,e).then(o=>Au(t,o))}),Qh.apply(this,arguments)}function qm(i,e,t,o){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,ze.Z)(function*(i,e,t,o){const u=Le(i),p=yield function(v,x){const K=Le(v),ee=Le(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",ce=>ee.Tn(ce,x).next(Ue=>Ue?K.localDocuments.getDocuments(ce,Ue):_t.resolve(null)))}(u.localStore,e);var x;null!==p?("pending"===t?yield za(u.remoteStore):"acknowledged"===t||"rejected"===t?(Yh(u,e,o||null),lp(u,e),x=e,Le(Le(u.localStore).mutationQueue).An(x)):ne(),yield Au(u,p)):y("SyncEngine","Cannot apply mutation batch with id: "+e)}),Dg.apply(this,arguments)}function Eg(){return Eg=(0,ze.Z)(function*(i,e){const t=Le(i);if(Yl(t),Jh(t),!0===e&&!0!==t.fc){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Cg(t,o.toArray());t.fc=!0,yield xm(t.remoteStore,!0);for(const p of u)Qf(t.remoteStore,p)}else if(!1===e&&!1!==t.fc){const o=[];let u=Promise.resolve();t.ic.forEach((p,v)=>{t.sharedClientState.isLocalQueryTarget(v)?o.push(v):u=u.then(()=>(th(t,v),qd(t.localStore,v,!0))),Uh(t.remoteStore,v)}),yield u,yield Cg(t,o),function(p){const v=Le(p);v.uc.forEach((x,K)=>{Uh(v.remoteStore,K)}),v.cc.fs(),v.uc=new Map,v.oc=new H(vt.comparator)}(t),t.fc=!1,yield xm(t.remoteStore,!1)}}),Eg.apply(this,arguments)}function Cg(i,e,t){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,ze.Z)(function*(i,e,t){const o=Le(i),u=[],p=[];for(const v of e){let x;const K=o.ic.get(v);if(K&&0!==K.length){x=yield Kd(o.localStore,Ba(K[0]));for(const ee of K){const ce=o.sc.get(ee),Ue=yield by(o,ce);Ue.snapshot&&p.push(Ue.snapshot)}}else{const ee=yield vm(o.localStore,v);x=yield Kd(o.localStore,ee),yield Su(o,Ig(ee),v,!1)}u.push(x)}return o.nc.Wo(p),u}),Tg.apply(this,arguments)}function Ig(i){return wf(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Ey(i){const e=Le(i);return Le(Le(e.localStore).persistence).vi()}function Cy(i,e,t,o){return cp.apply(this,arguments)}function cp(){return cp=(0,ze.Z)(function*(i,e,t,o){const u=Le(i);if(u.fc)return void y("SyncEngine","Ignoring unexpected query state notification.");const p=u.ic.get(e);if(p&&p.length>0)switch(t){case"current":case"not-current":{const v=yield bm(u.localStore,Lu(p[0])),x=Ho.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Au(u,v,x);break}case"rejected":yield qd(u.localStore,e,!0),th(u,e,o);break;default:ne()}}),cp.apply(this,arguments)}function Zm(i,e,t){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,ze.Z)(function*(i,e,t){const o=Yl(i);if(o.fc){for(const u of e){if(o.ic.has(u)){y("SyncEngine","Adding an already active target "+u);continue}const p=yield vm(o.localStore,u),v=yield Kd(o.localStore,p);yield Su(o,Ig(p),v.targetId,!1),Qf(o.remoteStore,v)}for(const u of t)o.ic.has(u)&&(yield qd(o.localStore,u,!1).then(()=>{Uh(o.remoteStore,u),th(o,u)}).catch(Ks))}}),Sg.apply(this,arguments)}function Yl(i){const e=Le(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=$m.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_g.bind(null,e),e.nc.Wo=Zv.bind(null,e.eventManager),e.nc._c=Yv.bind(null,e.eventManager),e}function Jh(i){const e=Le(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gm.bind(null,e),e}class Ym{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ze.Z)(function*(){t.It=Yf(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return ym(this.persistence,new oy,e.initialUser,this.It)}gc(e){return new od(Ju.Bs,this.It)}mc(e){return new qp}terminate(){var e=this;return(0,ze.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Iy extends Ym{constructor(e,t,o){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,ze.Z)(function*(){yield t().call(o,e),yield o.Ec.initialize(o,e),yield Jh(o.Ec.syncEngine),yield za(o.Ec.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return ym(this.persistence,new oy,e.initialUser,this.It)}Ic(e,t){return new td(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const o=new kl(t,this.persistence);return new Ka(e.asyncQueue,o)}gc(e){const t=Bh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new Hp(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,dy(),Qp(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new qp}}class Qm extends Iy{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,ze.Z)(function*(){yield t().call(o,e);const u=o.Ec.syncEngine;o.sharedClientState instanceof Zf&&(o.sharedClientState.syncEngine={Fr:qm.bind(null,u),$r:Cy.bind(null,u),Br:Zm.bind(null,u),vi:Ey.bind(null,u),Or:wy.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var p=(0,ze.Z)(function*(v){yield function Dy(i,e){return Eg.apply(this,arguments)}(o.Ec.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start():v||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(v&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():v||o.indexBackfillerScheduler.stop())});return function(v){return p.apply(this,arguments)}}())})()}mc(e){const t=dy();if(!Zf.C(t))throw new at(Te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Bh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zf(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Ag{initialize(e,t){var o=this;return(0,ze.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>dd(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=vy.bind(null,o.syncEngine),yield xm(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Pm}createDatastore(e){const t=Yf(e.databaseInfo.databaseId),o=new cy(e.databaseInfo);return new Yd(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,p=x=>dd(this.syncEngine,x,0),v=Im.C()?new Im:new ld,new Sm(t,o,u,p,v);var t,o,u,p,v}createSyncEngine(e,t){return function(o,u,p,v,x,K,ee){const ce=new jm(o,u,p,v,x,K);return ee&&(ce.fc=!0),ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ze.Z)(function*(t){const o=Le(t);y("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield ud(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Jm(i,e=10240){let t=0;return{read:()=>(0,ze.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,ze.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class dp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):C("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ng{constructor(e,t){this.bc=e,this.It=t,this.metadata=new zt,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(o=>{o&&o.ku()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ze.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ze.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ze.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const o=e.Pc.decode(t),u=Number(o);isNaN(u)&&e.Sc(`length string (${o}) is not valid number`);const p=yield e.Dc(u);return new Qv(JSON.parse(p),t.length+u)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ze.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Dc(e){var t=this;return(0,ze.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const o=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ze.Z)(function*(){const t=yield e.bc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Sy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ze.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new at(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,ze.Z)(function*(p,v){const x=Le(p),K=ou(x.It)+"/documents",ee={documents:v.map(Ft=>wu(x.It,Ft))},ce=yield x.fo("BatchGetDocuments",K,ee,v.length),Ue=new Map;ce.forEach(Ft=>{const Vt=function Zc(i,e){return"found"in e?function(t,o){we(!!o.found);const u=Bs(t,o.found.name),p=_i(o.found.updateTime),v=new Zs({mapValue:{fields:o.found.fields}});return Mi.newFoundDocument(u,p,v)}(i,e):"missing"in e?function(t,o){we(!!o.missing),we(!!o.readTime);const u=Bs(t,o.missing),p=_i(o.readTime);return Mi.newNoDocument(u,p)}(i,e):ne()}(x.It,Ft);Ue.set(Vt.key.toString(),Vt)});const mt=[];return v.forEach(Ft=>{const Vt=Ue.get(Ft.toString());we(!!Vt),mt.push(Vt)}),mt}),function(p,v){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Uu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ze.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const p=vt.fromPath(u);e.mutations.push(new bo(p,e.precondition(p)))}),yield(o=(0,ze.Z)(function*(u,p){const v=Le(u),x=ou(v.It)+"/documents",K={writes:p.map(ee=>lu(v.It,ee))};yield v.co("Commit",x,K)}),function(u,p){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ne();t=mn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new at(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(mn.min())?Bi.exists(!1):Bi.updateTime(t):Bi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(mn.min()))throw new at(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bi.updateTime(t)}return Bi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ay{constructor(e,t,o,u,p){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=p,this.Nc=o.maxAttempts,this.xo=new Jp(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ze.Z)(function*(){const t=new Sy(e.datastore),o=e.Mc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(p=>{e.Oc(p)}))}).catch(u=>{e.Oc(u)})}))}Mc(e){try{const t=this.updateFunction(e);return!Ra(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Pd(t)}return!1}}class hp{constructor(e,t,o,u){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=ri.UNAUTHENTICATED,this.clientId=ks.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,ze.Z)(function*(x){y("FirestoreClient","Received user=",x.uid),yield p.authCredentialListener(x),p.user=x});return function(x){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(y("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,ze.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new at(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ze.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=cd(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function fp(i,e){return nh.apply(this,arguments)}function nh(){return nh=(0,ze.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),y("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,ze.Z)(function*(p){o.isEqual(p)||(yield $p(e.localStore,p),o=p)});return function(p){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),nh.apply(this,arguments)}function Ny(i,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,ze.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Xm(i);y("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>ip(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,p)=>ip(e.remoteStore,p)),i.onlineComponents=e}),Xh.apply(this,arguments)}function Xm(i){return pp.apply(this,arguments)}function pp(){return pp=(0,ze.Z)(function*(i){return i.offlineComponents||(y("FirestoreClient","Using default OfflineComponentProvider"),yield fp(i,new Ym)),i.offlineComponents}),pp.apply(this,arguments)}function ef(i){return gp.apply(this,arguments)}function gp(){return gp=(0,ze.Z)(function*(i){return i.onlineComponents||(y("FirestoreClient","Using default OnlineComponentProvider"),yield Ny(i,new Ag)),i.onlineComponents}),gp.apply(this,arguments)}function Mg(i){return Xm(i).then(e=>e.persistence)}function rh(i){return Xm(i).then(e=>e.localStore)}function Nu(i){return ef(i).then(e=>e.remoteStore)}function ih(i){return ef(i).then(e=>e.syncEngine)}function tc(i){return hd.apply(this,arguments)}function hd(){return hd=(0,ze.Z)(function*(i){const e=yield ef(i),t=e.eventManager;return t.onListen=fg.bind(null,e.syncEngine),t.onUnlisten=_y.bind(null,e.syncEngine),t}),hd.apply(this,arguments)}function t_(i,e,t={}){const o=new zt;return i.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return function(u,p,v,x,K){const ee=new dp({next:Ue=>{p.enqueueAndForget(()=>km(u,ce));const mt=Ue.docs.has(v);!mt&&Ue.fromCache?K.reject(new at(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):mt&&Ue.fromCache&&x&&"server"===x.source?K.reject(new at(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Ue)},error:Ue=>K.reject(Ue)}),ce=new Bm(Cl(v.path),ee,{includeMetadataChanges:!0,Nu:!0});return dg(u,ce)}(yield tc(i),i.asyncQueue,e,t,o)})),o.promise}function sh(i,e,t={}){const o=new zt;return i.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return function(u,p,v,x,K){const ee=new dp({next:Ue=>{p.enqueueAndForget(()=>km(u,ce)),Ue.fromCache&&"server"===x.source?K.reject(new at(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Ue)},error:Ue=>K.reject(Ue)}),ce=new Bm(v,ee,{includeMetadataChanges:!0,Nu:!0});return dg(u,ce)}(yield tc(i),i.asyncQueue,e,t,o)})),o.promise}const n_=new Map;function Og(i,e,t){if(!t)throw new at(Te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function r_(i,e,t,o){if(!0===e&&!0===o)throw new at(Te.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Rg(i){if(!vt.isDocumentKey(i))throw new at(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function mp(i){if(vt.isDocumentKey(i))throw new at(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function _p(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":ne()}function Ri(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new at(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_p(i);throw new at(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function i_(i,e){if(e<=0)throw new at(Te.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class s_{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new at(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new at(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,r_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new at(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new at(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Hn;switch(t.type){case"gapi":return new Di(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new at(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=n_.get(e);t&&(y("ComponentProvider","Removing Datastore"),n_.delete(e),t.terminate())}(this),Promise.resolve()}}class Do{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Do(this.firestore,e,this._key)}}class Wa{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Wa(this.firestore,e,this._query)}}class Ol extends Wa{constructor(e,t,o){super(e,t,Cl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Do(this.firestore,null,new vt(e))}withConverter(e){return new Ol(this.firestore,e,this._path)}}function Ac(i,e,...t){if(i=(0,ke.m9)(i),Og("collection","path",e),i instanceof tf){const o=fr.fromString(e,...t);return mp(o),new Ol(i,null,o)}{if(!(i instanceof Do||i instanceof Ol))throw new at(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(fr.fromString(e,...t));return mp(o),new Ol(i.firestore,null,o)}}function Nc(i,e,...t){if(i=(0,ke.m9)(i),1===arguments.length&&(e=ks.R()),Og("doc","path",e),i instanceof tf){const o=fr.fromString(e,...t);return Rg(o),new Do(i,null,new vt(o))}{if(!(i instanceof Do||i instanceof Ol))throw new at(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(fr.fromString(e,...t));return Rg(o),new Do(i.firestore,i instanceof Ol?i.converter:null,new vt(o))}}function o_(i,e){return i=(0,ke.m9)(i),e=(0,ke.m9)(e),(i instanceof Do||i instanceof Ol)&&(e instanceof Do||e instanceof Ol)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function a_(i,e){return i=(0,ke.m9)(i),e=(0,ke.m9)(e),i instanceof Wa&&e instanceof Wa&&i.firestore===e.firestore&&uc(i._query,e._query)&&i.converter===e.converter}class Pg{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Jp(this,"async_queue_retry"),this.jc=()=>{const t=Qp();t&&y("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=Qp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=Qp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new zt;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ze.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Da(t))throw t;y("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(o=>{throw this.qc=o,this.Kc=!1,C("INTERNAL UNHANDLED ERROR: ",function(p){let v=p.message||"";return p.stack&&(v=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),v}(o)),o}).then(o=>(this.Kc=!1,o))));return this.$c=t,t}enqueueAfterDelay(e,t,o){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const u=cg.createAndSchedule(this,e,t,o,p=>this.Jc(p));return this.Uc.push(u),u}Wc(){this.qc&&ne()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ze.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function kg(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Mu{constructor(){this._progressObserver={},this._taskCompletionResolver=new zt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class yi extends tf{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new Pg,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yp(this),this._firestoreClient.terminate()}}function ys(i){return i._firestoreClient||yp(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function yp(i){var e;const t=i._freezeSettings(),o=(p=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ac(i._databaseId,p,i._persistenceKey,(x=t).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,x.useFetchStreams));var p,x;i._firestoreClient=new hp(i._authCredentials,i._appCheckCredentials,i._queue,o)}function fd(i,e,t){const o=new zt;return i.asyncQueue.enqueue((0,ze.Z)(function*(){try{yield fp(i,t),yield Ny(i,e),o.resolve()}catch(u){const p=u;if(!("FirebaseError"===(v=p).name?v.code===Te.FAILED_PRECONDITION||v.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw p;U("Error enabling offline persistence. Falling back to persistence disabled: "+p),o.reject(p)}var v})).then(()=>o.promise)}function Lg(i){if(i._initialized||i._terminated)throw new at(Te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class xu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new at(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class du{constructor(e){this._byteString=e}static fromBase64String(e){try{return new du(Jn.fromBase64String(e))}catch(t){throw new at(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new du(Jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Mc{constructor(e){this._methodName=e}}class sf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new at(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new at(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _n(this._lat,e._lat)||_n(this._long,e._long)}}const u_=/^__.*__$/;class c_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Al(e,this.data,this.fieldMask,t,this.fieldTransforms):new ru(e,this.data,t,this.fieldTransforms)}}class d_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Al(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function h_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class af{constructor(e,t,o,u,p,v){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=u,void 0===p&&this.ea(),this.fieldTransforms=p||[],this.fieldMask=v||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.sa({path:o,ra:!1});return u.oa(e),u}ua(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.sa({path:o,ra:!1});return u.ea(),u}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return uf(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(h_(this.na)&&u_.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class Fy{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||Yf(e)}fa(e,t,o,u=!1){return new af({na:e,methodName:t,la:o,path:Hr.emptyPath(),ra:!1,ha:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function xc(i){const e=i._freezeSettings(),t=Yf(i._databaseId);return new Fy(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ph(i,e,t,o,u,p={}){const v=i.fa(p.merge||p.mergeFields?2:0,e,t,u);wp("Data must be an object, but it was:",v,o);const x=bp(o,v);let K,ee;if(p.merge)K=new Wn(v.fieldMask),ee=v.fieldTransforms;else if(p.mergeFields){const ce=[];for(const Ue of p.mergeFields){const mt=lf(e,Ue,t);if(!v.contains(mt))throw new at(Te.INVALID_ARGUMENT,`Field '${mt}' is specified in your field mask but missing from your input data.`);jg(ce,mt)||ce.push(mt)}K=new Wn(ce),ee=v.fieldTransforms.filter(Ue=>K.covers(Ue.field))}else K=null,ee=v.fieldTransforms;return new c_(new Zs(x),K,ee)}class pd extends Mc{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pd}}function f_(i,e,t){return new af({na:3,la:e.settings.la,methodName:i._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class gh extends Mc{_toFieldTransform(e){return new _u(e.path,new jl)}isEqual(e){return e instanceof gh}}class vp extends Mc{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=f_(this,e,!0),o=this.da.map(p=>Oc(p,t)),u=new Il(o);return new _u(e.path,u)}isEqual(e){return this===e}}class Bg extends Mc{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=f_(this,e,!0),o=this.da.map(p=>Oc(p,t)),u=new Uo(o);return new _u(e.path,u)}isEqual(e){return this===e}}class Ly extends Mc{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new pl(e.It,Ys(e.It,this._a));return new _u(e.path,t)}isEqual(e){return this===e}}function mh(i,e,t,o){const u=i.fa(1,e,t);wp("Data must be an object, but it was:",u,o);const p=[],v=Zs.empty();E(o,(K,ee)=>{const ce=Dp(e,K,t);ee=(0,ke.m9)(ee);const Ue=u.ua(ce);if(ee instanceof pd)p.push(ce);else{const mt=Oc(ee,Ue);null!=mt&&(p.push(ce),v.set(ce,mt))}});const x=new Wn(p);return new d_(v,x,u.fieldTransforms)}function _h(i,e,t,o,u,p){const v=i.fa(1,e,t),x=[lf(e,o,t)],K=[u];if(p.length%2!=0)throw new at(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let mt=0;mt<p.length;mt+=2)x.push(lf(e,p[mt])),K.push(p[mt+1]);const ee=[],ce=Zs.empty();for(let mt=x.length-1;mt>=0;--mt)if(!jg(ee,x[mt])){const Ft=x[mt];let Vt=K[mt];Vt=(0,ke.m9)(Vt);const gn=v.ua(Ft);if(Vt instanceof pd)ee.push(Ft);else{const jn=Oc(Vt,gn);null!=jn&&(ee.push(Ft),ce.set(Ft,jn))}}const Ue=new Wn(ee);return new d_(ce,Ue,v.fieldTransforms)}function Vg(i,e,t,o=!1){return Oc(t,i.fa(o?4:3,e))}function Oc(i,e){if(Ug(i=(0,ke.m9)(i)))return wp("Unsupported field value:",e,i),bp(i,e);if(i instanceof Mc)return function(t,o){if(!h_(o.na))throw o.aa(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.aa(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,o){const u=[];let p=0;for(const v of t){let x=Oc(v,o.ca(p));null==x&&(x={nullValue:"NULL_VALUE"}),u.push(x),p++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,ke.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ys(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=kr.fromDate(t);return{timestampValue:zl(o.It,u)}}if(t instanceof kr){const u=new kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:zl(o.It,u)}}if(t instanceof sf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof du)return{bytesValue:Ml(o.It,t._byteString)};if(t instanceof Do){const u=o.databaseId,p=t.firestore._databaseId;if(!p.isEqual(u))throw o.aa(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bu(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.aa(`Unsupported field value: ${_p(t)}`)}(i,e)}function bp(i,e){const t={};return P(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):E(i,(o,u)=>{const p=Oc(u,e.ia(o));null!=p&&(t[o]=p)}),{mapValue:{fields:t}}}function Ug(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof kr||i instanceof sf||i instanceof du||i instanceof Do||i instanceof Mc)}function wp(i,e,t){if(!Ug(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=_p(t);throw e.aa("an object"===o?i+" a custom object":i+" "+o)}var o}function lf(i,e,t){if((e=(0,ke.m9)(e))instanceof xu)return e._internalPath;if("string"==typeof e)return Dp(i,e);throw uf("Field path arguments must be of type string or ",i,!1,void 0,t)}const p_=new RegExp("[~\\*/\\[\\]]");function Dp(i,e,t){if(e.search(p_)>=0)throw uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new xu(...e.split("."))._internalPath}catch{throw uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function uf(i,e,t,o,u){const p=o&&!o.isEmpty(),v=void 0!==u;let x=`Function ${e}() called with invalid data`;t&&(x+=" (via `toFirestore()`)"),x+=". ";let K="";return(p||v)&&(K+=" (found",p&&(K+=` in field ${o}`),v&&(K+=` in document ${u}`),K+=")"),new at(Te.INVALID_ARGUMENT,x+i+K)}function jg(i,e){return i.some(t=>t.isEqual(e))}class yh{constructor(e,t,o,u,p){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Do(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new g_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ep("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class g_ extends yh{data(){return super.data()}}function Ep(i,e){return"string"==typeof e?Dp(i,e):e instanceof xu?e._internalPath:e._delegate._internalPath}class Rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ou extends yh{constructor(e,t,o,u,p,v){super(e,t,o,u,v),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Ep("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class gd extends Ou{data(e={}){return super.data(e)}}class hu{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Rc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new gd(this._firestore,this._userDataWriter,o.key,o,new Rc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new at(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let p=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new gd(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Rc(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:p++}))}{let p=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>u||3!==v.type).map(v=>{const x=new gd(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Rc(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let K=-1,ee=-1;return 0!==v.type&&(K=p.indexOf(v.doc.key),p=p.delete(v.doc.key)),1!==v.type&&(p=p.add(v.doc),ee=p.indexOf(v.doc.key)),{type:m_(v.type),doc:x,oldIndex:K,newIndex:ee}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function m_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function Hg(i,e){return i instanceof Ou&&e instanceof Ou?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof hu&&e instanceof hu&&i._firestore===e._firestore&&a_(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function $g(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new at(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vh{}function nc(i,...e){for(const t of e)i=t._apply(i);return i}class __ extends vh{constructor(e,t,o){super(),this.wa=e,this.ma=t,this.ga=o,this.type="where"}_apply(e){const t=xc(e.firestore),o=function(u,p,v,x,K,ee,ce){let Ue;if(K.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new at(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){zg(ce,ee);const Ft=[];for(const Vt of ce)Ft.push(Gg(x,u,Vt));Ue={arrayValue:{values:Ft}}}else Ue=Gg(x,u,ce)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||zg(ce,ee),Ue=Vg(v,"where",ce,"in"===ee||"not-in"===ee);const mt=xo.create(K,ee,Ue);return function(Ft,Vt){if(Vt.dt()){const jn=Vc(Ft);if(null!==jn&&!jn.isEqual(Vt.field))throw new at(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${jn.toString()}' and '${Vt.field.toString()}'`);const Zi=Bc(Ft);null!==Zi&&md(0,Vt.field,Zi)}const gn=function(jn,Zi){for(const Js of jn.filters)if(Zi.indexOf(Js.op)>=0)return Js.op;return null}(Ft,function(jn){switch(jn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Vt.op));if(null!==gn)throw new at(Te.INVALID_ARGUMENT,gn===Vt.op?`Invalid query. You cannot use more than one '${Vt.op.toString()}' filter.`:`Invalid query. You cannot use '${Vt.op.toString()}' filters with '${gn.toString()}' filters.`)}(u,mt),mt}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Wa(e.firestore,e.converter,function(u,p){const v=u.filters.concat([p]);return new Vl(u.path,u.collectionGroup,u.explicitOrderBy.slice(),v,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class v_ extends vh{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(o,u,p){if(null!==o.startAt)throw new at(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new at(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new fl(u,p);return function(x,K){if(null===Bc(x)){const ee=Vc(x);null!==ee&&md(0,ee,K.field)}}(o,v),v}(e._query,this.wa,this.ya);return new Wa(e.firestore,e.converter,function(o,u){const p=o.explicitOrderBy.concat([u]);return new Vl(o.path,o.collectionGroup,p,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class b_ extends vh{constructor(e,t,o){super(),this.type=e,this.pa=t,this.Ia=o}_apply(e){return new Wa(e.firestore,e.converter,mu(e._query,this.pa,this.Ia))}}class D_ extends vh{constructor(e,t,o){super(),this.type=e,this.Ta=t,this.Ea=o}_apply(e){const t=I_(e,this.type,this.Ta,this.Ea);return new Wa(e.firestore,e.converter,(u=t,new Vl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class C_ extends vh{constructor(e,t,o){super(),this.type=e,this.Ta=t,this.Ea=o}_apply(e){const t=I_(e,this.type,this.Ta,this.Ea);return new Wa(e.firestore,e.converter,(u=t,new Vl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function I_(i,e,t,o){if(t[0]=(0,ke.m9)(t[0]),t[0]instanceof yh)return function(u,p,v,x,K){if(!x)throw new at(Te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const ee=[];for(const ce of Ul(u))if(ce.field.isKeyField())ee.push(_e(p,x.key));else{const Ue=x.data.field(ce.field);if(Va(Ue))throw new at(Te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ue){const mt=ce.field.canonicalString();throw new at(Te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${mt}' (used as the orderBy) does not exist.`)}ee.push(Ue)}return new Bl(ee,K)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=xc(i.firestore);return function(p,v,x,K,ee,ce){const Ue=p.explicitOrderBy;if(ee.length>Ue.length)throw new at(Te.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const mt=[];for(let Ft=0;Ft<ee.length;Ft++){const Vt=ee[Ft];if(Ue[Ft].field.isKeyField()){if("string"!=typeof Vt)throw new at(Te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof Vt}`);if(!Uc(p)&&-1!==Vt.indexOf("/"))throw new at(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${Vt}' contains a slash.`);const gn=p.path.child(fr.fromString(Vt));if(!vt.isDocumentKey(gn))throw new at(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${gn}' is not because it contains an odd number of segments.`);const jn=new vt(gn);mt.push(_e(v,jn))}else{const gn=Vg(x,K,Vt);mt.push(gn)}}return new Bl(mt,ce)}(i._query,i.firestore._databaseId,u,e,t,o)}}function Gg(i,e,t){if("string"==typeof(t=(0,ke.m9)(t))){if(""===t)throw new at(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uc(e)&&-1!==t.indexOf("/"))throw new at(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(fr.fromString(t));if(!vt.isDocumentKey(o))throw new at(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return _e(i,new vt(o))}if(t instanceof Do)return _e(i,t._key);throw new at(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_p(t)}.`)}function zg(i,e){if(!Array.isArray(i)||0===i.length)throw new at(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new at(Te.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function md(i,e,t){if(!t.isEqual(e))throw new at(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const Uy={maxAttempts:5};class Wg{convertValue(e,t="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ne()}}convertObject(e,t){const o={};return E(e.fields,(u,p)=>{o[u]=this.convertValue(p,t)}),o}convertGeoPoint(e){return new sf($i(e.latitude),$i(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Fa(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(sa(e));default:return null}}convertTimestamp(e){const t=No(e);return new kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=fr.fromString(e);we(Eu(o));const u=new La(o.get(1),o.get(3)),p=new vt(o.popFirst(5));return u.isEqual(t)||C(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function cf(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class jy extends Wg{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Do(this.firestore,null,t)}}class Kg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xc(e)}set(e,t,o){this._verifyNotCommitted();const u=_d(e,this._firestore),p=cf(u.converter,t,o),v=ph(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,o);return this._mutations.push(v.toMutation(u._key,Bi.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const p=_d(e,this._firestore);let v;return v="string"==typeof(t=(0,ke.m9)(t))||t instanceof xu?_h(this._dataReader,"WriteBatch.update",p._key,t,o,u):mh(this._dataReader,"WriteBatch.update",p._key,t),this._mutations.push(v.toMutation(p._key,Bi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_d(e,this._firestore);return this._mutations=this._mutations.concat(new Uu(t._key,Bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new at(Te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _d(i,e){if((i=(0,ke.m9)(i)).firestore!==e)throw new at(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class rc extends Wg{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Do(this.firestore,null,t)}}function Ql(i,e,t){i=Ri(i,Do);const o=Ri(i.firestore,yi),u=cf(i.converter,e,t);return bh(o,[ph(xc(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Bi.none())])}function Zg(i,e,t,...o){i=Ri(i,Do);const u=Ri(i.firestore,yi),p=xc(u);let v;return v="string"==typeof(e=(0,ke.m9)(e))||e instanceof xu?_h(p,"updateDoc",i._key,e,t,o):mh(p,"updateDoc",i._key,e),bh(u,[v.toMutation(i._key,Bi.exists(!0))])}function N_(i,...e){var t,o,u;i=(0,ke.m9)(i);let p={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||kg(e[v])||(p=e[v],v++);const x={includeMetadataChanges:p.includeMetadataChanges};if(kg(e[v])){const Ue=e[v];e[v]=null===(t=Ue.next)||void 0===t?void 0:t.bind(Ue),e[v+1]=null===(o=Ue.error)||void 0===o?void 0:o.bind(Ue),e[v+2]=null===(u=Ue.complete)||void 0===u?void 0:u.bind(Ue)}let K,ee,ce;if(i instanceof Do)ee=Ri(i.firestore,yi),ce=Cl(i._key.path),K={next:Ue=>{e[v]&&e[v](df(ee,i,Ue))},error:e[v+1],complete:e[v+2]};else{const Ue=Ri(i,Wa);ee=Ri(Ue.firestore,yi),ce=Ue._query;const mt=new rc(ee);K={next:Ft=>{e[v]&&e[v](new hu(ee,mt,Ue,Ft))},error:e[v+1],complete:e[v+2]},$g(i._query)}return function(Ue,mt,Ft,Vt){const gn=new dp(Vt),jn=new Bm(mt,gn,Ft);return Ue.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return dg(yield tc(Ue),jn)})),()=>{gn.Rc(),Ue.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return km(yield tc(Ue),jn)}))}}(ys(ee),ce,x,K)}function bh(i,e){return function(t,o){const u=new zt;return t.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return function Hm(i,e,t){return mg.apply(this,arguments)}(yield ih(t),o,u)})),u.promise}(ys(i),e)}function df(i,e,t){const o=t.docs.get(e._key),u=new rc(i);return new Ou(i,u,e._key,o,new Rc(t.hasPendingWrites,t.fromCache),e.converter)}class hf extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xc(e)}get(e){const t=_d(e,this._firestore),o=new jy(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return ne();const p=u[0];if(p.isFoundDocument())return new yh(this._firestore,o,p.key,p,t.converter);if(p.isNoDocument())return new yh(this._firestore,o,t._key,null,t.converter);throw ne()})}set(e,t,o){const u=_d(e,this._firestore),p=cf(u.converter,t,o),v=ph(this._dataReader,"Transaction.set",u._key,p,null!==u.converter,o);return this._transaction.set(u._key,v),this}update(e,t,o,...u){const p=_d(e,this._firestore);let v;return v="string"==typeof(t=(0,ke.m9)(t))||t instanceof xu?_h(this._dataReader,"Transaction.update",p._key,t,o,u):mh(this._dataReader,"Transaction.update",p._key,t),this._transaction.update(p._key,v),this}delete(e){const t=_d(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_d(e,this._firestore),o=new rc(this._firestore);return super.get(e).then(u=>new Ou(this._firestore,o,t._key,u._document,new Rc(!1,!1),t.converter))}}function ff(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new at("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Jg(){if(typeof Uint8Array>"u")throw new at("unimplemented","Uint8Arrays are not available in this environment.")}function Xg(){if(!function wn(){return typeof atob<"u"}())throw new at("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){ba=Gt.SDK_VERSION,(0,Gt._registerComponent)(new ft.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const p=t.getProvider("app").getImmediate(),v=new yi(new zn(t.getProvider("auth-internal")),new Ni(t.getProvider("app-check-internal")),function(x,K){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new at(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new La(x.options.projectId,K)}(p,o),p);return u=Object.assign({useFetchStreams:e},u),v._setSettings(u),v},"PUBLIC").setMultipleInstances(!0)),(0,Gt.registerVersion)(wl,"3.5.0",i),(0,Gt.registerVersion)(wl,"3.5.0","esm2017")}();class wh{constructor(e){this._delegate=e}static fromBase64String(e){return Xg(),new wh(du.fromBase64String(e))}static fromUint8Array(e){return Jg(),new wh(du.fromUint8Array(e))}toBase64(){return Xg(),this._delegate.toBase64()}toUint8Array(){return Jg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ip(i){return function R_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class P_{enableIndexedDbPersistence(e,t){return function ah(i,e){Lg(i=Ri(i,yi));const t=ys(i),o=i._freezeSettings(),u=new Ag;return fd(t,u,new Iy(u,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function lh(i){Lg(i=Ri(i,yi));const e=ys(i),t=i._freezeSettings(),o=new Ag;return fd(e,o,new Qm(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function uh(i){if(i._initialized&&!i._terminated)throw new at(Te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new zt;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ze.Z)(function*(){try{yield(t=(0,ze.Z)(function*(o){if(!Ao.C())return Promise.resolve();const u=o+"main";yield Ao.delete(u)}),function(o){return t.apply(this,arguments)})(Bh(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class em{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof La||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&U("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Py(i,e,t,o={}){var u;const p=(i=Ri(i,tf))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&U("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let v,x;if("string"==typeof o.mockUserToken)v=o.mockUserToken,x=ri.MOCK_USER;else{v=(0,ke.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const K=o.mockUserToken.sub||o.mockUserToken.user_id;if(!K)throw new at(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new ri(K)}i._authCredentials=new Un(new Nr(v,x))}}(this._delegate,e,t,o)}enableNetwork(){return function dh(i){return function My(i){return i.asyncQueue.enqueue((0,ze.Z)(function*(){const e=yield Mg(i),t=yield Nu(i);return e.setNetworkEnabled(!0),function(o){const u=Le(o);return u._u.delete(0),Cc(u)}(t)}))}(ys(i=Ri(i,yi)))}(this._delegate)}disableNetwork(){return function hh(i){return function xg(i){return i.asyncQueue.enqueue((0,ze.Z)(function*(){const e=yield Mg(i),t=yield Nu(i);return e.setNetworkEnabled(!1),(o=(0,ze.Z)(function*(u){const p=Le(u);p._u.add(0),yield ud(p),p.gu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(ys(i=Ri(i,yi)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,r_("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ch(i){return function(e){const t=new zt;return e.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return function vg(i,e){return Zh.apply(this,arguments)}(yield ih(e),t)})),t.promise}(ys(i=Ri(i,yi)))}(this._delegate)}onSnapshotsInSync(e){return function Gy(i,e){return function Oy(i,e){const t=new dp(e);return i.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return o=yield tc(i),u=t,Le(o).Ru.add(u),void u.next();var o,u})),()=>{t.Rc(),i.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return o=yield tc(i),u=t,void Le(o).Ru.delete(u);var o,u}))}}(ys(i=Ri(i,yi)),kg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new at("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Dh(this,Ac(this._delegate,e))}catch(t){throw el(t,"collection()","Firestore.collection()")}}doc(e){try{return new Jl(this,Nc(this._delegate,e))}catch(t){throw el(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new tl(this,function t0(i,e){if(i=Ri(i,tf),Og("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new at(Te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wa(i,null,(t=e,new Vl(fr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw el(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function zy(i,e,t){i=Ri(i,yi);const o=Object.assign(Object.assign({},Uy),t);return function(u){if(u.maxAttempts<1)throw new at(Te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function Xv(i,e,t){const o=new zt;return i.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){const u=yield(p=i,ef(p).then(v=>v.datastore));var p;new Ay(i.asyncQueue,u,t,e,o).run()})),o.promise}(ys(i),u=>e(new hf(i,u)),o)}(this._delegate,t=>e(new k_(this,t)))}batch(){return ys(this._delegate),new F_(new Kg(this._delegate,e=>bh(this._delegate,e)))}loadBundle(e){return function fh(i,e){const t=ys(i=Ri(i,yi)),o=new Mu;return function Ry(i,e,t,o){const u=function(p,v){let x;return x="string"==typeof p?(new TextEncoder).encode(p):p,K=function(K,ee){if(K instanceof Uint8Array)return Jm(K,void 0);if(K instanceof ArrayBuffer)return Jm(new Uint8Array(K),void 0);if(K instanceof ReadableStream)return K.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new Ng(K,v);var K}(t,Yf(e));i.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){!function Ty(i,e,t){const o=Le(i);var u;(u=(0,ze.Z)(function*(p,v,x){try{const K=yield v.getMetadata();if(yield function(mt,Ft){const Vt=Le(mt),gn=_i(Ft.createTime);return Vt.persistence.runTransaction("hasNewerBundle","readonly",jn=>Vt.Ns.getBundleMetadata(jn,Ft.id)).then(jn=>!!jn&&jn.createTime.compareTo(gn)>=0)}(p.localStore,K))return yield v.close(),x._completeWith({taskState:"Success",documentsLoaded:(mt=K).totalDocuments,bytesLoaded:mt.totalBytes,totalDocuments:mt.totalDocuments,totalBytes:mt.totalBytes}),Promise.resolve(new Set);x._updateProgress(my(K));const ee=new Jv(K,p.localStore,v.It);let ce=yield v.wc();for(;ce;){const mt=yield ee.Ou(ce);mt&&x._updateProgress(mt),ce=yield v.wc()}const Ue=yield ee.complete();return yield Au(p,Ue.Bu,void 0),yield function(mt,Ft){const Vt=Le(mt);return Vt.persistence.runTransaction("Save bundle","readwrite",gn=>Vt.Ns.saveBundleMetadata(gn,Ft))}(p.localStore,K),x._completeWith(Ue.progress),Promise.resolve(Ue.$u)}catch(K){return U("SyncEngine",`Loading bundle failed with ${K}`),x._failWith(K),Promise.resolve(new Set)}var mt}),function(p,v,x){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield ih(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function l_(i,e){return function e0(i,e){return i.asyncQueue.enqueue((0,ze.Z)(function*(){return function(t,o){const u=Le(t);return u.persistence.runTransaction("Get named query","readonly",p=>u.Ns.getNamedQuery(p,o))}(yield rh(i),e)}))}(ys(i=Ri(i,yi)),e).then(t=>t?new Wa(i,null,t.query):null)}(this._delegate,e).then(t=>t?new tl(this,t):null)}}class Sp extends Wg{constructor(e){super(),this.firestore=e}convertBytes(e){return new wh(new du(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Jl.forKey(t,this.firestore,null)}}class k_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Sp(e)}get(e){const t=vd(e);return this._delegate.get(t).then(o=>new pf(this._firestore,new Ou(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=vd(e);return o?(ff("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const p=vd(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,o,...u),this}delete(e){const t=vd(e);return this._delegate.delete(t),this}}class F_{constructor(e){this._delegate=e}set(e,t,o){const u=vd(e);return o?(ff("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const p=vd(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,o,...u),this}delete(e){const t=vd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class yd{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new gd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gf(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=yd.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let p=u.get(t);return p||(p=new yd(e,new Sp(e),t),u.set(t,p)),p}}yd.INSTANCES=new WeakMap;class Jl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sp(e)}static forPath(e,t,o){if(e.length%2!=0)throw new at("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Jl(t,new Do(t._delegate,o,new vt(e)))}static forKey(e,t,o){return new Jl(t,new Do(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Dh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Dh(this.firestore,Ac(this._delegate,e))}catch(t){throw el(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ke.m9)(e))instanceof Do&&o_(this._delegate,e)}set(e,t){t=ff("DocumentReference.set",t);try{return t?Ql(this._delegate,e,t):Ql(this._delegate,e)}catch(o){throw el(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Zg(this._delegate,e):Zg(this._delegate,e,t,...o)}catch(u){throw el(u,"updateDoc()","DocumentReference.update()")}}delete(){return function A_(i){return bh(Ri(i.firestore,yi),[new Uu(i._key,Bi.none())])}(this._delegate)}onSnapshot(...e){const t=L_(e),o=B_(e,u=>new pf(this.firestore,new Ou(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return N_(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function Ru(i){i=Ri(i,Do);const e=Ri(i.firestore,yi),t=ys(e),o=new rc(e);return function e_(i,e){const t=new zt;return i.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return(o=(0,ze.Z)(function*(u,p,v){try{const x=yield function(K,ee){const ce=Le(K);return ce.persistence.runTransaction("read document","readonly",Ue=>ce.localDocuments.getDocument(Ue,ee))}(u,p);x.isFoundDocument()?v.resolve(x):x.isNoDocument()?v.resolve(null):v.reject(new at(Te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const K=cd(x,`Failed to get document '${p} from cache`);v.reject(K)}}),function(u,p,v){return o.apply(this,arguments)})(yield rh(i),e,t);var o})),t.promise}(t,i._key).then(u=>new Ou(e,o,i._key,u,new Rc(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function Hy(i){i=Ri(i,Do);const e=Ri(i.firestore,yi);return t_(ys(e),i._key,{source:"server"}).then(t=>df(e,i,t))}(this._delegate):function qg(i){i=Ri(i,Do);const e=Ri(i.firestore,yi);return t_(ys(e),i._key).then(t=>df(e,i,t))}(this._delegate),t.then(o=>new pf(this.firestore,new Ou(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Jl(this.firestore,this._delegate.withConverter(e?yd.getInstance(this.firestore,e):null))}}function el(i,e,t){return i.message=i.message.replace(e,t),i}function L_(i){for(const e of i)if("object"==typeof e&&!Ip(e))return e;return{}}function B_(i,e){var t,o;let u;return u=Ip(i[0])?i[0]:Ip(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:p=>{u.next&&u.next(e(p))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class pf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Jl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Hg(this._delegate,e._delegate)}}class gf extends pf{data(e){const t=this._delegate.data(e);return function $e(i,e){i||ne()}(void 0!==t),t}}class tl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sp(e)}where(e,t,o){try{return new tl(this.firestore,nc(this._delegate,function y_(i,e,t){const o=e,u=Ep("where",i);return new __(u,o,t)}(e,t,o)))}catch(u){throw el(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new tl(this.firestore,nc(this._delegate,function n0(i,e="asc"){const t=e,o=Ep("orderBy",i);return new v_(o,t)}(e,t)))}catch(o){throw el(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new tl(this.firestore,nc(this._delegate,function By(i){return i_("limit",i),new b_("limit",i,"F")}(e)))}catch(t){throw el(t,"limit()","Query.limit()")}}limitToLast(e){try{return new tl(this.firestore,nc(this._delegate,function w_(i){return i_("limitToLast",i),new b_("limitToLast",i,"L")}(e)))}catch(t){throw el(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new tl(this.firestore,nc(this._delegate,function Aa(...i){return new D_("startAt",i,!0)}(...e)))}catch(t){throw el(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new tl(this.firestore,nc(this._delegate,function E_(...i){return new D_("startAfter",i,!1)}(...e)))}catch(t){throw el(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new tl(this.firestore,nc(this._delegate,function Vy(...i){return new C_("endBefore",i,!1)}(...e)))}catch(t){throw el(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new tl(this.firestore,nc(this._delegate,function T_(...i){return new C_("endAt",i,!0)}(...e)))}catch(t){throw el(t,"endAt()","Query.endAt()")}}isEqual(e){return a_(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Pu(i){i=Ri(i,Wa);const e=Ri(i.firestore,yi),t=ys(e),o=new rc(e);return function xy(i,e){const t=new zt;return i.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return(o=(0,ze.Z)(function*(u,p,v){try{const x=yield Vh(u,p,!0),K=new Vm(p,x.Hi),ee=K.ju(x.documents),ce=K.applyChanges(ee,!1);v.resolve(ce.snapshot)}catch(x){const K=cd(x,`Failed to execute query '${p} against cache`);v.reject(K)}}),function(u,p,v){return o.apply(this,arguments)})(yield rh(i),e,t);var o})),t.promise}(t,i._query).then(u=>new hu(e,o,i,u))}(this._delegate):"server"===e?.source?function fu(i){i=Ri(i,Wa);const e=Ri(i.firestore,yi),t=ys(e),o=new rc(e);return sh(t,i._query,{source:"server"}).then(u=>new hu(e,o,i,u))}(this._delegate):function S_(i){i=Ri(i,Wa);const e=Ri(i.firestore,yi),t=ys(e),o=new rc(e);return $g(i._query),sh(t,i._query).then(u=>new hu(e,o,i,u))}(this._delegate),t.then(o=>new tm(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=L_(e),o=B_(e,u=>new tm(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return N_(this._delegate,t,o)}withConverter(e){return new tl(this.firestore,this._delegate.withConverter(e?yd.getInstance(this.firestore,e):null))}}class Zy{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new gf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new tl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new gf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Zy(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new gf(this._firestore,o))})}isEqual(e){return Hg(this._delegate,e._delegate)}}class Dh extends tl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Jl(this.firestore,e):null}doc(e){try{return new Jl(this.firestore,void 0===e?Nc(this._delegate):Nc(this._delegate,e))}catch(t){throw el(t,"doc()","CollectionReference.doc()")}}add(e){return function $y(i,e){const t=Ri(i.firestore,yi),o=Nc(i),u=cf(i.converter,e);return bh(t,[ph(xc(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Bi.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new Jl(this.firestore,t))}isEqual(e){return o_(this._delegate,e._delegate)}withConverter(e){return new Dh(this.firestore,this._delegate.withConverter(e?yd.getInstance(this.firestore,e):null))}}function vd(i){return Ri(i,Do)}class nm{constructor(...e){this._delegate=new xu(...e)}static documentId(){return new nm(Hr.keyField().canonicalString())}isEqual(e){return(e=(0,ke.m9)(e))instanceof xu&&this._delegate._internalPath.isEqual(e._internalPath)}}class bd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Wy(){return new gh("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new bd(e)}static delete(){const e=function M_(){return new pd("deleteField")}();return e._methodName="FieldValue.delete",new bd(e)}static arrayUnion(...e){const t=function x_(...i){return new vp("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new bd(t)}static arrayRemove(...e){const t=function O_(...i){return new Bg("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new bd(t)}static increment(e){const t=function Cp(i){return new Ly("increment",i)}(e);return t._methodName="FieldValue.increment",new bd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const V_={Firestore:em,GeoPoint:sf,Timestamp:kr,Blob:wh,Transaction:k_,WriteBatch:F_,DocumentReference:Jl,DocumentSnapshot:pf,Query:tl,QueryDocumentSnapshot:gf,QuerySnapshot:tm,CollectionReference:Dh,FieldPath:nm,FieldValue:bd,setLogLevel:function qy(i){!function W(i){Ko.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function j_(i){(function U_(i,e){i.INTERNAL.registerComponent(new ft.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},V_)))})(i,(e,t)=>new em(e,t,new P_)),i.registerVersion("@firebase/firestore-compat","0.1.25")}(ut.Z);var ic=V(1205),H_=V(440),$_=V(127);function rm(i,e){return function G_(i,e=k.z){return new Q.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(i,e)}function mf(i,e){return rm(i,e).pipe((0,he.U)(t=>({payload:t,type:"query"})))}function _f(i,e){return mf(i,e).pipe((0,je.O)(void 0),de(),(0,he.U)(([t,o])=>{const u=o.payload.docChanges(),p=u.map(v=>({type:v.type,payload:v}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((v,x)=>{const K=u.find(ce=>ce.doc.ref.isEqual(v.ref)),ee=t?.payload.docs.find(ce=>ce.ref.isEqual(v.ref));K&&JSON.stringify(K.doc.metadata)===JSON.stringify(v.metadata)||!K&&ee&&JSON.stringify(ee.metadata)===JSON.stringify(v.metadata)||p.push({type:"modified",payload:{oldIndex:x,newIndex:x,type:"modified",doc:v}})}),p}))}function Pc(i,e,t){return _f(i,t).pipe((0,Pe.R)((o,u)=>function Yy(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function Eh(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return im(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return im(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return im(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(p=>p.payload),e),[]),(0,yt.x)(),(0,he.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function im(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function Qy(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Ap{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=_f(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,he.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,je.O)(void 0),de(),(0,ot.h)(([o,u])=>u.length>0||!o),(0,he.U)(([o,u])=>u),be.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Pe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Qy(e);return Pc(this.query,t,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return mf(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),be.iC)}get(e){return(0,ge.D)(this.query.get(e)).pipe(be.iC)}add(e){return this.ref.add(e)}doc(e){return new Jy(this.ref.doc(e),this.afs)}}class Jy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:p}=K_(o,t);return new Ap(u,p,this.afs)}snapshotChanges(){return function z_(i,e){return rm(i,e).pipe((0,je.O)(void 0),de(),(0,he.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,he.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ge.D)(this.ref.get(e)).pipe(be.iC)}}class W_{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?_f(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,ot.h)(t=>t.length>0),be.iC):_f(this.query,this.afs.schedulers.outsideAngular).pipe(be.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Pe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Qy(e);return Pc(this.query,t,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return mf(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),be.iC)}get(e){return(0,ge.D)(this.query.get(e)).pipe(be.iC)}}const sm=new a.OlP("angularfire2.enableFirestorePersistence"),Xy=new a.OlP("angularfire2.firestore.persistenceSettings"),br=new a.OlP("angularfire2.firestore.settings"),ev=new a.OlP("angularfire2.firestore.use-emulator");function K_(i,e=(t=>t)){return{query:e(i),ref:i}}let q_=(()=>{class i{constructor(t,o,u,p,v,x,K,ee,ce,Ue,mt,Ft,Vt,gn,jn,Zi,Js){this.schedulers=K;const Yi=(0,nt.on)(t,x,o),Oo=ce;Ue&&(0,ic.nw)(Yi,x,mt,Vt,gn,jn,Ft,Zi),[this.firestore,this.persistenceEnabled$]=(0,nt.cc)(`${Yi.name}.firestore`,"AngularFirestore",Yi.name,()=>{const rs=x.runOutsideAngular(()=>Yi.firestore());if(p&&rs.settings(p),Oo&&rs.useEmulator(...Oo),u&&!(0,At.PM)(v)){const vs=()=>{try{return(0,ge.D)(rs.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(Na){return typeof console<"u"&&console.warn(Na),(0,Oe.of)(!1)}};return[rs,x.runOutsideAngular(vs)]}return[rs,(0,Oe.of)(!1)]},[p,Oo,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:p,query:v}=K_(u,o),x=this.schedulers.ngZone.run(()=>p);return new Ap(x,v,this)}collectionGroup(t,o){const u=o||(v=>v),p=this.firestore.collectionGroup(t);return new W_(u(p),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new Jy(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(nt.Dh),a.LFG(nt.xv,8),a.LFG(sm,8),a.LFG(br,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(be.HU),a.LFG(Xy,8),a.LFG(ev,8),a.LFG(ic.zQ,8),a.LFG(ic.Qv,8),a.LFG(ic.L6,8),a.LFG(ic._Q,8),a.LFG(ic.rT,8),a.LFG(ic.lh,8),a.LFG(ic.f7,8),a.LFG(H_.nm,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Ch=(()=>{class i{constructor(){$_.Z.registerVersion("angularfire",be.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:sm,useValue:!0},{provide:Xy,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[q_]}),i})()},2084:(Xt,st,V)=>{"use strict";V.d(st,{Q1:()=>ro,TE:()=>ha});var a=V(9751),k=V(9646),Q=V(8996),ge=V(4986),Oe=V(4482),be=V(5403),Ne=V(4004),We=V(3900),de=V(5813),he=V(4650),Pe=V(2011),yt=V(3942),ot=V(5861),nt=V(9681),At=V(2090),dt=V(4859);const ut="firebasestorage.googleapis.com",ze="storageBucket";class Ce extends At.ZR{constructor(G,ue){super(ke(G),`Firebase Storage: ${ue} (${ke(G)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ce.prototype)}_codeEquals(G){return ke(G)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(G){this.customData.serverResponse=G,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function ke(Z){return"storage/"+Z}function me(){return new Ce("unknown","An unknown error occurred, please check the error payload for server response.")}function Qe(){return new Ce("canceled","User canceled the upload/download.")}function Jt(){return new Ce("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ln(Z){return new Ce("invalid-argument",Z)}function Wt(){return new Ce("app-deleted","The Firebase app was deleted.")}function Yt(Z){return new Ce("invalid-root-operation","The operation '"+Z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $t(Z,G){return new Ce("invalid-format","String does not match format '"+Z+"': "+G)}function bn(Z){throw new Ce("internal-error","Internal error: "+Z)}class Rt{constructor(G,ue){this.bucket=G,this.path_=ue}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const G=encodeURIComponent;return"/b/"+G(this.bucket)+"/o/"+G(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(G,ue){let Ie;try{Ie=Rt.makeFromUrl(G,ue)}catch{return new Rt(G,"")}if(""===Ie.path)return Ie;throw function Pt(Z){return new Ce("invalid-default-bucket","Invalid default bucket '"+Z+"'.")}(G)}static makeFromUrl(G,ue){let Ie=null;const Xe="([A-Za-z0-9.\\-_]+)",N=new RegExp("^gs://"+Xe+"(/(.*))?$","i");function it(ii){ii.path_=decodeURIComponent(ii.path)}const Ln=ue.replace(/[.]/g,"\\."),Si=[{regex:N,indices:{bucket:1,path:3},postModify:function O(ii){"/"===ii.path.charAt(ii.path.length-1)&&(ii.path_=ii.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ln}/v[A-Za-z0-9_]+/b/${Xe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:it},{regex:new RegExp(`^https?://${ue===ut?"(?:storage.googleapis.com|storage.cloud.google.com)":ue}/${Xe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:it}];for(let ii=0;ii<Si.length;ii++){const zs=Si[ii],io=zs.regex.exec(G);if(io){let Ws=io[zs.indices.path];Ws||(Ws=""),Ie=new Rt(io[zs.indices.bucket],Ws),zs.postModify(Ie);break}}if(null==Ie)throw function Ot(Z){return new Ce("invalid-url","Invalid URL '"+Z+"'.")}(G);return Ie}}class Cn{constructor(G){this.promise_=Promise.reject(G)}getPromise(){return this.promise_}cancel(G=!1){}}function Vr(Z){return"string"==typeof Z||Z instanceof String}function Ur(Z){return Ar()&&Z instanceof Blob}function Ar(){return typeof Blob<"u"}function di(Z,G,ue,Ie){if(Ie<G)throw ln(`Invalid value for '${Z}'. Expected ${G} or greater.`);if(Ie>ue)throw ln(`Invalid value for '${Z}'. Expected ${ue} or less.`)}function xt(Z,G,ue){let Ie=G;return null==ue&&(Ie=`https://${G}`),`${ue}://${Ie}/v0${Z}`}function rr(Z){const G=encodeURIComponent;let ue="?";for(const Ie in Z)Z.hasOwnProperty(Ie)&&(ue=ue+(G(Ie)+"=")+G(Z[Ie])+"&");return ue=ue.slice(0,-1),ue}var Pn=(()=>{return(Z=Pn||(Pn={}))[Z.NO_ERROR=0]="NO_ERROR",Z[Z.NETWORK_ERROR=1]="NETWORK_ERROR",Z[Z.ABORT=2]="ABORT",Pn;var Z})();class ir{constructor(G,ue,Ie,Xe,O,R,N,X,it,Tt,Ln){this.url_=G,this.method_=ue,this.headers_=Ie,this.body_=Xe,this.successCodes_=O,this.additionalRetryCodes_=R,this.callback_=N,this.errorCallback_=X,this.timeout_=it,this.progressCallback_=Tt,this.connectionFactory_=Ln,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Or,Kr)=>{this.resolve_=Or,this.reject_=Kr,this.start_()})}start_(){const ue=(Ie,Xe)=>{const O=this.resolve_,R=this.reject_,N=Xe.connection;if(Xe.wasSuccessCode)try{const X=this.callback_(N,N.getResponse());!function Rn(Z){return void 0!==Z}(X)?O():O(X)}catch(X){R(X)}else if(null!==N){const X=me();X.serverResponse=N.getErrorText(),R(this.errorCallback_?this.errorCallback_(N,X):X)}else R(Xe.canceled?this.appDelete_?Wt():Qe():function qe(){return new Ce("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?ue(0,new Ci(!1,null,!0)):this.backoffId_=function ei(Z,G,ue){let Ie=1,Xe=null,O=null,R=!1,N=0;function X(){return 2===N}let it=!1;function Tt(...Jr){it||(it=!0,G.apply(null,Jr))}function Ln(Jr){Xe=setTimeout(()=>{Xe=null,Z(Kr,X())},Jr)}function Or(){O&&clearTimeout(O)}function Kr(Jr,...Ui){if(it)return void Or();if(Jr)return Or(),void Tt.call(null,Jr,...Ui);if(X()||R)return Or(),void Tt.call(null,Jr,...Ui);let Si;Ie<64&&(Ie*=2),1===N?(N=2,Si=0):Si=1e3*(Ie+Math.random()),Ln(Si)}let gi=!1;function Yr(Jr){gi||(gi=!0,Or(),!it&&(null!==Xe?(Jr||(N=2),clearTimeout(Xe),Ln(0)):Jr||(N=1)))}return Ln(0),O=setTimeout(()=>{R=!0,Yr(!0)},ue),Yr}((Ie,Xe)=>{if(Xe)return void Ie(!1,new Ci(!1,null,!0));const O=this.connectionFactory_();this.pendingConnection_=O;const R=N=>{null!==this.progressCallback_&&this.progressCallback_(N.loaded,N.lengthComputable?N.total:-1)};null!==this.progressCallback_&&O.addUploadProgressListener(R),O.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&O.removeUploadProgressListener(R),this.pendingConnection_=null;const N=O.getErrorCode()===Pn.NO_ERROR,X=O.getStatus();if(!N||this.isRetryStatusCode_(X)){const Tt=O.getErrorCode()===Pn.ABORT;return void Ie(!1,new Ci(!1,null,Tt))}const it=-1!==this.successCodes_.indexOf(X);Ie(!0,new Ci(it,O))})},ue,this.timeout_)}getPromise(){return this.promise_}cancel(G){this.canceled_=!0,this.appDelete_=G||!1,null!==this.backoffId_&&function fn(Z){Z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(G){const ue=G>=500&&G<600,Xe=-1!==[408,429].indexOf(G),O=-1!==this.additionalRetryCodes_.indexOf(G);return ue||Xe||O}}class Ci{constructor(G,ue,Ie){this.wasSuccessCode=G,this.connection=ue,this.canceled=!!Ie}}function ur(...Z){const G=function un(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==G){const ue=new G;for(let Ie=0;Ie<Z.length;Ie++)ue.append(Z[Ie]);return ue.getBlob()}if(Ar())return new Blob(Z);throw new Ce("unsupported-environment","This browser doesn't seem to support creating Blobs")}const cn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dn{constructor(G,ue){this.data=G,this.contentType=ue||null}}function Pi(Z,G){switch(Z){case cn.RAW:return new Dn(Vn(G));case cn.BASE64:case cn.BASE64URL:return new Dn(tr(Z,G));case cn.DATA_URL:return new Dn(function Ge(Z){const G=new Ke(Z);return G.base64?tr(cn.BASE64,G.rest):function ds(Z){let G;try{G=decodeURIComponent(Z)}catch{throw $t(cn.DATA_URL,"Malformed data URL.")}return Vn(G)}(G.rest)}(G),function Me(Z){return new Ke(Z).contentType}(G))}throw me()}function Vn(Z){const G=[];for(let ue=0;ue<Z.length;ue++){let Ie=Z.charCodeAt(ue);Ie<=127?G.push(Ie):Ie<=2047?G.push(192|Ie>>6,128|63&Ie):55296==(64512&Ie)?ue<Z.length-1&&56320==(64512&Z.charCodeAt(ue+1))?(Ie=65536|(1023&Ie)<<10|1023&Z.charCodeAt(++ue),G.push(240|Ie>>18,128|Ie>>12&63,128|Ie>>6&63,128|63&Ie)):G.push(239,191,189):56320==(64512&Ie)?G.push(239,191,189):G.push(224|Ie>>12,128|Ie>>6&63,128|63&Ie)}return new Uint8Array(G)}function tr(Z,G){switch(Z){case cn.BASE64:{const Xe=-1!==G.indexOf("-"),O=-1!==G.indexOf("_");if(Xe||O)throw $t(Z,"Invalid character '"+(Xe?"-":"_")+"' found: is it base64url encoded?");break}case cn.BASE64URL:{const Xe=-1!==G.indexOf("+"),O=-1!==G.indexOf("/");if(Xe||O)throw $t(Z,"Invalid character '"+(Xe?"+":"/")+"' found: is it base64 encoded?");G=G.replace(/-/g,"+").replace(/_/g,"/");break}}let ue;try{ue=function cr(Z){return atob(Z)}(G)}catch{throw $t(Z,"Invalid character found")}const Ie=new Uint8Array(ue.length);for(let Xe=0;Xe<ue.length;Xe++)Ie[Xe]=ue.charCodeAt(Xe);return Ie}class Ke{constructor(G){this.base64=!1,this.contentType=null;const ue=G.match(/^data:([^,]+)?,/);if(null===ue)throw $t(cn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ie=ue[1]||null;null!=Ie&&(this.base64=function He(Z,G){return Z.length>=G.length&&Z.substring(Z.length-G.length)===G}(Ie,";base64"),this.contentType=this.base64?Ie.substring(0,Ie.length-7):Ie),this.rest=G.substring(G.indexOf(",")+1)}}class Ve{constructor(G,ue){let Ie=0,Xe="";Ur(G)?(this.data_=G,Ie=G.size,Xe=G.type):G instanceof ArrayBuffer?(ue?this.data_=new Uint8Array(G):(this.data_=new Uint8Array(G.byteLength),this.data_.set(new Uint8Array(G))),Ie=this.data_.length):G instanceof Uint8Array&&(ue?this.data_=G:(this.data_=new Uint8Array(G.length),this.data_.set(G)),Ie=G.length),this.size_=Ie,this.type_=Xe}size(){return this.size_}type(){return this.type_}slice(G,ue){if(Ur(this.data_)){const Xe=function _r(Z,G,ue){return Z.webkitSlice?Z.webkitSlice(G,ue):Z.mozSlice?Z.mozSlice(G,ue):Z.slice?Z.slice(G,ue):null}(this.data_,G,ue);return null===Xe?null:new Ve(Xe)}{const Ie=new Uint8Array(this.data_.buffer,G,ue-G);return new Ve(Ie,!0)}}static getBlob(...G){if(Ar()){const ue=G.map(Ie=>Ie instanceof Ve?Ie.data_:Ie);return new Ve(ur.apply(null,ue))}{const ue=G.map(R=>Vr(R)?Pi(cn.RAW,R).data:R.data_);let Ie=0;ue.forEach(R=>{Ie+=R.byteLength});const Xe=new Uint8Array(Ie);let O=0;return ue.forEach(R=>{for(let N=0;N<R.length;N++)Xe[O++]=R[N]}),new Ve(Xe,!0)}}uploadData(){return this.data_}}function Nt(Z){let G;try{G=JSON.parse(Z)}catch{return null}return function pr(Z){return"object"==typeof Z&&!Array.isArray(Z)}(G)?G:null}function dr(Z){const G=Z.lastIndexOf("/",Z.length-2);return-1===G?Z:Z.slice(G+1)}function nr(Z,G){return G}class kn{constructor(G,ue,Ie,Xe){this.server=G,this.local=ue||G,this.writable=!!Ie,this.xform=Xe||nr}}let An=null;function Er(){if(An)return An;const Z=[];Z.push(new kn("bucket")),Z.push(new kn("generation")),Z.push(new kn("metageneration")),Z.push(new kn("name","fullPath",!0));const ue=new kn("name");ue.xform=function G(O,R){return function Tn(Z){return!Vr(Z)||Z.length<2?Z:dr(Z)}(R)},Z.push(ue);const Xe=new kn("size");return Xe.xform=function Ie(O,R){return void 0!==R?Number(R):R},Z.push(Xe),Z.push(new kn("timeCreated")),Z.push(new kn("updated")),Z.push(new kn("md5Hash",null,!0)),Z.push(new kn("cacheControl",null,!0)),Z.push(new kn("contentDisposition",null,!0)),Z.push(new kn("contentEncoding",null,!0)),Z.push(new kn("contentLanguage",null,!0)),Z.push(new kn("contentType",null,!0)),Z.push(new kn("metadata","customMetadata",!0)),An=Z,An}function ai(Z,G,ue){const Ie=Nt(G);return null===Ie?null:function zr(Z,G,ue){const Ie={type:"file"},Xe=ue.length;for(let O=0;O<Xe;O++){const R=ue[O];Ie[R.local]=R.xform(Ie,G[R.server])}return function Cr(Z,G){Object.defineProperty(Z,"ref",{get:function ue(){const O=new Rt(Z.bucket,Z.fullPath);return G._makeStorageReference(O)}})}(Ie,Z),Ie}(Z,Ie,ue)}function Re(Z,G){const ue={},Ie=G.length;for(let Xe=0;Xe<Ie;Xe++){const O=G[Xe];O.writable&&(ue[O.server]=Z[O.local])}return JSON.stringify(ue)}const Se="prefixes";class Ut{constructor(G,ue,Ie,Xe){this.url=G,this.method=ue,this.handler=Ie,this.timeout=Xe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qt(Z){if(!Z)throw me()}function Mn(Z,G){return function ue(Ie,Xe){const O=ai(Z,Xe,G);return Qt(null!==O),O}}function En(Z){return function G(ue,Ie){let Xe;return Xe=401===ue.getStatus()?ue.getErrorText().includes("Firebase App Check token is invalid")?function fe(){return new Ce("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Be(){return new Ce("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ue.getStatus()?function ie(Z){return new Ce("quota-exceeded","Quota for bucket '"+Z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Z.bucket):403===ue.getStatus()?function Fe(Z){return new Ce("unauthorized","User does not have permission to access '"+Z+"'.")}(Z.path):Ie,Xe.serverResponse=Ie.serverResponse,Xe}}function ar(Z){const G=En(Z);return function ue(Ie,Xe){let O=G(Ie,Xe);return 404===Ie.getStatus()&&(O=function Ae(Z){return new Ce("object-not-found","Object '"+Z+"' does not exist.")}(Z.path)),O.serverResponse=Xe.serverResponse,O}}function vi(Z,G,ue){const Xe=xt(G.fullServerUrl(),Z.host,Z._protocol),R=Z.maxOperationRetryTime,N=new Ut(Xe,"GET",Mn(Z,ue),R);return N.errorHandler=ar(G),N}function uo(Z,G,ue,Ie,Xe){const O={};O.prefix=G.isRoot?"":G.path+"/",ue&&ue.length>0&&(O.delimiter=ue),Ie&&(O.pageToken=Ie),Xe&&(O.maxResults=Xe);const N=xt(G.bucketOnlyServerUrl(),Z.host,Z._protocol),it=Z.maxOperationRetryTime,Tt=new Ut(N,"GET",function yr(Z,G){return function ue(Ie,Xe){const O=function St(Z,G,ue){const Ie=Nt(ue);return null===Ie?null:function ct(Z,G,ue){const Ie={prefixes:[],items:[],nextPageToken:ue.nextPageToken};if(ue[Se])for(const Xe of ue[Se]){const O=Xe.replace(/\/$/,""),R=Z._makeStorageReference(new Rt(G,O));Ie.prefixes.push(R)}if(ue.items)for(const Xe of ue.items){const O=Z._makeStorageReference(new Rt(G,Xe.name));Ie.items.push(O)}return Ie}(Z,G,Ie)}(Z,G,Xe);return Qt(null!==O),O}}(Z,G.bucket),it);return Tt.urlParams=O,Tt.errorHandler=En(G),Tt}function bi(Z,G,ue){const Ie=Object.assign({},ue);return Ie.fullPath=Z.path,Ie.size=G.size(),Ie.contentType||(Ie.contentType=function Ti(Z,G){return Z&&Z.contentType||G&&G.type()||"application/octet-stream"}(null,G)),Ie}class Tr{constructor(G,ue,Ie,Xe){this.current=G,this.total=ue,this.finalized=!!Ie,this.metadata=Xe||null}}function co(Z,G){let ue=null;try{ue=Z.getResponseHeader("X-Goog-Upload-Status")}catch{Qt(!1)}return Qt(!!ue&&-1!==(G||["active"]).indexOf(ue)),ue}const fs={STATE_CHANGED:"state_changed"},Wr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Kn(Z){switch(Z){case"running":case"pausing":case"canceling":return Wr.RUNNING;case"paused":return Wr.PAUSED;case"success":return Wr.SUCCESS;case"canceled":return Wr.CANCELED;default:return Wr.ERROR}}class js{constructor(G,ue,Ie){if(function er(Z){return"function"==typeof Z}(G)||null!=ue||null!=Ie)this.next=G,this.error=ue??void 0,this.complete=Ie??void 0;else{const O=G;this.next=O.next,this.error=O.error,this.complete=O.complete}}}function Ir(Z){return(...G)=>{Promise.resolve().then(()=>Z(...G))}}class As extends class Hs{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pn.NO_ERROR,this.sendPromise_=new Promise(G=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pn.ABORT,G()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pn.NETWORK_ERROR,G()}),this.xhr_.addEventListener("load",()=>{G()})})}send(G,ue,Ie,Xe){if(this.sent_)throw bn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ue,G,!0),void 0!==Xe)for(const O in Xe)Xe.hasOwnProperty(O)&&this.xhr_.setRequestHeader(O,Xe[O].toString());return void 0!==Ie?this.xhr_.send(Ie):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(G){return this.xhr_.getResponseHeader(G)}addUploadProgressListener(G){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",G)}removeUploadProgressListener(G){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",G)}}{initXhr(){this.xhr_.responseType="text"}}function hi(){return new As}class ps{constructor(G,ue,Ie=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=G,this._blob=ue,this._metadata=Ie,this._mappings=Er(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Xe=>{this._request=void 0,this._chunkMultiplier=1,Xe._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=Xe,this._transition("error"))},this._metadataErrorHandler=Xe=>{this._request=void 0,Xe._codeEquals("canceled")?this.completeTransitions_():(this._error=Xe,this._transition("error"))},this._promise=new Promise((Xe,O)=>{this._resolve=Xe,this._reject=O,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const G=this._transferred;return ue=>this._updateProgress(G+ue)}_shouldDoResumable(G){return G.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(G){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ue,Ie])=>{switch(this._state){case"running":G(ue,Ie);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((G,ue)=>{const Ie=function ki(Z,G,ue,Ie,Xe){const O=G.bucketOnlyServerUrl(),R=bi(G,Ie,Xe),N={name:R.fullPath},X=xt(O,Z.host,Z._protocol),Tt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ie.size()}`,"X-Goog-Upload-Header-Content-Type":R.contentType,"Content-Type":"application/json; charset=utf-8"},Ln=Re(R,ue),gi=new Ut(X,"POST",function Kr(Yr){let Jr;co(Yr);try{Jr=Yr.getResponseHeader("X-Goog-Upload-URL")}catch{Qt(!1)}return Qt(Vr(Jr)),Jr},Z.maxUploadRetryTime);return gi.urlParams=N,gi.headers=Tt,gi.body=Ln,gi.errorHandler=En(G),gi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Xe=this._ref.storage._makeRequest(Ie,hi,G,ue);this._request=Xe,Xe.getPromise().then(O=>{this._request=void 0,this._uploadUrl=O,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const G=this._uploadUrl;this._resolveToken((ue,Ie)=>{const Xe=function ws(Z,G,ue,Ie){const X=new Ut(ue,"POST",function O(it){const Tt=co(it,["active","final"]);let Ln=null;try{Ln=it.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Qt(!1)}Ln||Qt(!1);const Or=Number(Ln);return Qt(!isNaN(Or)),new Tr(Or,Ie.size(),"final"===Tt)},Z.maxUploadRetryTime);return X.headers={"X-Goog-Upload-Command":"query"},X.errorHandler=En(G),X}(this._ref.storage,this._ref._location,G,this._blob),O=this._ref.storage._makeRequest(Xe,hi,ue,Ie);this._request=O,O.getPromise().then(R=>{this._request=void 0,this._updateProgress(R.current),this._needToFetchStatus=!1,R.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const G=262144*this._chunkMultiplier,ue=new Tr(this._transferred,this._blob.size()),Ie=this._uploadUrl;this._resolveToken((Xe,O)=>{let R;try{R=function zi(Z,G,ue,Ie,Xe,O,R,N){const X=new Tr(0,0);if(R?(X.current=R.current,X.total=R.total):(X.current=0,X.total=Ie.size()),Ie.size()!==X.total)throw function en(){return new Ce("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const it=X.total-X.current;let Tt=it;Xe>0&&(Tt=Math.min(Tt,Xe));const Ln=X.current,gi={"X-Goog-Upload-Command":Tt===it?"upload, finalize":"upload","X-Goog-Upload-Offset":`${X.current}`},Yr=Ie.slice(Ln,Ln+Tt);if(null===Yr)throw Jt();const Si=new Ut(ue,"POST",function Jr(ii,zs){const io=co(ii,["active","final"]),na=X.current+Tt,Ws=Ie.size();let fa;return fa="final"===io?Mn(G,O)(ii,zs):null,new Tr(na,Ws,"final"===io,fa)},G.maxUploadRetryTime);return Si.headers=gi,Si.body=Yr.uploadData(),Si.progressCallback=N||null,Si.errorHandler=En(Z),Si}(this._ref._location,this._ref.storage,Ie,this._blob,G,this._mappings,ue,this._makeProgressCallback())}catch(X){return this._error=X,void this._transition("error")}const N=this._ref.storage._makeRequest(R,hi,Xe,O);this._request=N,N.getPromise().then(X=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(X.current),X.finalized?(this._metadata=X.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((G,ue)=>{const Ie=vi(this._ref.storage,this._ref._location,this._mappings),Xe=this._ref.storage._makeRequest(Ie,hi,G,ue);this._request=Xe,Xe.getPromise().then(O=>{this._request=void 0,this._metadata=O,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((G,ue)=>{const Ie=function bs(Z,G,ue,Ie,Xe){const O=G.bucketOnlyServerUrl(),R={"X-Goog-Upload-Protocol":"multipart"},X=function N(){let Si="";for(let ii=0;ii<2;ii++)Si+=Math.random().toString().slice(2);return Si}();R["Content-Type"]="multipart/related; boundary="+X;const it=bi(G,Ie,Xe),Tt=Re(it,ue),Kr=Ve.getBlob("--"+X+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Tt+"\r\n--"+X+"\r\nContent-Type: "+it.contentType+"\r\n\r\n",Ie,"\r\n--"+X+"--");if(null===Kr)throw Jt();const gi={name:it.fullPath},Yr=xt(O,Z.host,Z._protocol),Ui=Z.maxUploadRetryTime,Is=new Ut(Yr,"POST",Mn(Z,ue),Ui);return Is.urlParams=gi,Is.headers=R,Is.body=Kr.uploadData(),Is.errorHandler=En(G),Is}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Xe=this._ref.storage._makeRequest(Ie,hi,G,ue);this._request=Xe,Xe.getPromise().then(O=>{this._request=void 0,this._metadata=O,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(G){const ue=this._transferred;this._transferred=G,this._transferred!==ue&&this._notifyObservers()}_transition(G){if(this._state!==G)switch(G){case"canceling":case"pausing":this._state=G,void 0!==this._request&&this._request.cancel();break;case"running":const ue="paused"===this._state;this._state=G,ue&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=G,this._notifyObservers();break;case"canceled":this._error=Qe(),this._state=G,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const G=Kn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:G,metadata:this._metadata,task:this,ref:this._ref}}on(G,ue,Ie,Xe){const O=new js(ue||void 0,Ie||void 0,Xe||void 0);return this._addObserver(O),()=>{this._removeObserver(O)}}then(G,ue){return this._promise.then(G,ue)}catch(G){return this.then(null,G)}_addObserver(G){this._observers.push(G),this._notifyObserver(G)}_removeObserver(G){const ue=this._observers.indexOf(G);-1!==ue&&this._observers.splice(ue,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ue=>{this._notifyObserver(ue)})}_finishPromise(){if(void 0!==this._resolve){let G=!0;switch(Kn(this._state)){case Wr.SUCCESS:Ir(this._resolve.bind(null,this.snapshot))();break;case Wr.CANCELED:case Wr.ERROR:Ir(this._reject.bind(null,this._error))();break;default:G=!1}G&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(G){switch(Kn(this._state)){case Wr.RUNNING:case Wr.PAUSED:G.next&&Ir(G.next.bind(G,this.snapshot))();break;case Wr.SUCCESS:G.complete&&Ir(G.complete.bind(G))();break;default:G.error&&Ir(G.error.bind(G,this._error))()}}resume(){const G="paused"===this._state||"pausing"===this._state;return G&&this._transition("running"),G}pause(){const G="running"===this._state;return G&&this._transition("pausing"),G}cancel(){const G="running"===this._state||"pausing"===this._state;return G&&this._transition("canceling"),G}}class Zr{constructor(G,ue){this._service=G,this._location=ue instanceof Rt?ue:Rt.makeFromUrl(ue,G.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(G,ue){return new Zr(G,ue)}get root(){const G=new Rt(this._location.bucket,"");return this._newRef(this._service,G)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dr(this._location.path)}get storage(){return this._service}get parent(){const G=function Kt(Z){if(0===Z.length)return null;const G=Z.lastIndexOf("/");return-1===G?"":Z.slice(0,G)}(this._location.path);if(null===G)return null;const ue=new Rt(this._location.bucket,G);return new Zr(this._service,ue)}_throwIfRoot(G){if(""===this._location.path)throw Yt(G)}}function pn(Z,G,ue){return xn.apply(this,arguments)}function xn(){return(xn=(0,ot.Z)(function*(Z,G,ue){const Xe=yield ni(Z,{pageToken:ue});G.prefixes.push(...Xe.prefixes),G.items.push(...Xe.items),null!=Xe.nextPageToken&&(yield pn(Z,G,Xe.nextPageToken))})).apply(this,arguments)}function ni(Z,G){null!=G&&"number"==typeof G.maxResults&&di("options.maxResults",1,1e3,G.maxResults);const ue=G||{},Ie=uo(Z.storage,Z._location,"/",ue.pageToken,ue.maxResults);return Z.storage.makeRequestWithTokens(Ie,hi)}function Li(Z){Z._throwIfRoot("getDownloadURL");const G=function ti(Z,G,ue){const Xe=xt(G.fullServerUrl(),Z.host,Z._protocol),R=Z.maxOperationRetryTime,N=new Ut(Xe,"GET",function Ji(Z,G){return function ue(Ie,Xe){const O=ai(Z,Xe,G);return Qt(null!==O),function xr(Z,G,ue,Ie){const Xe=Nt(G);if(null===Xe||!Vr(Xe.downloadTokens))return null;const O=Xe.downloadTokens;if(0===O.length)return null;const R=encodeURIComponent;return O.split(",").map(it=>{const Ln=Z.fullPath;return xt("/b/"+R(Z.bucket)+"/o/"+R(Ln),ue,Ie)+rr({alt:"media",token:it})})[0]}(O,Xe,Z.host,Z._protocol)}}(Z,ue),R);return N.errorHandler=ar(G),N}(Z.storage,Z._location,Er());return Z.storage.makeRequestWithTokens(G,hi).then(ue=>{if(null===ue)throw function wt(){return new Ce("no-download-url","The given file does not have any download URLs.")}();return ue})}function fi(Z,G){const ue=function on(Z,G){const ue=G.split("/").filter(Ie=>Ie.length>0).join("/");return 0===Z.length?ue:Z+"/"+ue}(Z._location.path,G),Ie=new Rt(Z._location.bucket,ue);return new Zr(Z.storage,Ie)}function Cs(Z,G){if(Z instanceof es){const ue=Z;if(null==ue._bucket)throw function jt(){return new Ce("no-default-bucket","No default bucket found. Did you set the '"+ze+"' property when initializing the app?")}();const Ie=new Zr(ue,ue._bucket);return null!=G?Cs(Ie,G):Ie}return void 0!==G?fi(Z,G):Z}function ea(Z,G){if(G&&function Es(Z){return/^[A-Za-z]+:\/\//.test(Z)}(G)){if(Z instanceof es)return function Xo(Z,G){return new Zr(Z,G)}(Z,G);throw ln("To use ref(service, url), the first argument must be a Storage instance.")}return Cs(Z,G)}function Ns(Z,G){const ue=G?.[ze];return null==ue?null:Rt.makeFromBucketSpec(ue,Z)}class es{constructor(G,ue,Ie,Xe,O){this.app=G,this._authProvider=ue,this._appCheckProvider=Ie,this._url=Xe,this._firebaseVersion=O,this._bucket=null,this._host=ut,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Xe?Rt.makeFromBucketSpec(Xe,this._host):Ns(this._host,this.app.options)}get host(){return this._host}set host(G){this._host=G,this._bucket=null!=this._url?Rt.makeFromBucketSpec(this._url,G):Ns(G,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(G){di("time",0,Number.POSITIVE_INFINITY,G),this._maxUploadRetryTime=G}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(G){di("time",0,Number.POSITIVE_INFINITY,G),this._maxOperationRetryTime=G}_getAuthToken(){var G=this;return(0,ot.Z)(function*(){if(G._overrideAuthToken)return G._overrideAuthToken;const ue=G._authProvider.getImmediate({optional:!0});if(ue){const Ie=yield ue.getToken();if(null!==Ie)return Ie.accessToken}return null})()}_getAppCheckToken(){var G=this;return(0,ot.Z)(function*(){const ue=G._appCheckProvider.getImmediate({optional:!0});return ue?(yield ue.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(G=>G.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(G){return new Zr(this,G)}_makeRequest(G,ue,Ie,Xe){if(this._deleted)return new Cn(Wt());{const O=function sn(Z,G,ue,Ie,Xe,O){const R=rr(Z.urlParams),N=Z.url+R,X=Object.assign({},Z.headers);return function Dr(Z,G){G&&(Z["X-Firebase-GMPID"]=G)}(X,G),function Qi(Z,G){null!==G&&G.length>0&&(Z.Authorization="Firebase "+G)}(X,ue),function mr(Z,G){Z["X-Firebase-Storage-Version"]="webjs/"+(G??"AppManager")}(X,O),function Gn(Z,G){null!==G&&(Z["X-Firebase-AppCheck"]=G)}(X,Ie),new ir(N,Z.method,X,Z.body,Z.successCodes,Z.additionalRetryCodes,Z.handler,Z.errorHandler,Z.timeout,Z.progressCallback,Xe)}(G,this._appId,Ie,Xe,ue,this._firebaseVersion);return this._requests.add(O),O.getPromise().then(()=>this._requests.delete(O),()=>this._requests.delete(O)),O}}makeRequestWithTokens(G,ue){var Ie=this;return(0,ot.Z)(function*(){const[Xe,O]=yield Promise.all([Ie._getAuthToken(),Ie._getAppCheckToken()]);return Ie._makeRequest(G,ue,Xe,O).getPromise()})()}}const Ms="@firebase/storage";function $s(Z,G){return ea(Z=(0,At.m9)(Z),G)}function os(Z,{instanceIdentifier:G}){const ue=Z.getProvider("app").getImmediate(),Ie=Z.getProvider("auth-internal"),Xe=Z.getProvider("app-check-internal");return new es(ue,Ie,Xe,G,nt.SDK_VERSION)}!function Co(){(0,nt._registerComponent)(new dt.wA("storage",os,"PUBLIC").setMultipleInstances(!0)),(0,nt.registerVersion)(Ms,"0.9.9",""),(0,nt.registerVersion)(Ms,"0.9.9","esm2017")}();class Gs{constructor(G,ue,Ie){this._delegate=G,this.task=ue,this.ref=Ie}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class gr{constructor(G,ue){this._delegate=G,this._ref=ue,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Gs(this._delegate.snapshot,this,this._ref)}then(G,ue){return this._delegate.then(Ie=>{if(G)return G(new Gs(Ie,this,this._ref))},ue)}on(G,ue,Ie,Xe){let O;return ue&&(O="function"==typeof ue?R=>ue(new Gs(R,this,this._ref)):{next:ue.next?R=>ue.next(new Gs(R,this,this._ref)):void 0,complete:ue.complete||void 0,error:ue.error||void 0}),this._delegate.on(G,O,Ie||void 0,Xe||void 0)}}class zo{constructor(G,ue){this._delegate=G,this._service=ue}get prefixes(){return this._delegate.prefixes.map(G=>new ms(G,this._service))}get items(){return this._delegate.items.map(G=>new ms(G,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ms{constructor(G,ue){this._delegate=G,this.storage=ue}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(G){const ue=function pi(Z,G){return fi(Z,G)}(this._delegate,G);return new ms(ue,this.storage)}get root(){return new ms(this._delegate.root,this.storage)}get parent(){const G=this._delegate.parent;return null==G?null:new ms(G,this.storage)}put(G,ue){return this._throwIfRoot("put"),new gr(function Os(Z,G,ue){return function ht(Z,G,ue){return Z._throwIfRoot("uploadBytesResumable"),new ps(Z,new Ve(G),ue)}(Z=(0,At.m9)(Z),G,ue)}(this._delegate,G,ue),this)}putString(G,ue=cn.RAW,Ie){this._throwIfRoot("putString");const Xe=Pi(ue,G),O=Object.assign({},Ie);return null==O.contentType&&null!=Xe.contentType&&(O.contentType=Xe.contentType),new gr(new ps(this._delegate,new Ve(Xe.data,!0),O),this)}listAll(){return function la(Z){return function Zt(Z){const G={prefixes:[],items:[]};return pn(Z,G).then(()=>G)}(Z=(0,At.m9)(Z))}(this._delegate).then(G=>new zo(G,this.storage))}list(G){return function eo(Z,G){return ni(Z=(0,At.m9)(Z),G)}(this._delegate,G||void 0).then(ue=>new zo(ue,this.storage))}getMetadata(){return function Rs(Z){return function lr(Z){Z._throwIfRoot("getMetadata");const G=vi(Z.storage,Z._location,Er());return Z.storage.makeRequestWithTokens(G,hi)}(Z=(0,At.m9)(Z))}(this._delegate)}updateMetadata(G){return function ss(Z,G){return function Ds(Z,G){Z._throwIfRoot("updateMetadata");const ue=function hs(Z,G,ue,Ie){const O=xt(G.fullServerUrl(),Z.host,Z._protocol),N=Re(ue,Ie),it=Z.maxOperationRetryTime,Tt=new Ut(O,"PATCH",Mn(Z,Ie),it);return Tt.headers={"Content-Type":"application/json; charset=utf-8"},Tt.body=N,Tt.errorHandler=ar(G),Tt}(Z.storage,Z._location,G,Er());return Z.storage.makeRequestWithTokens(ue,hi)}(Z=(0,At.m9)(Z),G)}(this._delegate,G)}getDownloadURL(){return function Vi(Z){return Li(Z=(0,At.m9)(Z))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function to(Z){return function Xs(Z){Z._throwIfRoot("deleteObject");const G=function Gi(Z,G){const Ie=xt(G.fullServerUrl(),Z.host,Z._protocol),N=new Ut(Ie,"DELETE",function R(X,it){},Z.maxOperationRetryTime);return N.successCodes=[200,204],N.errorHandler=ar(G),N}(Z.storage,Z._location);return Z.storage.makeRequestWithTokens(G,hi)}(Z=(0,At.m9)(Z))}(this._delegate)}_throwIfRoot(G){if(""===this._delegate._location.path)throw Yt(G)}}class Po{constructor(G,ue){this.app=G,this._delegate=ue}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(G){if(ts(G))throw ln("ref() expected a child path but got a URL, use refFromURL instead.");return new ms($s(this._delegate,G),this)}refFromURL(G){if(!ts(G))throw ln("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Rt.makeFromUrl(G,this._delegate.host)}catch{throw ln("refFromUrl() expected a valid full URL but got an invalid one.")}return new ms($s(this._delegate,G),this)}setMaxUploadRetryTime(G){this._delegate.maxUploadRetryTime=G}setMaxOperationRetryTime(G){this._delegate.maxOperationRetryTime=G}useEmulator(G,ue,Ie={}){!function fo(Z,G,ue,Ie={}){!function Ts(Z,G,ue,Ie={}){Z.host=`${G}:${ue}`,Z._protocol="http";const{mockUserToken:Xe}=Ie;Xe&&(Z._overrideAuthToken="string"==typeof Xe?Xe:(0,At.Sg)(Xe,Z.app.options.projectId))}(Z,G,ue,Ie)}(this._delegate,G,ue,Ie)}}function ts(Z){return/^[A-Za-z]+:\/\//.test(Z)}function ua(Z,{instanceIdentifier:G}){const ue=Z.getProvider("app-compat").getImmediate(),Ie=Z.getProvider("storage").getImmediate({identifier:G});return new Po(ue,Ie)}!function ca(Z){const G={TaskState:Wr,TaskEvent:fs,StringFormat:cn,Storage:Po,Reference:ms};Z.INTERNAL.registerComponent(new dt.wA("storage-compat",ua,"PUBLIC").setServiceProps(G).setMultipleInstances(!0)),Z.registerVersion("@firebase/storage-compat","0.1.17")}(yt.Z);var po=V(440),ko=V(127);function go(Z){const G=function ta(Z){return new a.y(G=>{const ue=R=>G.next(R);ue(Z.snapshot);const O=Z.on("state_changed",ue);return Z.then(R=>{ue(R),G.complete()},R=>{ue(Z.snapshot),(R=>{G.error(R)})(R)}),function(){O()}}).pipe(function je(Z,G=ge.z){return(0,Oe.e)((ue,Ie)=>{let Xe=null,O=null,R=null;const N=()=>{if(Xe){Xe.unsubscribe(),Xe=null;const it=O;O=null,Ie.next(it)}};function X(){const it=R+Z,Tt=G.now();if(Tt<it)return Xe=this.schedule(void 0,it-Tt),void Ie.add(Xe);N()}ue.subscribe((0,be.x)(Ie,it=>{O=it,R=G.now(),Xe||(Xe=G.schedule(X,Z),Ie.add(Xe))},()=>{N(),Ie.complete()},void 0,()=>{O=Xe=null}))})}(0))}(Z);return{task:Z,then:Z.then.bind(Z),catch:Z.catch.bind(Z),pause:Z.pause.bind(Z),cancel:Z.cancel.bind(Z),resume:Z.resume.bind(Z),snapshotChanges:()=>G,percentageChanges:()=>G.pipe((0,Ne.U)(ue=>ue.bytesTransferred/ue.totalBytes*100))}}function yo(Z){return{getDownloadURL:()=>(0,k.of)(void 0).pipe(de.fc,(0,We.w)(()=>Z.getDownloadURL()),de.iC),getMetadata:()=>(0,k.of)(void 0).pipe(de.fc,(0,We.w)(()=>Z.getMetadata()),de.iC),delete:()=>(0,Q.D)(Z.delete()),child:G=>yo(Z.child(G)),updateMetadata:G=>(0,Q.D)(Z.updateMetadata(G)),put:(G,ue)=>go(Z.put(G,ue)),putString:(G,ue,Ie)=>go(Z.putString(G,ue,Ie)),list:G=>(0,Q.D)(Z.list(G)),listAll:()=>(0,Q.D)(Z.listAll())}}const To=new he.OlP("angularfire2.storageBucket"),Lt=new he.OlP("angularfire2.storage.maxUploadRetryTime"),sr=new he.OlP("angularfire2.storage.maxOperationRetryTime"),no=new he.OlP("angularfire2.storage.use-emulator");let ro=(()=>{class Z{constructor(ue,Ie,Xe,O,R,N,X,it,Tt,Ln){const Or=(0,Pe.on)(ue,R,Ie);this.storage=(0,Pe.cc)(`${Or.name}.storage.${Xe}`,"AngularFireStorage",Or.name,()=>{const Kr=R.runOutsideAngular(()=>Or.storage(Xe||void 0)),gi=Tt;return gi&&Kr.useEmulator(...gi),X&&Kr.setMaxUploadRetryTime(X),it&&Kr.setMaxOperationRetryTime(it),Kr},[X,it])}ref(ue){return yo(this.storage.ref(ue))}refFromURL(ue){return yo(this.storage.refFromURL(ue))}upload(ue,Ie,Xe){return yo(this.storage.ref(ue)).put(Ie,Xe)}}return Z.\u0275fac=function(ue){return new(ue||Z)(he.LFG(Pe.Dh),he.LFG(Pe.xv,8),he.LFG(To,8),he.LFG(he.Lbi),he.LFG(he.R0b),he.LFG(de.HU),he.LFG(Lt,8),he.LFG(sr,8),he.LFG(no,8),he.LFG(po.nm,8))},Z.\u0275prov=he.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"any"}),Z})(),da=(()=>{class Z{}return Z.\u0275fac=function(ue){return new(ue||Z)},Z.\u0275mod=he.oAB({type:Z}),Z.\u0275inj=he.cJS({}),Z})(),ha=(()=>{class Z{constructor(){ko.Z.registerVersion("angularfire",de.q4.full,"gcs-compat")}}return Z.\u0275fac=function(ue){return new(ue||Z)},Z.\u0275mod=he.oAB({type:Z}),Z.\u0275inj=he.cJS({providers:[ro],imports:[da]}),Z})()},2011:(Xt,st,V)=>{"use strict";V.d(st,{Dh:()=>Ne,GT:()=>be,cc:()=>ot,hO:()=>yt,on:()=>de,pX:()=>Oe,xv:()=>We});var a=V(4650),k=V(127),Q=V(5813);Xt=V.hmd(Xt);const ge=["ngOnDestroy"],Oe=(ut,ze,Gt,ft={})=>new Proxy(ut,{get:(Ce,ke)=>Gt.runOutsideAngular(()=>{var me;if(ut[ke])return!(null===(me=ft?.spy)||void 0===me)&&me.get&&ft.spy.get(ke,ut[ke]),ut[ke];if(ge.indexOf(ke)>-1)return()=>{};const Ae=ze.toPromise().then(ie=>{const Be=ie&&ie[ke];return"function"==typeof Be?Be.bind(ie):Be&&Be.then?Be.then(fe=>Gt.run(()=>fe)):Gt.run(()=>Be)});return new Proxy(()=>{},{get:(ie,Be)=>Ae[Be],apply:(ie,Be,fe)=>Ae.then(Fe=>{var qe;const Qe=Fe&&Fe(...fe);return!(null===(qe=ft?.spy)||void 0===qe)&&qe.apply&&ft.spy.apply(ke,fe,Qe),Qe})})})}),be=(ut,ze)=>{ze.forEach(Gt=>{Object.getOwnPropertyNames(Gt.prototype||Gt).forEach(ft=>{Object.defineProperty(ut.prototype,ft,Object.getOwnPropertyDescriptor(Gt.prototype||Gt,ft))})})};class je{constructor(ze){return ze}}const Ne=new a.OlP("angularfire2.app.options"),We=new a.OlP("angularfire2.app.name");function de(ut,ze,Gt){const Ce="object"==typeof Gt&&Gt||{};Ce.name=Ce.name||"string"==typeof Gt&&Gt||"[DEFAULT]";const me=k.Z.apps.filter(Ae=>Ae&&Ae.name===Ce.name)[0]||ze.runOutsideAngular(()=>k.Z.initializeApp(ut,Ce));try{JSON.stringify(ut)!==JSON.stringify(me.options)&&he("error",`${me.name} Firebase App already initialized with different options${Xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new je(me)}const he=(ut,...ze)=>{(0,a.X6Q)()&&typeof console<"u"&&console[ut](...ze)},Pe={provide:je,useFactory:de,deps:[Ne,a.R0b,[new a.FiY,We]]};let yt=(()=>{class ut{constructor(Gt){k.Z.registerVersion("angularfire",Q.q4.full,"core"),k.Z.registerVersion("angularfire",Q.q4.full,"app-compat"),k.Z.registerVersion("angular",a.q4F.full,Gt.toString())}static initializeApp(Gt,ft){return{ngModule:ut,providers:[{provide:Ne,useValue:Gt},{provide:We,useValue:ft}]}}}return ut.\u0275fac=function(Gt){return new(Gt||ut)(a.LFG(a.Lbi))},ut.\u0275mod=a.oAB({type:ut}),ut.\u0275inj=a.cJS({providers:[Pe]}),ut})();function ot(ut,ze,Gt,ft,Ce){const[,ke,me]=globalThis.\u0275AngularfireInstanceCache.find(Ae=>Ae[0]===ut)||[];if(ke)return function nt(ut,ze){try{return ut.toString()===ze.toString()}catch{return ut===ze}}(Ce,me)||(dt("error",`${ze} was already initialized on the ${Gt} Firebase App with different settings.${At?" You may need to reload as Firebase is not HMR aware.":""}`),dt("warn",{is:Ce,was:me})),ke;{const Ae=ft();return globalThis.\u0275AngularfireInstanceCache.push([ut,Ae,Ce]),Ae}}const At=!!Xt.hot,dt=(ut,...ze)=>{(0,a.X6Q)()&&typeof console<"u"&&console[ut](...ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Xt,st,V)=>{"use strict";V.d(st,{q4:()=>re,iC:()=>Ea,fc:()=>ol,HU:()=>La,vb:()=>Va,JM:()=>Fs});var a=V(4650),k=V(5867),Q=V(5861),ge=V(9681),Oe=V(2090),be=V(4859),je=V(1877),Ne=V(8766);const We="@firebase/installations",de="0.5.12",Pe=`w:${de}`,yt="FIS_v2",ze=new Oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gt(B){return B instanceof Oe.ZR&&B.code.includes("request-failed")}function ft({projectId:B}){return`https://firebaseinstallations.googleapis.com/v1/projects/${B}/installations`}function Ce(B){return{token:B.token,requestStatus:2,expiresIn:Fe(B.expiresIn),creationTime:Date.now()}}function ke(B,$){return me.apply(this,arguments)}function me(){return(me=(0,Q.Z)(function*(B,$){const _e=(yield $.json()).error;return ze.create("request-failed",{requestName:B,serverCode:_e.code,serverMessage:_e.message,serverStatus:_e.status})})).apply(this,arguments)}function Ae({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function ie(B,{refreshToken:$}){const oe=Ae(B);return oe.append("Authorization",function qe(B){return`${yt} ${B}`}($)),oe}function Be(B){return fe.apply(this,arguments)}function fe(){return(fe=(0,Q.Z)(function*(B){const $=yield B();return $.status>=500&&$.status<600?B():$})).apply(this,arguments)}function Fe(B){return Number(B.replace("s","000"))}function Qe(B,$){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,Q.Z)(function*({appConfig:B,heartbeatServiceProvider:$},{fid:oe}){const _e=ft(B),lt=Ae(B),bt=$.getImmediate({optional:!0});if(bt){const qn=yield bt.getHeartbeatsHeader();qn&&lt.append("x-firebase-client",qn)}const dn={method:"POST",headers:lt,body:JSON.stringify({fid:oe,authVersion:yt,appId:B.appId,sdkVersion:Pe})},Bn=yield Be(()=>fetch(_e,dn));if(Bn.ok){const qn=yield Bn.json();return{fid:qn.fid||oe,registrationStatus:2,refreshToken:qn.refreshToken,authToken:Ce(qn.authToken)}}throw yield ke("Create Installation",Bn)})).apply(this,arguments)}function Pt(B){return new Promise($=>{setTimeout($,B)})}const Jt=/^[cdef][\w-]{21}$/;function wt(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const oe=function ln(B){return function jt(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return Jt.test(oe)?oe:""}catch{return""}}function Wt(B){return`${B.appName}!${B.appId}`}const Yt=new Map;function $t(B,$){const oe=Wt(B);Cn(oe,$),function ei(B,$){const oe=function Rn(){return!fn&&"BroadcastChannel"in self&&(fn=new BroadcastChannel("[Firebase] FID Change"),fn.onmessage=B=>{Cn(B.data.key,B.data.fid)}),fn}();oe&&oe.postMessage({key:B,fid:$}),function er(){0===Yt.size&&fn&&(fn.close(),fn=null)}()}(oe,$)}function Cn(B,$){const oe=Yt.get(B);if(oe)for(const _e of oe)_e($)}let fn=null;const Ur="firebase-installations-store";let Ar=null;function di(){return Ar||(Ar=(0,Ne.X3)("firebase-installations-database",1,{upgrade:(B,$)=>{0===$&&B.createObjectStore(Ur)}})),Ar}function xt(B,$){return rr.apply(this,arguments)}function rr(){return(rr=(0,Q.Z)(function*(B,$){const oe=Wt(B),lt=(yield di()).transaction(Ur,"readwrite"),bt=lt.objectStore(Ur),Ht=yield bt.get(oe);return yield bt.put($,oe),yield lt.done,(!Ht||Ht.fid!==$.fid)&&$t(B,$.fid),$})).apply(this,arguments)}function Pn(B){return ir.apply(this,arguments)}function ir(){return(ir=(0,Q.Z)(function*(B){const $=Wt(B),_e=(yield di()).transaction(Ur,"readwrite");yield _e.objectStore(Ur).delete($),yield _e.done})).apply(this,arguments)}function Ci(B,$){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,Q.Z)(function*(B,$){const oe=Wt(B),lt=(yield di()).transaction(Ur,"readwrite"),bt=lt.objectStore(Ur),Ht=yield bt.get(oe),dn=$(Ht);return void 0===dn?yield bt.delete(oe):yield bt.put(dn,oe),yield lt.done,dn&&(!Ht||Ht.fid!==dn.fid)&&$t(B,dn.fid),dn})).apply(this,arguments)}function mr(B){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,Q.Z)(function*(B){let $;const oe=yield Ci(B.appConfig,_e=>{const lt=Gn(_e),bt=sn(B,lt);return $=bt.registrationPromise,bt.installationEntry});return""===oe.fid?{installationEntry:yield $}:{installationEntry:oe,registrationPromise:$}})).apply(this,arguments)}function Gn(B){return Dn(B||{fid:wt(),registrationStatus:0})}function sn(B,$){if(0===$.registrationStatus){if(!navigator.onLine)return{installationEntry:$,registrationPromise:Promise.reject(ze.create("app-offline"))};const oe={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},_e=function un(B,$){return ur.apply(this,arguments)}(B,oe);return{installationEntry:oe,registrationPromise:_e}}return 1===$.registrationStatus?{installationEntry:$,registrationPromise:_r(B)}:{installationEntry:$}}function ur(){return(ur=(0,Q.Z)(function*(B,$){try{const oe=yield Qe(B,$);return xt(B.appConfig,oe)}catch(oe){throw Gt(oe)&&409===oe.customData.serverCode?yield Pn(B.appConfig):yield xt(B.appConfig,{fid:$.fid,registrationStatus:0}),oe}})).apply(this,arguments)}function _r(B){return cr.apply(this,arguments)}function cr(){return(cr=(0,Q.Z)(function*(B){let $=yield cn(B.appConfig);for(;1===$.registrationStatus;)yield Pt(100),$=yield cn(B.appConfig);if(0===$.registrationStatus){const{installationEntry:oe,registrationPromise:_e}=yield mr(B);return _e||oe}return $})).apply(this,arguments)}function cn(B){return Ci(B,$=>{if(!$)throw ze.create("installation-not-found");return Dn($)})}function Dn(B){return function Pi(B){return 1===B.registrationStatus&&B.registrationTime+1e4<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function Vn(B,$){return ds.apply(this,arguments)}function ds(){return(ds=(0,Q.Z)(function*({appConfig:B,heartbeatServiceProvider:$},oe){const _e=tr(B,oe),lt=ie(B,oe),bt=$.getImmediate({optional:!0});if(bt){const qn=yield bt.getHeartbeatsHeader();qn&&lt.append("x-firebase-client",qn)}const dn={method:"POST",headers:lt,body:JSON.stringify({installation:{sdkVersion:Pe,appId:B.appId}})},Bn=yield Be(()=>fetch(_e,dn));if(Bn.ok)return Ce(yield Bn.json());throw yield ke("Generate Auth Token",Bn)})).apply(this,arguments)}function tr(B,{fid:$}){return`${ft(B)}/${$}/authTokens:generate`}function Ke(B){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,Q.Z)(function*(B,$=!1){let oe;const _e=yield Ci(B.appConfig,bt=>{if(!on(bt))throw ze.create("not-registered");const Ht=bt.authToken;if(!$&&dr(Ht))return bt;if(1===Ht.requestStatus)return oe=Me(B,$),bt;{if(!navigator.onLine)throw ze.create("app-offline");const dn=kn(bt);return oe=Nt(B,dn),dn}});return oe?yield oe:_e.authToken})).apply(this,arguments)}function Me(B,$){return He.apply(this,arguments)}function He(){return(He=(0,Q.Z)(function*(B,$){let oe=yield Ve(B.appConfig);for(;1===oe.authToken.requestStatus;)yield Pt(100),oe=yield Ve(B.appConfig);const _e=oe.authToken;return 0===_e.requestStatus?Ke(B,$):_e})).apply(this,arguments)}function Ve(B){return Ci(B,$=>{if(!on($))throw ze.create("not-registered");return function An(B){return 1===B.requestStatus&&B.requestTime+1e4<Date.now()}($.authToken)?Object.assign(Object.assign({},$),{authToken:{requestStatus:0}}):$})}function Nt(B,$){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,Q.Z)(function*(B,$){try{const oe=yield Vn(B,$),_e=Object.assign(Object.assign({},$),{authToken:oe});return yield xt(B.appConfig,_e),oe}catch(oe){if(!Gt(oe)||401!==oe.customData.serverCode&&404!==oe.customData.serverCode){const _e=Object.assign(Object.assign({},$),{authToken:{requestStatus:0}});yield xt(B.appConfig,_e)}else yield Pn(B.appConfig);throw oe}})).apply(this,arguments)}function on(B){return void 0!==B&&2===B.registrationStatus}function dr(B){return 2===B.requestStatus&&!function nr(B){const $=Date.now();return $<B.creationTime||B.creationTime+B.expiresIn<$+36e5}(B)}function kn(B){const $={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:$})}function Er(){return(Er=(0,Q.Z)(function*(B){const $=B,{installationEntry:oe,registrationPromise:_e}=yield mr($);return _e?_e.catch(console.error):Ke($).catch(console.error),oe.fid})).apply(this,arguments)}function zr(){return(zr=(0,Q.Z)(function*(B,$=!1){const oe=B;return yield ai(oe),(yield Ke(oe,$)).token})).apply(this,arguments)}function ai(B){return xr.apply(this,arguments)}function xr(){return(xr=(0,Q.Z)(function*(B){const{registrationPromise:$}=yield mr(B);$&&(yield $)})).apply(this,arguments)}function yr(B){return ze.create("missing-app-config-values",{valueName:B})}const Ji="installations",ar=B=>{const $=B.getProvider("app").getImmediate(),oe=function Mn(B){if(!B||!B.options)throw yr("App Configuration");if(!B.name)throw yr("App Name");const $=["projectId","apiKey","appId"];for(const oe of $)if(!B.options[oe])throw yr(oe);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}($);return{app:$,appConfig:oe,heartbeatServiceProvider:(0,ge._getProvider)($,"heartbeat"),_delete:()=>Promise.resolve()}},vi=B=>{const $=B.getProvider("app").getImmediate(),oe=(0,ge._getProvider)($,Ji).getImmediate();return{getId:()=>function Tn(B){return Er.apply(this,arguments)}(oe),getToken:lt=>function Cr(B){return zr.apply(this,arguments)}(oe,lt)}};(function uo(){(0,ge._registerComponent)(new be.wA(Ji,ar,"PUBLIC")),(0,ge._registerComponent)(new be.wA("installations-internal",vi,"PRIVATE"))})(),(0,ge.registerVersion)(We,de),(0,ge.registerVersion)(We,de,"esm2017");const Xi="@firebase/remote-config",bi=new Oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Go{constructor($,oe,_e,lt){this.client=$,this.storage=oe,this.storageCache=_e,this.logger=lt}isCachedDataFresh($,oe){if(!oe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const _e=Date.now()-oe,lt=_e<=$;return this.logger.debug(`Config fetch cache check. Cache age millis: ${_e}. Cache max age millis (minimumFetchIntervalMillis setting): ${$}. Is cache hit: ${lt}.`),lt}fetch($){var oe=this;return(0,Q.Z)(function*(){const[_e,lt]=yield Promise.all([oe.storage.getLastSuccessfulFetchTimestampMillis(),oe.storage.getLastSuccessfulFetchResponse()]);if(lt&&oe.isCachedDataFresh($.cacheMaxAgeMillis,_e))return lt;$.eTag=lt&&lt.eTag;const bt=yield oe.client.fetch($),Ht=[oe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===bt.status&&Ht.push(oe.storage.setLastSuccessfulFetchResponse(bt)),yield Promise.all(Ht),bt})()}}function ps(B=navigator){return B.languages&&B.languages[0]||B.language}class Zr{constructor($,oe,_e,lt,bt,Ht){this.firebaseInstallations=$,this.sdkVersion=oe,this.namespace=_e,this.projectId=lt,this.apiKey=bt,this.appId=Ht}fetch($){var oe=this;return(0,Q.Z)(function*(){var _e,lt,bt;const[Ht,dn]=yield Promise.all([oe.firebaseInstallations.getId(),oe.firebaseInstallations.getToken()]),qn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${oe.projectId}/namespaces/${oe.namespace}:fetch?key=${oe.apiKey}`,Fr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":$.eTag||"*"},Yn={sdk_version:oe.sdkVersion,app_instance_id:Ht,app_instance_id_token:dn,app_id:oe.appId,language_code:ps()},qs={method:"POST",headers:Fr,body:JSON.stringify(Yn)},Mo=fetch(qn,qs),ul=new Promise((Pa,El)=>{$.signal.addEventListener(()=>{const Ll=new Error("The operation was aborted.");Ll.name="AbortError",El(Ll)})});let Zs;try{yield Promise.race([Mo,ul]),Zs=yield Mo}catch(Pa){let El="fetch-client-network";throw"AbortError"===(null===(_e=Pa)||void 0===_e?void 0:_e.name)&&(El="fetch-timeout"),bi.create(El,{originalErrorMessage:null===(lt=Pa)||void 0===lt?void 0:lt.message})}let cl=Zs.status;const Mi=Zs.headers.get("ETag")||void 0;let dl,hl;if(200===Zs.status){let Pa;try{Pa=yield Zs.json()}catch(El){throw bi.create("fetch-client-parse",{originalErrorMessage:null===(bt=El)||void 0===bt?void 0:bt.message})}dl=Pa.entries,hl=Pa.state}if("INSTANCE_STATE_UNSPECIFIED"===hl?cl=500:"NO_CHANGE"===hl?cl=304:("NO_TEMPLATE"===hl||"EMPTY_CONFIG"===hl)&&(dl={}),304!==cl&&200!==cl)throw bi.create("fetch-status",{httpStatus:cl});return{status:cl,eTag:Mi,config:dl}})()}}class Je{constructor($,oe){this.client=$,this.storage=oe}fetch($){var oe=this;return(0,Q.Z)(function*(){const _e=(yield oe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return oe.attemptFetch($,_e)})()}attemptFetch($,{throttleEndTimeMillis:oe,backoffCount:_e}){var lt=this;return(0,Q.Z)(function*(){yield function ui(B,$){return new Promise((oe,_e)=>{const lt=Math.max($-Date.now(),0),bt=setTimeout(oe,lt);B.addEventListener(()=>{clearTimeout(bt),_e(bi.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}($.signal,oe);try{const bt=yield lt.client.fetch($);return yield lt.storage.deleteThrottleMetadata(),bt}catch(bt){if(!function tt(B){if(!(B instanceof Oe.ZR&&B.customData))return!1;const $=Number(B.customData.httpStatus);return 429===$||500===$||503===$||504===$}(bt))throw bt;const Ht={throttleEndTimeMillis:Date.now()+(0,Oe.$s)(_e),backoffCount:_e+1};return yield lt.storage.setThrottleMetadata(Ht),lt.attemptFetch($,Ht)}})()}}class Zt{constructor($,oe,_e,lt,bt){this.app=$,this._client=oe,this._storageCache=_e,this._storage=lt,this._logger=bt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pn(B,$){var oe;const _e=B.target.error||void 0;return bi.create($,{originalErrorMessage:_e&&(null===(oe=_e)||void 0===oe?void 0:oe.message)})}const xn="app_namespace_store";class Li{constructor($,oe,_e,lt=function Ds(){return new Promise((B,$)=>{var oe;try{const _e=indexedDB.open("firebase_remote_config",1);_e.onerror=lt=>{$(pn(lt,"storage-open"))},_e.onsuccess=lt=>{B(lt.target.result)},_e.onupgradeneeded=lt=>{0===lt.oldVersion&&lt.target.result.createObjectStore(xn,{keyPath:"compositeKey"})}}catch(_e){$(bi.create("storage-open",{originalErrorMessage:null===(oe=_e)||void 0===oe?void 0:oe.message}))}})}()){this.appId=$,this.appName=oe,this.namespace=_e,this.openDbPromise=lt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus($){return this.set("last_fetch_status",$)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis($){return this.set("last_successful_fetch_timestamp_millis",$)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse($){return this.set("last_successful_fetch_response",$)}getActiveConfig(){return this.get("active_config")}setActiveConfig($){return this.set("active_config",$)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag($){return this.set("active_config_etag",$)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata($){return this.set("throttle_metadata",$)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get($){var oe=this;return(0,Q.Z)(function*(){const _e=yield oe.openDbPromise;return new Promise((lt,bt)=>{var Ht;const Bn=_e.transaction([xn],"readonly").objectStore(xn),qn=oe.createCompositeKey($);try{const Fr=Bn.get(qn);Fr.onerror=Yn=>{bt(pn(Yn,"storage-get"))},Fr.onsuccess=Yn=>{const qs=Yn.target.result;lt(qs?qs.value:void 0)}}catch(Fr){bt(bi.create("storage-get",{originalErrorMessage:null===(Ht=Fr)||void 0===Ht?void 0:Ht.message}))}})})()}set($,oe){var _e=this;return(0,Q.Z)(function*(){const lt=yield _e.openDbPromise;return new Promise((bt,Ht)=>{var dn;const qn=lt.transaction([xn],"readwrite").objectStore(xn),Fr=_e.createCompositeKey($);try{const Yn=qn.put({compositeKey:Fr,value:oe});Yn.onerror=qs=>{Ht(pn(qs,"storage-set"))},Yn.onsuccess=()=>{bt()}}catch(Yn){Ht(bi.create("storage-set",{originalErrorMessage:null===(dn=Yn)||void 0===dn?void 0:dn.message}))}})})()}delete($){var oe=this;return(0,Q.Z)(function*(){const _e=yield oe.openDbPromise;return new Promise((lt,bt)=>{var Ht;const Bn=_e.transaction([xn],"readwrite").objectStore(xn),qn=oe.createCompositeKey($);try{const Fr=Bn.delete(qn);Fr.onerror=Yn=>{bt(pn(Yn,"storage-delete"))},Fr.onsuccess=()=>{lt()}}catch(Fr){bt(bi.create("storage-delete",{originalErrorMessage:null===(Ht=Fr)||void 0===Ht?void 0:Ht.message}))}})})()}createCompositeKey($){return[this.appId,this.appName,this.namespace,$].join()}}class Xs{constructor($){this.storage=$}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var $=this;return(0,Q.Z)(function*(){const oe=$.storage.getLastFetchStatus(),_e=$.storage.getLastSuccessfulFetchTimestampMillis(),lt=$.storage.getActiveConfig(),bt=yield oe;bt&&($.lastFetchStatus=bt);const Ht=yield _e;Ht&&($.lastSuccessfulFetchTimestampMillis=Ht);const dn=yield lt;dn&&($.activeConfig=dn)})()}setLastFetchStatus($){return this.lastFetchStatus=$,this.storage.setLastFetchStatus($)}setLastSuccessfulFetchTimestampMillis($){return this.lastSuccessfulFetchTimestampMillis=$,this.storage.setLastSuccessfulFetchTimestampMillis($)}setActiveConfig($){return this.activeConfig=$,this.storage.setActiveConfig($)}}function Cs(){return ea.apply(this,arguments)}function ea(){return(ea=(0,Q.Z)(function*(){if(!(0,Oe.hl)())return!1;try{return yield(0,Oe.eu)()}catch{return!1}})).apply(this,arguments)}!function fi(){(0,ge._registerComponent)(new be.wA("remote-config",function B($,{instanceIdentifier:oe}){const _e=$.getProvider("app").getImmediate(),lt=$.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw bi.create("registration-window");if(!(0,Oe.hl)())throw bi.create("indexed-db-unavailable");const{projectId:bt,apiKey:Ht,appId:dn}=_e.options;if(!bt)throw bi.create("registration-project-id");if(!Ht)throw bi.create("registration-api-key");if(!dn)throw bi.create("registration-app-id");const Bn=new Li(dn,_e.name,oe=oe||"firebase"),qn=new Xs(Bn),Fr=new je.Yd(Xi);Fr.logLevel=je.in.ERROR;const Yn=new Zr(lt,ge.SDK_VERSION,oe,bt,Ht,dn),qs=new Je(Yn,Bn),Mo=new Go(qs,Bn,qn,Fr),ul=new Zt(_e,Mo,qn,Bn,Fr);return function Kn(B){const $=(0,Oe.m9)(B);$._initializePromise||($._initializePromise=$._storageCache.loadFromStorage().then(()=>{$._isInitializationComplete=!0}))}(ul),ul},"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(Xi,"0.3.11"),(0,ge.registerVersion)(Xi,"0.3.11","esm2017")}();const Ns="/firebase-messaging-sw.js",Ts="/firebase-cloud-messaging-push-scope",es="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ho="google.c.a.c_id",xs="google.c.a.c_l",_o="google.c.a.ts",Ro="google.c.a.e";var Os=(()=>{return(B=Os||(Os={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",Os;var B})();function Rs(B){const $=new Uint8Array(B);return btoa(String.fromCharCode(...$)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ss(B){const oe=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),_e=atob(oe),lt=new Uint8Array(_e.length);for(let bt=0;bt<_e.length;++bt)lt[bt]=_e.charCodeAt(bt);return lt}const eo="fcm_token_details_db",Vi="fcm_token_object_Store";function to(B){return $s.apply(this,arguments)}function $s(){return $s=(0,Q.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(bt=>bt.name).includes(eo))return null;let $=null;return(yield(0,Ne.X3)(eo,5,{upgrade:(_e=(0,Q.Z)(function*(lt,bt,Ht,dn){var Bn;if(bt<2||!lt.objectStoreNames.contains(Vi))return;const qn=dn.objectStore(Vi),Fr=yield qn.index("fcmSenderId").get(B);if(yield qn.clear(),Fr)if(2===bt){const Yn=Fr;if(!Yn.auth||!Yn.p256dh||!Yn.endpoint)return;$={token:Yn.fcmToken,createTime:null!==(Bn=Yn.createTime)&&void 0!==Bn?Bn:Date.now(),subscriptionOptions:{auth:Yn.auth,p256dh:Yn.p256dh,endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:"string"==typeof Yn.vapidKey?Yn.vapidKey:Rs(Yn.vapidKey)}}}else if(3===bt){const Yn=Fr;$={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:Rs(Yn.auth),p256dh:Rs(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:Rs(Yn.vapidKey)}}}else if(4===bt){const Yn=Fr;$={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:Rs(Yn.auth),p256dh:Rs(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:Rs(Yn.vapidKey)}}}}),function(bt,Ht,dn,Bn){return _e.apply(this,arguments)})})).close(),yield(0,Ne.Lj)(eo),yield(0,Ne.Lj)("fcm_vapid_details_db"),yield(0,Ne.Lj)("undefined"),pi($)?$:null;var _e}),$s.apply(this,arguments)}function pi(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:$}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof $.auth&&$.auth.length>0&&"string"==typeof $.p256dh&&$.p256dh.length>0&&"string"==typeof $.endpoint&&$.endpoint.length>0&&"string"==typeof $.swScope&&$.swScope.length>0&&"string"==typeof $.vapidKey&&$.vapidKey.length>0}const hr="firebase-messaging-store";let Ki=null;function os(){return Ki||(Ki=(0,Ne.X3)("firebase-messaging-database",1,{upgrade:(B,$)=>{0===$&&B.createObjectStore(hr)}})),Ki}function Co(B){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,Q.Z)(function*(B){const $=ts(B),_e=yield(yield os()).transaction(hr).objectStore(hr).get($);if(_e)return _e;{const lt=yield to(B.appConfig.senderId);if(lt)return yield gr(B,lt),lt}})).apply(this,arguments)}function gr(B,$){return zo.apply(this,arguments)}function zo(){return(zo=(0,Q.Z)(function*(B,$){const oe=ts(B),lt=(yield os()).transaction(hr,"readwrite");return yield lt.objectStore(hr).put($,oe),yield lt.done,$})).apply(this,arguments)}function ms(B){return Po.apply(this,arguments)}function Po(){return(Po=(0,Q.Z)(function*(B){const $=ts(B),_e=(yield os()).transaction(hr,"readwrite");yield _e.objectStore(hr).delete($),yield _e.done})).apply(this,arguments)}function ts({appConfig:B}){return B.appId}const jr=new Oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function On(B,$){return ua.apply(this,arguments)}function ua(){return(ua=(0,Q.Z)(function*(B,$){var oe;const _e=yield yo(B),lt=Lt($),bt={method:"POST",headers:_e,body:JSON.stringify(lt)};let Ht;try{Ht=yield(yield fetch(go(B.appConfig),bt)).json()}catch(dn){throw jr.create("token-subscribe-failed",{errorInfo:null===(oe=dn)||void 0===oe?void 0:oe.toString()})}if(Ht.error)throw jr.create("token-subscribe-failed",{errorInfo:Ht.error.message});if(!Ht.token)throw jr.create("token-subscribe-no-token");return Ht.token})).apply(this,arguments)}function ca(B,$){return po.apply(this,arguments)}function po(){return(po=(0,Q.Z)(function*(B,$){var oe;const _e=yield yo(B),lt=Lt($.subscriptionOptions),bt={method:"PATCH",headers:_e,body:JSON.stringify(lt)};let Ht;try{Ht=yield(yield fetch(`${go(B.appConfig)}/${$.token}`,bt)).json()}catch(dn){throw jr.create("token-update-failed",{errorInfo:null===(oe=dn)||void 0===oe?void 0:oe.toString()})}if(Ht.error)throw jr.create("token-update-failed",{errorInfo:Ht.error.message});if(!Ht.token)throw jr.create("token-update-no-token");return Ht.token})).apply(this,arguments)}function ko(B,$){return ta.apply(this,arguments)}function ta(){return(ta=(0,Q.Z)(function*(B,$){var oe;const lt={method:"DELETE",headers:yield yo(B)};try{const Ht=yield(yield fetch(`${go(B.appConfig)}/${$}`,lt)).json();if(Ht.error)throw jr.create("token-unsubscribe-failed",{errorInfo:Ht.error.message})}catch(bt){throw jr.create("token-unsubscribe-failed",{errorInfo:null===(oe=bt)||void 0===oe?void 0:oe.toString()})}})).apply(this,arguments)}function go({projectId:B}){return`https://fcmregistrations.googleapis.com/v1/projects/${B}/registrations`}function yo(B){return To.apply(this,arguments)}function To(){return(To=(0,Q.Z)(function*({appConfig:B,installations:$}){const oe=yield $.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${oe}`})})).apply(this,arguments)}function Lt({p256dh:B,auth:$,endpoint:oe,vapidKey:_e}){const lt={web:{endpoint:oe,auth:$,p256dh:B}};return _e!==es&&(lt.web.applicationPubKey=_e),lt}const sr=6048e5;function no(B){return ro.apply(this,arguments)}function ro(){return(ro=(0,Q.Z)(function*(B){const $=yield Ie(B.swRegistration,B.vapidKey),oe={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:$.endpoint,auth:Rs($.getKey("auth")),p256dh:Rs($.getKey("p256dh"))},_e=yield Co(B.firebaseDependencies);if(_e){if(O(_e.subscriptionOptions,oe))return Date.now()>=_e.createTime+sr?ha(B,{token:_e.token,createTime:Date.now(),subscriptionOptions:oe}):_e.token;try{yield ko(B.firebaseDependencies,_e.token)}catch(lt){console.warn(lt)}return G(B.firebaseDependencies,oe)}return G(B.firebaseDependencies,oe)})).apply(this,arguments)}function Ii(B){return da.apply(this,arguments)}function da(){return(da=(0,Q.Z)(function*(B){const $=yield Co(B.firebaseDependencies);$&&(yield ko(B.firebaseDependencies,$.token),yield ms(B.firebaseDependencies));const oe=yield B.swRegistration.pushManager.getSubscription();return!oe||oe.unsubscribe()})).apply(this,arguments)}function ha(B,$){return Z.apply(this,arguments)}function Z(){return(Z=(0,Q.Z)(function*(B,$){try{const oe=yield ca(B.firebaseDependencies,$),_e=Object.assign(Object.assign({},$),{token:oe,createTime:Date.now()});return yield gr(B.firebaseDependencies,_e),oe}catch(oe){throw yield Ii(B),oe}})).apply(this,arguments)}function G(B,$){return ue.apply(this,arguments)}function ue(){return(ue=(0,Q.Z)(function*(B,$){const _e={token:yield On(B,$),createTime:Date.now(),subscriptionOptions:$};return yield gr(B,_e),_e.token})).apply(this,arguments)}function Ie(B,$){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,Q.Z)(function*(B,$){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ss($)})})).apply(this,arguments)}function O(B,$){return $.vapidKey===B.vapidKey&&$.endpoint===B.endpoint&&$.auth===B.auth&&$.p256dh===B.p256dh}function R(B){const $={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function N(B,$){if(!$.notification)return;B.notification={};const oe=$.notification.title;oe&&(B.notification.title=oe);const _e=$.notification.body;_e&&(B.notification.body=_e);const lt=$.notification.image;lt&&(B.notification.image=lt)}($,B),function X(B,$){!$.data||(B.data=$.data)}($,B),function it(B,$){var oe,_e,lt,bt,Ht;if(!($.fcmOptions||null!==(oe=$.notification)&&void 0!==oe&&oe.click_action))return;B.fcmOptions={};const dn=null!==(lt=null===(_e=$.fcmOptions)||void 0===_e?void 0:_e.link)&&void 0!==lt?lt:null===(bt=$.notification)||void 0===bt?void 0:bt.click_action;dn&&(B.fcmOptions.link=dn);const Bn=null===(Ht=$.fcmOptions)||void 0===Ht?void 0:Ht.analytics_label;Bn&&(B.fcmOptions.analyticsLabel=Bn)}($,B),$}function Tt(B){return"object"==typeof B&&!!B&&ho in B}function Ln(B,$){const oe=[];for(let _e=0;_e<B.length;_e++)oe.push(B.charAt(_e)),_e<$.length&&oe.push($.charAt(_e));return oe.join("")}function Kr(B){return jr.create("missing-app-config-values",{valueName:B})}Ln("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ln("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gi{constructor($,oe,_e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const lt=function Or(B){if(!B||!B.options)throw Kr("App Configuration Object");if(!B.name)throw Kr("App Name");const $=["projectId","apiKey","appId","messagingSenderId"],{options:oe}=B;for(const _e of $)if(!oe[_e])throw Kr(_e);return{appName:B.name,projectId:oe.projectId,apiKey:oe.apiKey,appId:oe.appId,senderId:oe.messagingSenderId}}($);this.firebaseDependencies={app:$,appConfig:lt,installations:oe,analyticsProvider:_e}}_delete(){return Promise.resolve()}}function Yr(B){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,Q.Z)(function*(B){var $;try{B.swRegistration=yield navigator.serviceWorker.register(Ns,{scope:Ts}),B.swRegistration.update().catch(()=>{})}catch(oe){throw jr.create("failed-service-worker-registration",{browserErrorMessage:null===($=oe)||void 0===$?void 0:$.message})}})).apply(this,arguments)}function Ui(B,$){return Is.apply(this,arguments)}function Is(){return(Is=(0,Q.Z)(function*(B,$){if(!$&&!B.swRegistration&&(yield Yr(B)),$||!B.swRegistration){if(!($ instanceof ServiceWorkerRegistration))throw jr.create("invalid-sw-registration");B.swRegistration=$}})).apply(this,arguments)}function Si(B,$){return ii.apply(this,arguments)}function ii(){return(ii=(0,Q.Z)(function*(B,$){$?B.vapidKey=$:B.vapidKey||(B.vapidKey=es)})).apply(this,arguments)}function io(){return(io=(0,Q.Z)(function*(B,$){if(!navigator)throw jr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jr.create("permission-blocked");return yield Si(B,$?.vapidKey),yield Ui(B,$?.serviceWorkerRegistration),no(B)})).apply(this,arguments)}function na(B,$,oe){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,Q.Z)(function*(B,$,oe){const _e=fa($);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(_e,{message_id:oe[ho],message_name:oe[xs],message_time:oe[_o],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fa(B){switch(B){case Os.NOTIFICATION_CLICKED:return"notification_open";case Os.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function J(){return(J=(0,Q.Z)(function*(B,$){const oe=$.data;if(!oe.isFirebaseMessaging)return;B.onMessageHandler&&oe.messageType===Os.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(R(oe)):B.onMessageHandler.next(R(oe)));const _e=oe.data;Tt(_e)&&"1"===_e[Ro]&&(yield na(B,oe.messageType,_e))})).apply(this,arguments)}const j="@firebase/messaging",xe=B=>{const $=new gi(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",oe=>function F(B,$){return J.apply(this,arguments)}($,oe)),$},pt=B=>{const $=B.getProvider("messaging").getImmediate();return{getToken:_e=>function zs(B,$){return io.apply(this,arguments)}($,_e)}};function hn(){return qr.apply(this,arguments)}function qr(){return(qr=(0,Q.Z)(function*(){try{yield(0,Oe.eu)()}catch{return!1}return typeof window<"u"&&(0,Oe.hl)()&&(0,Oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Dt(){(0,ge._registerComponent)(new be.wA("messaging",xe,"PUBLIC")),(0,ge._registerComponent)(new be.wA("messaging-internal",pt,"PRIVATE")),(0,ge.registerVersion)(j,"0.9.16"),(0,ge.registerVersion)(j,"0.9.16","esm2017")}();const Lo="analytics",pa="firebase_id",ji="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ka="https://www.googletagmanager.com/gtag/js",ls=new je.Yd("@firebase/analytics");function ga(B){return Promise.all(B.map($=>$.catch(oe=>oe)))}function Xl(B,$){const oe=document.createElement("script");oe.src=`${ka}?l=${B}&id=${$}`,oe.async=!0,document.head.appendChild(oe)}function nl(B,$,oe,_e,lt,bt){return rl.apply(this,arguments)}function rl(){return(rl=(0,Q.Z)(function*(B,$,oe,_e,lt,bt){const Ht=_e[lt];try{if(Ht)yield $[Ht];else{const Bn=(yield ga(oe)).find(qn=>qn.measurementId===lt);Bn&&(yield $[Bn.appId])}}catch(dn){ls.error(dn)}B("config",lt,bt)})).apply(this,arguments)}function il(B,$,oe,_e,lt){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,Q.Z)(function*(B,$,oe,_e,lt){try{let bt=[];if(lt&&lt.send_to){let Ht=lt.send_to;Array.isArray(Ht)||(Ht=[Ht]);const dn=yield ga(oe);for(const Bn of Ht){const qn=dn.find(Yn=>Yn.measurementId===Bn),Fr=qn&&$[qn.appId];if(!Fr){bt=[];break}bt.push(Fr)}}0===bt.length&&(bt=Object.values($)),yield Promise.all(bt),B("event",_e,lt||{})}catch(bt){ls.error(bt)}})).apply(this,arguments)}function bl(){const B=window.document.getElementsByTagName("script");for(const $ of Object.values(B))if($.src&&$.src.includes(ka))return $;return null}const ri=new Oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),W=new class qo{constructor($={},oe=1e3){this.throttleMetadata=$,this.intervalMillis=oe}getThrottleMetadata($){return this.throttleMetadata[$]}setThrottleMetadata($,oe){this.throttleMetadata[$]=oe}deleteThrottleMetadata($){delete this.throttleMetadata[$]}};function y(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function C(B){return U.apply(this,arguments)}function U(){return(U=(0,Q.Z)(function*(B){var $;const{appId:oe,apiKey:_e}=B,lt={method:"GET",headers:y(_e)},bt=ji.replace("{app-id}",oe),Ht=yield fetch(bt,lt);if(200!==Ht.status&&304!==Ht.status){let dn="";try{const Bn=yield Ht.json();null!==($=Bn.error)&&void 0!==$&&$.message&&(dn=Bn.error.message)}catch{}throw ri.create("config-fetch-failed",{httpStatus:Ht.status,responseMessage:dn})}return Ht.json()})).apply(this,arguments)}function te(B){return ne.apply(this,arguments)}function ne(){return(ne=(0,Q.Z)(function*(B,$=W,oe){const{appId:_e,apiKey:lt,measurementId:bt}=B.options;if(!_e)throw ri.create("no-app-id");if(!lt){if(bt)return{measurementId:bt,appId:_e};throw ri.create("no-api-key")}const Ht=$.getThrottleMetadata(_e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dn=new at;return setTimeout((0,Q.Z)(function*(){dn.abort()}),void 0!==oe?oe:6e4),we({appId:_e,apiKey:lt,measurementId:bt},Ht,dn,$)})).apply(this,arguments)}function we(B,$,oe){return $e.apply(this,arguments)}function $e(){return($e=(0,Q.Z)(function*(B,{throttleEndTimeMillis:$,backoffCount:oe},_e,lt=W){var bt,Ht;const{appId:dn,measurementId:Bn}=B;try{yield Le(_e,$)}catch(qn){if(Bn)return ls.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bn} provided in the "measurementId" field in the local Firebase config. [${null===(bt=qn)||void 0===bt?void 0:bt.message}]`),{appId:dn,measurementId:Bn};throw qn}try{const qn=yield C(B);return lt.deleteThrottleMetadata(dn),qn}catch(qn){const Fr=qn;if(!Te(Fr)){if(lt.deleteThrottleMetadata(dn),Bn)return ls.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bn} provided in the "measurementId" field in the local Firebase config. [${Fr?.message}]`),{appId:dn,measurementId:Bn};throw qn}const Yn=503===Number(null===(Ht=Fr?.customData)||void 0===Ht?void 0:Ht.httpStatus)?(0,Oe.$s)(oe,lt.intervalMillis,30):(0,Oe.$s)(oe,lt.intervalMillis),qs={throttleEndTimeMillis:Date.now()+Yn,backoffCount:oe+1};return lt.setThrottleMetadata(dn,qs),ls.debug(`Calling attemptFetch again in ${Yn} millis`),we(B,qs,_e,lt)}})).apply(this,arguments)}function Le(B,$){return new Promise((oe,_e)=>{const lt=Math.max($-Date.now(),0),bt=setTimeout(oe,lt);B.addEventListener(()=>{clearTimeout(bt),_e(ri.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}function Te(B){if(!(B instanceof Oe.ZR&&B.customData))return!1;const $=Number(B.customData.httpStatus);return 429===$||500===$||503===$||504===$}class at{constructor(){this.listeners=[]}addEventListener($){this.listeners.push($)}abort(){this.listeners.forEach($=>$())}}let zt,ks;function Hn(){return(Hn=(0,Q.Z)(function*(B,$,oe,_e,lt){if(lt&&lt.global)B("event",oe,_e);else{const bt=yield $;B("event",oe,Object.assign(Object.assign({},_e),{send_to:bt}))}})).apply(this,arguments)}function _n(B){ks=B}function vo(B){zt=B}function Zo(){return kr.apply(this,arguments)}function kr(){return(kr=(0,Q.Z)(function*(){var B;if(!(0,Oe.hl)())return ls.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Oe.eu)()}catch($){return ls.warn(ri.create("indexeddb-unavailable",{errorInfo:null===(B=$)||void 0===B?void 0:B.toString()}).message),!1}return!0})).apply(this,arguments)}function Yo(){return(Yo=(0,Q.Z)(function*(B,$,oe,_e,lt,bt,Ht){var dn;const Bn=te(B);Bn.then(Mo=>{oe[Mo.measurementId]=Mo.appId,B.options.measurementId&&Mo.measurementId!==B.options.measurementId&&ls.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${Mo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mo=>ls.error(Mo)),$.push(Bn);const qn=Zo().then(Mo=>{if(Mo)return _e.getId()}),[Fr,Yn]=yield Promise.all([Bn,qn]);bl()||Xl(bt,Fr.measurementId),ks&&(lt("consent","default",ks),_n(void 0)),lt("js",new Date);const qs=null!==(dn=Ht?.config)&&void 0!==dn?dn:{};return qs.origin="firebase",qs.update=!0,null!=Yn&&(qs[pa]=Yn),lt("config",Fr.measurementId,qs),zt&&(lt("set",zt),vo(void 0)),Fr.measurementId})).apply(this,arguments)}class fr{constructor($){this.app=$}_delete(){return delete oo[this.app.options.appId],Promise.resolve()}}let oo={},Hr=[];const vt={};let Qn,Hi,In="dataLayer",_s=!1;function qi(B,$,oe){!function So(){const B=[];if((0,Oe.ru)()&&B.push("This is a browser extension environment."),(0,Oe.zI)()||B.push("Cookies are not available."),B.length>0){const $=B.map((_e,lt)=>`(${lt+1}) ${_e}`).join(" "),oe=ri.create("invalid-analytics-context",{errorInfo:$});ls.warn(oe.message)}}();const _e=B.options.appId;if(!_e)throw ri.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw ri.create("no-api-key");ls.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oo[_e])throw ri.create("already-exists",{id:_e});if(!_s){!function eu(B){let $=[];Array.isArray(window[B])?$=window[B]:window[B]=$}(In);const{wrappedGtag:bt,gtagCore:Ht}=function xa(B,$,oe,_e,lt){let bt=function(...Ht){window[_e].push(arguments)};return window[lt]&&"function"==typeof window[lt]&&(bt=window[lt]),window[lt]=function vl(B,$,oe,_e){function bt(){return(bt=(0,Q.Z)(function*(Ht,dn,Bn){try{"event"===Ht?yield il(B,$,oe,dn,Bn):"config"===Ht?yield nl(B,$,oe,_e,dn,Bn):"consent"===Ht?B("consent","update",Bn):B("set",dn)}catch(qn){ls.error(qn)}})).apply(this,arguments)}return function lt(Ht,dn,Bn){return bt.apply(this,arguments)}}(bt,B,$,oe),{gtagCore:bt,wrappedGtag:window[lt]}}(oo,Hr,vt,In,"gtag");Hi=bt,Qn=Ht,_s=!0}return oo[_e]=function mn(B,$,oe,_e,lt,bt,Ht){return Yo.apply(this,arguments)}(B,Hr,vt,$,Qn,In,oe),new fr(B)}function ao(){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,Q.Z)(function*(){if((0,Oe.ru)()||!(0,Oe.zI)()||!(0,Oe.hl)())return!1;try{return yield(0,Oe.eu)()}catch{return!1}})).apply(this,arguments)}const Dl="@firebase/analytics";!function ia(){(0,ge._registerComponent)(new be.wA(Lo,($,{options:oe})=>qi($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),oe),"PUBLIC")),(0,ge._registerComponent)(new be.wA("analytics-internal",function B($){try{const oe=$.getProvider(Lo).getImmediate();return{logEvent:(_e,lt,bt)=>function Ao(B,$,oe,_e){B=(0,Oe.m9)(B),function Nr(B,$,oe,_e,lt){return Hn.apply(this,arguments)}(Hi,oo[B.app.options.appId],$,oe,_e).catch(lt=>ls.error(lt))}(oe,_e,lt,bt)}}catch(oe){throw ri.create("interop-component-reg-failed",{reason:oe})}},"PRIVATE")),(0,ge.registerVersion)(Dl,"0.8.0"),(0,ge.registerVersion)(Dl,"0.8.0","esm2017")}();var mo=V(4408),Vo=V(7565);const kl=new class Ka extends Vo.v{}(class tu extends mo.o{constructor($,oe){super($,oe),this.scheduler=$,this.work=oe}schedule($,oe=0){return oe>0?super.schedule($,oe):(this.delay=oe,this.state=$,this.scheduler.flush(this),this)}execute($,oe){return oe>0||this.closed?super.execute($,oe):this._execute($,oe)}requestAsyncId($,oe,_e=0){return null!=_e&&_e>0||null==_e&&this.delay>0?super.requestAsyncId($,oe,_e):$.flush(this)}});var S=V(4986),E=V(8505),P=V(5363),H=V(9468);const re=new a.GfV("7.4.1"),ye="__angularfire_symbol__analyticsIsSupportedValue",De="__angularfire_symbol__analyticsIsSupported",Ct="__angularfire_symbol__remoteConfigIsSupportedValue",tn="__angularfire_symbol__remoteConfigIsSupported",Wn="__angularfire_symbol__messagingIsSupportedValue",wn="__angularfire_symbol__messagingIsSupported";function Fs(B,$,oe){if($){if(1===$.length)return $[0];const bt=$.filter(Ht=>Ht.app===oe);if(1===bt.length)return bt[0]}return oe.container.getProvider(B).getImmediate({optional:!0})}globalThis[De]||(globalThis[De]=ao().then(B=>globalThis[ye]=B).catch(()=>globalThis[ye]=!1)),globalThis[wn]||(globalThis[wn]=hn().then(B=>globalThis[Wn]=B).catch(()=>globalThis[Wn]=!1)),globalThis[tn]||(globalThis[tn]=Cs().then(B=>globalThis[Ct]=B).catch(()=>globalThis[Ct]=!1));const Va=(B,$)=>{const oe=$?[$]:(0,k.C6)(),_e=[];return oe.forEach(lt=>{lt.container.getProvider(B).instances.forEach(Ht=>{_e.includes(Ht)||_e.push(Ht)})}),_e};function Fa(){}class sa{constructor($,oe=kl){this.zone=$,this.delegate=oe}now(){return this.delegate.now()}schedule($,oe,_e){const lt=this.zone;return this.delegate.schedule(function(Ht){lt.runGuarded(()=>{$.apply(this,[Ht])})},oe,_e)}}class ac{constructor($){this.zone=$,this.task=null}call($,oe){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fa,{},Fa,Fa)),oe.pipe((0,E.b)({next:_e,complete:_e,error:_e})).subscribe($).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let La=(()=>{class B{constructor(oe){this.ngZone=oe,this.outsideAngular=oe.runOutsideAngular(()=>new sa(Zone.current)),this.insideAngular=oe.run(()=>new sa(Zone.current,S.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(oe){return new(oe||B)(a.LFG(a.R0b))},B.\u0275prov=a.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function Ra(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function ol(B){return B.pipe((0,P.Q)(Ra().outsideAngular))}function Ea(B){return Ra(),function ja(B){return function(oe){return(oe=oe.lift(new ac(B.ngZone))).pipe((0,H.R)(B.outsideAngular),(0,P.Q)(B.insideAngular))}}(Ra())(B)}},2090:(Xt,st,V)=>{"use strict";V.d(st,{$s:()=>Pi,BH:()=>yt,G6:()=>Ae,L:()=>Ne,LL:()=>Ot,Sg:()=>ot,UG:()=>dt,US:()=>be,ZB:()=>he,ZR:()=>Qe,b$:()=>Gt,eu:()=>Be,hl:()=>ie,jU:()=>ut,m9:()=>tr,ne:()=>di,pd:()=>Ur,r3:()=>bn,ru:()=>ze,tV:()=>We,uI:()=>At,vZ:()=>fn,w1:()=>Ce,xO:()=>pr,xb:()=>Cn,z$:()=>nt,zI:()=>fe,zd:()=>Vr});const ge=function(Ke){const Ge=[];let Me=0;for(let He=0;He<Ke.length;He++){let Ve=Ke.charCodeAt(He);Ve<128?Ge[Me++]=Ve:Ve<2048?(Ge[Me++]=Ve>>6|192,Ge[Me++]=63&Ve|128):55296==(64512&Ve)&&He+1<Ke.length&&56320==(64512&Ke.charCodeAt(He+1))?(Ve=65536+((1023&Ve)<<10)+(1023&Ke.charCodeAt(++He)),Ge[Me++]=Ve>>18|240,Ge[Me++]=Ve>>12&63|128,Ge[Me++]=Ve>>6&63|128,Ge[Me++]=63&Ve|128):(Ge[Me++]=Ve>>12|224,Ge[Me++]=Ve>>6&63|128,Ge[Me++]=63&Ve|128)}return Ge},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ke,Ge){if(!Array.isArray(Ke))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Me=Ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,He=[];for(let Ve=0;Ve<Ke.length;Ve+=3){const Nt=Ke[Ve],Kt=Ve+1<Ke.length,on=Kt?Ke[Ve+1]:0,dr=Ve+2<Ke.length,nr=dr?Ke[Ve+2]:0;let Tn=(15&on)<<2|nr>>6,Er=63&nr;dr||(Er=64,Kt||(Tn=64)),He.push(Me[Nt>>2],Me[(3&Nt)<<4|on>>4],Me[Tn],Me[Er])}return He.join("")},encodeString(Ke,Ge){return this.HAS_NATIVE_SUPPORT&&!Ge?btoa(Ke):this.encodeByteArray(ge(Ke),Ge)},decodeString(Ke,Ge){return this.HAS_NATIVE_SUPPORT&&!Ge?atob(Ke):function(Ke){const Ge=[];let Me=0,He=0;for(;Me<Ke.length;){const Ve=Ke[Me++];if(Ve<128)Ge[He++]=String.fromCharCode(Ve);else if(Ve>191&&Ve<224){const Nt=Ke[Me++];Ge[He++]=String.fromCharCode((31&Ve)<<6|63&Nt)}else if(Ve>239&&Ve<365){const dr=((7&Ve)<<18|(63&Ke[Me++])<<12|(63&Ke[Me++])<<6|63&Ke[Me++])-65536;Ge[He++]=String.fromCharCode(55296+(dr>>10)),Ge[He++]=String.fromCharCode(56320+(1023&dr))}else{const Nt=Ke[Me++],Kt=Ke[Me++];Ge[He++]=String.fromCharCode((15&Ve)<<12|(63&Nt)<<6|63&Kt)}}return Ge.join("")}(this.decodeStringToByteArray(Ke,Ge))},decodeStringToByteArray(Ke,Ge){this.init_();const Me=Ge?this.charToByteMapWebSafe_:this.charToByteMap_,He=[];for(let Ve=0;Ve<Ke.length;){const Nt=Me[Ke.charAt(Ve++)],on=Ve<Ke.length?Me[Ke.charAt(Ve)]:0;++Ve;const nr=Ve<Ke.length?Me[Ke.charAt(Ve)]:64;++Ve;const An=Ve<Ke.length?Me[Ke.charAt(Ve)]:64;if(++Ve,null==Nt||null==on||null==nr||null==An)throw Error();He.push(Nt<<2|on>>4),64!==nr&&(He.push(on<<4&240|nr>>2),64!==An&&He.push(nr<<6&192|An))}return He},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ke=0;Ke<this.ENCODED_VALS.length;Ke++)this.byteToCharMap_[Ke]=this.ENCODED_VALS.charAt(Ke),this.charToByteMap_[this.byteToCharMap_[Ke]]=Ke,this.byteToCharMapWebSafe_[Ke]=this.ENCODED_VALS_WEBSAFE.charAt(Ke),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ke]]=Ke,Ke>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ke)]=Ke,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ke)]=Ke)}}},Ne=function(Ke){return function(Ke){const Ge=ge(Ke);return be.encodeByteArray(Ge,!0)}(Ke).replace(/\./g,"")},We=function(Ke){try{return be.decodeString(Ke,!0)}catch(Ge){console.error("base64Decode failed: ",Ge)}return null};function he(Ke,Ge){if(!(Ge instanceof Object))return Ge;switch(Ge.constructor){case Date:return new Date(Ge.getTime());case Object:void 0===Ke&&(Ke={});break;case Array:Ke=[];break;default:return Ge}for(const Me in Ge)!Ge.hasOwnProperty(Me)||!Pe(Me)||(Ke[Me]=he(Ke[Me],Ge[Me]));return Ke}function Pe(Ke){return"__proto__"!==Ke}class yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ge,Me)=>{this.resolve=Ge,this.reject=Me})}wrapCallback(Ge){return(Me,He)=>{Me?this.reject(Me):this.resolve(He),"function"==typeof Ge&&(this.promise.catch(()=>{}),1===Ge.length?Ge(Me):Ge(Me,He))}}}function ot(Ke,Ge){if(Ke.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const He=Ge||"demo-project",Ve=Ke.iat||0,Nt=Ke.sub||Ke.user_id;if(!Nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Kt=Object.assign({iss:`https://securetoken.google.com/${He}`,aud:He,iat:Ve,exp:Ve+3600,auth_time:Ve,sub:Nt,user_id:Nt,firebase:{sign_in_provider:"custom",identities:{}}},Ke);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(Kt)),""].join(".")}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function At(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function dt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ut(){return"object"==typeof self&&self.self===self}function ze(){const Ke="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ke&&void 0!==Ke.id}function Gt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ce(){const Ke=nt();return Ke.indexOf("MSIE ")>=0||Ke.indexOf("Trident/")>=0}function Ae(){return!dt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){return"object"==typeof indexedDB}function Be(){return new Promise((Ke,Ge)=>{try{let Me=!0;const He="validate-browser-context-for-indexeddb-analytics-module",Ve=self.indexedDB.open(He);Ve.onsuccess=()=>{Ve.result.close(),Me||self.indexedDB.deleteDatabase(He),Ke(!0)},Ve.onupgradeneeded=()=>{Me=!1},Ve.onerror=()=>{var Nt;Ge((null===(Nt=Ve.error)||void 0===Nt?void 0:Nt.message)||"")}}catch(Me){Ge(Me)}})}function fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Qe extends Error{constructor(Ge,Me,He){super(Me),this.code=Ge,this.customData=He,this.name="FirebaseError",Object.setPrototypeOf(this,Qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ot.prototype.create)}}class Ot{constructor(Ge,Me,He){this.service=Ge,this.serviceName=Me,this.errors=He}create(Ge,...Me){const He=Me[0]||{},Ve=`${this.service}/${Ge}`,Nt=this.errors[Ge],Kt=Nt?function Pt(Ke,Ge){return Ke.replace(jt,(Me,He)=>{const Ve=Ge[He];return null!=Ve?String(Ve):`<${He}?>`})}(Nt,He):"Error";return new Qe(Ve,`${this.serviceName}: ${Kt} (${Ve}).`,He)}}const jt=/\{\$([^}]+)}/g;function bn(Ke,Ge){return Object.prototype.hasOwnProperty.call(Ke,Ge)}function Cn(Ke){for(const Ge in Ke)if(Object.prototype.hasOwnProperty.call(Ke,Ge))return!1;return!0}function fn(Ke,Ge){if(Ke===Ge)return!0;const Me=Object.keys(Ke),He=Object.keys(Ge);for(const Ve of Me){if(!He.includes(Ve))return!1;const Nt=Ke[Ve],Kt=Ge[Ve];if(Rn(Nt)&&Rn(Kt)){if(!fn(Nt,Kt))return!1}else if(Nt!==Kt)return!1}for(const Ve of He)if(!Me.includes(Ve))return!1;return!0}function Rn(Ke){return null!==Ke&&"object"==typeof Ke}function pr(Ke){const Ge=[];for(const[Me,He]of Object.entries(Ke))Array.isArray(He)?He.forEach(Ve=>{Ge.push(encodeURIComponent(Me)+"="+encodeURIComponent(Ve))}):Ge.push(encodeURIComponent(Me)+"="+encodeURIComponent(He));return Ge.length?"&"+Ge.join("&"):""}function Vr(Ke){const Ge={};return Ke.replace(/^\?/,"").split("&").forEach(He=>{if(He){const[Ve,Nt]=He.split("=");Ge[decodeURIComponent(Ve)]=decodeURIComponent(Nt)}}),Ge}function Ur(Ke){const Ge=Ke.indexOf("?");if(!Ge)return"";const Me=Ke.indexOf("#",Ge);return Ke.substring(Ge,Me>0?Me:void 0)}function di(Ke,Ge){const Me=new xt(Ke,Ge);return Me.subscribe.bind(Me)}class xt{constructor(Ge,Me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Me,this.task.then(()=>{Ge(this)}).catch(He=>{this.error(He)})}next(Ge){this.forEachObserver(Me=>{Me.next(Ge)})}error(Ge){this.forEachObserver(Me=>{Me.error(Ge)}),this.close(Ge)}complete(){this.forEachObserver(Ge=>{Ge.complete()}),this.close()}subscribe(Ge,Me,He){let Ve;if(void 0===Ge&&void 0===Me&&void 0===He)throw new Error("Missing Observer.");Ve=function Pn(Ke,Ge){if("object"!=typeof Ke||null===Ke)return!1;for(const Me of Ge)if(Me in Ke&&"function"==typeof Ke[Me])return!0;return!1}(Ge,["next","error","complete"])?Ge:{next:Ge,error:Me,complete:He},void 0===Ve.next&&(Ve.next=ir),void 0===Ve.error&&(Ve.error=ir),void 0===Ve.complete&&(Ve.complete=ir);const Nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ve.error(this.finalError):Ve.complete()}catch{}}),this.observers.push(Ve),Nt}unsubscribeOne(Ge){void 0===this.observers||void 0===this.observers[Ge]||(delete this.observers[Ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ge){if(!this.finalized)for(let Me=0;Me<this.observers.length;Me++)this.sendOne(Me,Ge)}sendOne(Ge,Me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ge])try{Me(this.observers[Ge])}catch(He){typeof console<"u"&&console.error&&console.error(He)}})}close(Ge){this.finalized||(this.finalized=!0,void 0!==Ge&&(this.finalError=Ge),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ir(){}function Pi(Ke,Ge=1e3,Me=2){const He=Ge*Math.pow(Me,Ke),Ve=Math.round(.5*He*(Math.random()-.5)*2);return Math.min(144e5,He+Ve)}function tr(Ke){return Ke&&Ke._delegate?Ke._delegate:Ke}},1666:(Xt,st,V)=>{"use strict";V.r(st),V.d(st,{DashboardModule:()=>yt});var a=V(6895),k=V(9062),Q=V(433),ge=V(4650),Oe=V(6395);const be=["image"];function je(ot,nt){if(1&ot&&(ge.TgZ(0,"div")(1,"div",11),ge._uU(2),ge.qZA()()),2&ot){const At=ge.oxw();ge.xp6(2),ge.hij(" ",At.done," ")}}const We=[{path:"",component:(()=>{class ot{constructor(At){this.goods=At,this.addForm=new Q.cw({name:new Q.NI(""),price:new Q.NI(0),image:new Q.NI("")}),this.done=""}ngOnInit(){}addNewProduct(At){this.goods.addNewProduct(At.value.name,At.value.price,this.imageUrl.nativeElement.files).then(Gt=>{this.done=Gt})}}return ot.\u0275fac=function(At){return new(At||ot)(ge.Y36(Oe.V))},ot.\u0275cmp=ge.Xpm({type:ot,selectors:[["app-dashboard"]],viewQuery:function(At,dt){if(1&At&&ge.Gf(be,5),2&At){let ut;ge.iGM(ut=ge.CRH())&&(dt.imageUrl=ut.first)}},decls:13,vars:6,consts:[[1,"dashboard"],[1,"container"],[1,"text-center","mt-2"],[3,"formGroup"],["type","text","formControlName","name","id","","required","",1,"form-control"],["type","number","formControlName","price","id","","required","",1,"form-control"],[1,"input-group"],["type","file","formControlName","image","required","",1,"form-control"],["image",""],["type","submit","value","Add",1,"btn","btn-primary",3,"disabled","click"],[4,"ngIf"],["role","alert",1,"alert","alert-success","text-center","mt-3"]],template:function(At,dt){1&At&&(ge.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),ge._uU(3),ge.ALo(4,"titlecase"),ge.qZA(),ge.TgZ(5,"form",3),ge._UZ(6,"input",4)(7,"input",5),ge.TgZ(8,"div",6),ge._UZ(9,"input",7,8),ge.qZA(),ge.TgZ(11,"input",9),ge.NdJ("click",function(){return dt.addNewProduct(dt.addForm)}),ge.qZA()(),ge.YNc(12,je,3,1,"div",10),ge.qZA()()),2&At&&(ge.xp6(3),ge.Oqu(ge.lcZ(4,4,"add New product")),ge.xp6(2),ge.Q6J("formGroup",dt.addForm),ge.xp6(6),ge.Q6J("disabled",dt.addForm.invalid),ge.xp6(1),ge.Q6J("ngIf",dt.done))},dependencies:[a.O5,Q._Y,Q.Fj,Q.wV,Q.JJ,Q.JL,Q.Q7,Q.sg,Q.u,a.rS]}),ot})()}];let de=(()=>{class ot{}return ot.\u0275fac=function(At){return new(At||ot)},ot.\u0275mod=ge.oAB({type:ot}),ot.\u0275inj=ge.cJS({imports:[k.Bz.forChild(We),k.Bz]}),ot})();var he=V(4466),Pe=V(2084);let yt=(()=>{class ot{}return ot.\u0275fac=function(At){return new(At||ot)},ot.\u0275mod=ge.oAB({type:ot}),ot.\u0275inj=ge.cJS({imports:[a.ez,de,he.m,Pe.TE,Pe.TE]}),ot})()},7556:(Xt,st,V)=>{"use strict";V.d(st,{e:()=>ge});var a=V(4650),k=V(1205),Q=V(9062);let ge=(()=>{class Oe{constructor(je,Ne){this.afAuth=je,this.router=Ne,this.userId="",this.user=je.user}signUp(je,Ne){return this.afAuth.createUserWithEmailAndPassword(je,Ne)}signIn(je,Ne){return this.afAuth.signInWithEmailAndPassword(je,Ne).then(()=>this.router.navigate(["/"]))}signOut(){return this.afAuth.signOut()}}return Oe.\u0275fac=function(je){return new(je||Oe)(a.LFG(k.zQ),a.LFG(Q.F0))},Oe.\u0275prov=a.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})()},6395:(Xt,st,V)=>{"use strict";V.d(st,{V:()=>Oe});var a=V(2340),k=V(4650),Q=V(7407),ge=V(2084);let Oe=(()=>{class be{constructor(Ne,We){this.fireStore=Ne,this.storage=We}getAllGoods(){return this.fireStore.collection(`${a.N.goodsApi}`).valueChanges()}getGoodById(){return this.fireStore.collection(`${a.N.goodsApi}`).snapshotChanges()}addNewProduct(Ne,We,de){return new Promise((he,Pe)=>{let yt=this.storage.ref(`goods/${de.name}`);yt.put(de).then(()=>{yt.getDownloadURL().subscribe(ot=>{this.fireStore.collection("goods").add({name:Ne,price:We,imageUrl:ot}).then(()=>he("Done!"))})})})}}return be.\u0275fac=function(Ne){return new(Ne||be)(k.LFG(Q.ST),k.LFG(ge.Q1))},be.\u0275prov=k.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},4466:(Xt,st,V)=>{"use strict";V.d(st,{m:()=>Ne});var a=V(6895),k=V(9062),Q=V(7747),ge=V(433),Oe=V(4333),be=V(4650);const je=[k.Bz,Q.IJ,ge.UX,ge.u5,Oe.JX];let Ne=(()=>{class We{}return We.\u0275fac=function(he){return new(he||We)},We.\u0275mod=be.oAB({type:We}),We.\u0275inj=be.cJS({imports:[a.ez,je,k.Bz,Q.IJ,ge.UX,ge.u5,Oe.JX]}),We})()},2340:(Xt,st,V)=>{"use strict";V.d(st,{N:()=>a});const a={production:!0,firebase:{apiKey:"AIzaSyCTYMte1YPdbjTQZN03_n86ES1aWazgiPg",authDomain:"market-ae998.firebaseapp.com",projectId:"market-ae998",storageBucket:"market-ae998.appspot.com",messagingSenderId:"42798719643",appId:"1:42798719643:web:7787ca14dfefb49a7b9c3e",measurementId:"G-WMTBR8N28S"},goodsApi:"goods",productApi:"products",blogApi:"blogBage",aboutApi:"about"}},2458:(Xt,st,V)=>{"use strict";var a=V(1481),k=V(4650),Q=V(9062),ge=V(7556);const be=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>Promise.all([V.e(592),V.e(894)]).then(V.bind(V,4894)).then(W=>W.HomeModule),data:{index:0}},{path:"signin",loadChildren:()=>Promise.all([V.e(592),V.e(633)]).then(V.bind(V,1633)).then(W=>W.SigninModule)},{path:"signup",loadChildren:()=>Promise.all([V.e(592),V.e(538)]).then(V.bind(V,3538)).then(W=>W.SignupModule)},{path:"cart",loadChildren:()=>Promise.all([V.e(592),V.e(305)]).then(V.bind(V,9305)).then(W=>W.CartModule),canActivate:[(()=>{class W{constructor(C,U){this.authS=C,this.router=U}canActivate(C,U){return new Promise(te=>{this.authS.user.subscribe(ne=>{ne?te(!0):this.router.navigate(["signin"])})})}}return W.\u0275fac=function(C){return new(C||W)(k.LFG(ge.e),k.LFG(Q.F0))},W.\u0275prov=k.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})()],data:{index:1}},{path:"dashboard",loadChildren:()=>Promise.resolve().then(V.bind(V,1666)).then(W=>W.DashboardModule)},{path:"shop",loadChildren:()=>Promise.all([V.e(592),V.e(338)]).then(V.bind(V,9338)).then(W=>W.ShopModule)},{path:"blog",loadChildren:()=>Promise.all([V.e(592),V.e(697)]).then(V.bind(V,8697)).then(W=>W.BlogModule)},{path:"about",loadChildren:()=>Promise.all([V.e(592),V.e(198)]).then(V.bind(V,3198)).then(W=>W.AboutModule)}];let je=(()=>{class W{}return W.\u0275fac=function(C){return new(C||W)},W.\u0275mod=k.oAB({type:W}),W.\u0275inj=k.cJS({imports:[Q.Bz.forRoot(be),Q.Bz]}),W})();class Ne{}const de="*";function ot(W,y=null){return{type:2,steps:W,options:y}}function nt(W){return{type:6,styles:W,offset:null}}function me(W){Promise.resolve().then(W)}class Ae{constructor(y=0,C=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=y+C}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){me(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(y=>y()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(y){this._position=this.totalTime?y*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(y){const C="start"==y?this._onStartFns:this._onDoneFns;C.forEach(U=>U()),C.length=0}}class ie{constructor(y){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=y;let C=0,U=0,te=0;const ne=this.players.length;0==ne?me(()=>this._onFinish()):this.players.forEach(we=>{we.onDone(()=>{++C==ne&&this._onFinish()}),we.onDestroy(()=>{++U==ne&&this._onDestroy()}),we.onStart(()=>{++te==ne&&this._onStart()})}),this.totalTime=this.players.reduce((we,$e)=>Math.max(we,$e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this.players.forEach(y=>y.init())}onStart(y){this._onStartFns.push(y)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(y=>y()),this._onStartFns=[])}onDone(y){this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(y=>y.play())}pause(){this.players.forEach(y=>y.pause())}restart(){this.players.forEach(y=>y.restart())}finish(){this._onFinish(),this.players.forEach(y=>y.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(y=>y.destroy()),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}reset(){this.players.forEach(y=>y.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(y){const C=y*this.totalTime;this.players.forEach(U=>{const te=U.totalTime?Math.min(1,C/U.totalTime):1;U.setPosition(te)})}getPosition(){const y=this.players.reduce((C,U)=>null===C||U.totalTime>C.totalTime?U:C,null);return null!=y?y.getPosition():0}beforeDestroy(){this.players.forEach(y=>{y.beforeDestroy&&y.beforeDestroy()})}triggerCallback(y){const C="start"==y?this._onStartFns:this._onDoneFns;C.forEach(U=>U()),C.length=0}}const fe=[function he(W,y){return{type:7,name:W,definitions:y,options:{}}}("routing",[function ut(W,y,C=null){return{type:1,expr:W,animation:y,options:C}}("* <=> *",[nt({opacity:0,transform:"translateY(50px)"}),function Pe(W,y=null){return{type:4,styles:y,timings:W}}("500ms",nt({opacity:1,transform:"translateY(0px)"}))])])];var Fe=V(7123),qe=V(6895),Qe=V(7747);function Ot(W,y){1&W&&(k.TgZ(0,"li",9)(1,"a",14),k._uU(2,"shop"),k.qZA()())}function Pt(W,y){1&W&&(k.TgZ(0,"li",9)(1,"a",15),k._uU(2,"Blog"),k.qZA()())}function jt(W,y){1&W&&(k.TgZ(0,"li",9)(1,"a",16),k._uU(2,"About"),k.qZA()())}function Jt(W,y){1&W&&(k.TgZ(0,"li",9)(1,"a",17),k._uU(2,"contact"),k.qZA()())}function en(W,y){1&W&&(k.TgZ(0,"li",9)(1,"a",18),k._uU(2,"dashboard"),k.qZA()())}function wt(W,y){1&W&&(k.TgZ(0,"li",9)(1,"a",19),k._uU(2,"signIn"),k.qZA()())}function ln(W,y){1&W&&(k.TgZ(0,"li",9)(1,"a",20),k._uU(2,"signUp"),k.qZA()())}function Wt(W,y){1&W&&(k.TgZ(0,"li",9)(1,"a",21),k._UZ(2,"i",22),k.qZA()())}function Yt(W,y){if(1&W){const C=k.EpF();k.TgZ(0,"button",23),k.NdJ("click",function(){k.CHM(C);const te=k.oxw();return k.KtG(te.signOut())}),k._uU(1,"Log Out"),k.qZA()}}let $t=(()=>{class W{constructor(C,U){this.authService=C,this.router=U,this.isOpen=!1,this.userActive=!1}ngOnInit(){this.authService.user.subscribe(C=>{this.userActive=!!C})}navbarToggle(){this.isOpen=!this.isOpen}signOut(){this.authService.signOut().then(()=>console.log("out"))}}return W.\u0275fac=function(C){return new(C||W)(k.Y36(ge.e),k.Y36(Q.F0))},W.\u0275cmp=k.Xpm({type:W,selectors:[["app-header"]],decls:24,vars:11,consts:[[1,"container"],[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],["routerLink","home",1,"navbar-brand"],["src","../../../assets/images/logo.png","alt",""],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","me-3"],["aria-current","page","routerLink","home","routerLinkActive","active-route",1,"nav-link"],["class","nav-item me-3",4,"ngIf"],["class","nav-item me-3 ",4,"ngIf"],["class","btn btn-primary logout-btn",3,"click",4,"ngIf"],["routerLink","shop","routerLinkActive","active-route",1,"nav-link"],["routerLink","blog","routerLinkActive","active-route",1,"nav-link"],["routerLink","about","routerLinkActive","active-route",1,"nav-link"],[1,"nav-link"],["routerLink","dashboard","routerLinkActive","active-route",1,"nav-link"],["routerLink","signin","routerLinkActive","active-route",1,"nav-link"],["routerLink","signup","routerLinkActive","active-route",1,"nav-link"],["routerLink","cart","routerLinkActive","active-route",1,"nav-link"],[1,"fa","fa-bag-shopping"],[1,"btn","btn-primary","logout-btn",3,"click"]],template:function(C,U){1&C&&(k.TgZ(0,"header")(1,"div",0)(2,"nav",1)(3,"div",2)(4,"a",3),k._UZ(5,"img",4),k.qZA(),k.TgZ(6,"button",5),k.NdJ("click",function(){return U.navbarToggle()}),k._UZ(7,"span",6)(8,"span",6)(9,"span",6),k.qZA(),k.TgZ(10,"div",7)(11,"ul",8)(12,"li",9)(13,"a",10),k._uU(14,"Home"),k.qZA()(),k.YNc(15,Ot,3,0,"li",11),k.YNc(16,Pt,3,0,"li",11),k.YNc(17,jt,3,0,"li",11),k.YNc(18,Jt,3,0,"li",11),k.YNc(19,en,3,0,"li",11),k.YNc(20,wt,3,0,"li",11),k.YNc(21,ln,3,0,"li",11),k.YNc(22,Wt,3,0,"li",12),k.YNc(23,Yt,2,0,"button",13),k.qZA()()()()()()),2&C&&(k.xp6(10),k.ekj("show",U.isOpen),k.xp6(5),k.Q6J("ngIf",U.userActive),k.xp6(1),k.Q6J("ngIf",U.userActive),k.xp6(1),k.Q6J("ngIf",U.userActive),k.xp6(1),k.Q6J("ngIf",U.userActive),k.xp6(1),k.Q6J("ngIf",U.userActive),k.xp6(1),k.Q6J("ngIf",!U.userActive),k.xp6(1),k.Q6J("ngIf",!U.userActive),k.xp6(1),k.Q6J("ngIf",U.userActive),k.xp6(1),k.Q6J("ngIf",U.userActive))},dependencies:[qe.O5,Q.yS,Q.Od,Qe.M2],styles:['header[_ngcontent-%COMP%]{background-color:#e3e6f3;box-shadow:0 5px 15px #0000000f}header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{padding:25px 0}@media (max-width: 991.98px){header[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{margin-top:30px;display:flex;flex-direction:row;flex-wrap:wrap}header[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}header[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:last-of-type{margin-right:auto!important}}@media (max-width: 575.98px){header[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{padding:50px 30px;justify-content:center}header[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:last-of-type{margin-right:20px!important}}header[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:2px solid #088178;background-color:#088178;padding:.45rem .75rem}header[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 0 transparent}header[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]   span.navbar-icon[_ngcontent-%COMP%]{display:block;width:25px;height:2px;background-color:#fff;margin-bottom:7px;border-radius:20px}header[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]   span.navbar-icon[_ngcontent-%COMP%]:last-child{margin-bottom:0}header[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:16px;color:#1a1a1a}header[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .active-route[_ngcontent-%COMP%]{color:#088178;font-weight:600}header[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .active-route[_ngcontent-%COMP%]:after{content:"";transition:.5s;width:55%;height:3px;border-radius:10px;display:block;background-color:#088178}header[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{background-color:#088178;font-weight:500;border:none}header[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 0 transparent}']}),W})(),bn=(()=>{class W{constructor(){}ngOnInit(){}}return W.\u0275fac=function(C){return new(C||W)},W.\u0275cmp=k.Xpm({type:W,selectors:[["app-footer"]],decls:90,vars:0,consts:[[1,"container"],[1,"row","py-5","my-5"],[1,"col-md-6","col-lg-4","mb-5","nav-block"],["routerLink","home",1,"d-flex","align-items-center","mb-4","logo"],["src","../../../assets/images/logo.png","alt",""],[1,"section-title"],[1,"contact-info"],[1,"mb-4"],[1,"social-icon"],["href","https://www.facebook.com/","target","_blank",1,"nav-link","p-0","text-muted"],[1,"fa-brands","fa-facebook-f"],["href","https://www.twitter.com/","target","_blank",1,"nav-link","p-0","text-muted"],[1,"fa-brands","fa-twitter"],["href","https://www.instagram.com/","target","_blank",1,"nav-link","p-0","text-muted"],[1,"fa-brands","fa-instagram"],["href","https://www.pinterest.com/","target","_blank",1,"nav-link","p-0","text-muted"],[1,"fa-brands","fa-pinterest-p"],["href","https://www.youtube.com/","target","_blank",1,"nav-link","p-0","text-muted"],[1,"fa-brands","fa-youtube"],[1,"col-md-6","col-lg-2","mb-5","nav-block"],[1,"nav","flex-column"],[1,"nav-item","mb-2"],["href","#",1,"nav-link","p-0","text-muted"],[1,"col-md-6","col-lg-2","nav-block"],["routerLink","signin",1,"nav-link","p-0","text-muted"],["routerLink","cart",1,"nav-link","p-0","text-muted"],[1,"col-md-6","col-lg-4","nav-block"],[1,"nav"],[1,"nav-item","mb-3"],["href","https://www.apple.com","target","_blank",1,"nav-link","p-0","me-2","mb-2"],["src","../../../assets/images/pay/app.jpg","alt","",1,"cara-app"],["href","https://play.google.com","target","_blank",1,"nav-link","p-0"],["src","../../../assets/images/pay/play.jpg","alt","",1,"cara-app"],[1,"nav-item","my-3"],["src","../../../assets/images/pay/pay.png","alt",""],[1,"row"],[1,"col-md-12","text-center"],[1,"text-center","text-muted"]],template:function(C,U){1&C&&(k.TgZ(0,"div",0)(1,"footer",1)(2,"div",2)(3,"a",3),k._UZ(4,"img",4),k.qZA(),k.TgZ(5,"p",5),k._uU(6,"contact"),k.qZA(),k.TgZ(7,"p")(8,"strong",6),k._uU(9,"Address:"),k.qZA(),k._uU(10," 265 Wellington Rood.street32.San Francisco "),k.qZA(),k.TgZ(11,"p")(12,"strong",6),k._uU(13,"Phone:"),k.qZA(),k._uU(14," +01 2222 365 /(+91) 01 2345 6789 "),k.qZA(),k.TgZ(15,"p",7)(16,"strong",6),k._uU(17,"Hours:"),k.qZA(),k._uU(18," 10:00 - 18:00,Mon - Sat "),k.qZA(),k.TgZ(19,"div",5),k._uU(20,"Follow Us"),k.qZA(),k.TgZ(21,"div",8)(22,"a",9),k._UZ(23,"i",10),k.qZA(),k.TgZ(24,"a",11),k._UZ(25,"i",12),k.qZA(),k.TgZ(26,"a",13),k._UZ(27,"i",14),k.qZA(),k.TgZ(28,"a",15),k._UZ(29,"i",16),k.qZA(),k.TgZ(30,"a",17),k._UZ(31,"i",18),k.qZA()()(),k.TgZ(32,"div",19)(33,"h5",5),k._uU(34,"About"),k.qZA(),k.TgZ(35,"ul",20)(36,"li",21)(37,"a",22),k._uU(38,"About Us"),k.qZA()(),k.TgZ(39,"li",21)(40,"a",22),k._uU(41,"Delivery Information"),k.qZA()(),k.TgZ(42,"li",21)(43,"a",22),k._uU(44,"Privacy Policy"),k.qZA()(),k.TgZ(45,"li",21)(46,"a",22),k._uU(47,"Terms & Conditions"),k.qZA()(),k.TgZ(48,"li",21)(49,"a",22),k._uU(50,"Contact Us"),k.qZA()()()(),k.TgZ(51,"div",23)(52,"h5",5),k._uU(53,"My Account"),k.qZA(),k.TgZ(54,"ul",20)(55,"li",21)(56,"a",24),k._uU(57,"Sign In"),k.qZA()(),k.TgZ(58,"li",21)(59,"a",25),k._uU(60,"View Cart"),k.qZA()(),k.TgZ(61,"li",21)(62,"a",22),k._uU(63,"My Wishlist"),k.qZA()(),k.TgZ(64,"li",21)(65,"a",22),k._uU(66,"Track My Order"),k.qZA()(),k.TgZ(67,"li",21)(68,"a",22),k._uU(69,"Help"),k.qZA()()()(),k.TgZ(70,"div",26)(71,"h5",5),k._uU(72,"Install App"),k.qZA(),k.TgZ(73,"ul",27)(74,"li",28),k._uU(75,"From App Store or Google Play"),k.qZA(),k.TgZ(76,"li",21)(77,"a",29),k._UZ(78,"img",30),k.qZA(),k.TgZ(79,"a",31),k._UZ(80,"img",32),k.qZA()(),k.TgZ(81,"li",33),k._uU(82,"Secured Payment Gateway"),k.qZA(),k.TgZ(83,"li",21)(84,"a",22),k._UZ(85,"img",34),k.qZA()()()()(),k.TgZ(86,"div",35)(87,"div",36)(88,"p",37),k._uU(89,"\xa9 2021.tech2 etc - Angular Ecommerce Template "),k.qZA()()()())},dependencies:[Q.yS],styles:["@media (max-width: 767.98px){footer[_ngcontent-%COMP%]   .nav-block[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}footer[_ngcontent-%COMP%]   .nav-block[_ngcontent-%COMP%]:first-child   .logo[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .nav-block[_ngcontent-%COMP%]:first-child   .social-icon[_ngcontent-%COMP%]{justify-content:center}footer[_ngcontent-%COMP%]   .nav-block[_ngcontent-%COMP%]:last-child   .nav[_ngcontent-%COMP%]{display:block}}footer[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:25px;font-size:18px}footer[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:inline-block}footer[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{color:#465b52}footer[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{display:flex}footer[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]   .fa-brands[_ngcontent-%COMP%]{font-size:20px;color:#465b52;margin-right:12px}footer[_ngcontent-%COMP%]   .cara-app[_ngcontent-%COMP%]{border:1px solid #088178;border-radius:6px}"]}),W})(),Rt=(()=>{class W{constructor(){this.title="my-market"}ngOnInit(){Fe.init({duration:1500,delay:100}),window.addEventListener("load",Fe.refresh)}}return W.\u0275fac=function(C){return new(C||W)},W.\u0275cmp=k.Xpm({type:W,selectors:[["app-root"]],decls:5,vars:1,consts:[["outletRef","outlet"]],template:function(C,U){if(1&C&&(k._UZ(0,"app-header"),k.TgZ(1,"main"),k._UZ(2,"router-outlet",null,0),k.qZA(),k._UZ(4,"app-footer")),2&C){const te=k.MAs(3);k.xp6(1),k.Q6J("@routing",te.isActivated?te.activatedRoute:"")}},dependencies:[Q.lC,$t,bn],styles:["[_nghost-%COMP%]     .accordion-item{background-color:red}"],data:{animation:[fe]}}),W})();var Cn=V(4466);let ei=(()=>{class W{}return W.\u0275fac=function(C){return new(C||W)},W.\u0275mod=k.oAB({type:W}),W.\u0275inj=k.cJS({imports:[qe.ez,Cn.m,Cn.m]}),W})();var fn=V(2011),Rn=V(2340),er=V(1666);function Vr(W){return new k.vHH(3e3,!1)}function Er(){return typeof window<"u"&&typeof window.document<"u"}function Cr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function zr(W){switch(W.length){case 0:return new Ae;case 1:return W[0];default:return new ie(W)}}function ai(W,y,C,U,te=new Map,ne=new Map){const we=[],$e=[];let Le=-1,Te=null;if(U.forEach(at=>{const zt=at.get("offset"),Nr=zt==Le,Hn=Nr&&Te||new Map;at.forEach((Un,zn)=>{let oi=zn,Di=Un;if("offset"!==zn)switch(oi=y.normalizePropertyName(oi,we),Di){case"!":Di=te.get(zn);break;case de:Di=ne.get(zn);break;default:Di=y.normalizeStyleValue(zn,oi,Di,we)}Hn.set(oi,Di)}),Nr||$e.push(Hn),Te=Hn,Le=zt}),we.length)throw function Ke(W){return new k.vHH(3502,!1)}();return $e}function xr(W,y,C,U){switch(y){case"start":W.onStart(()=>U(C&&Re(C,"start",W)));break;case"done":W.onDone(()=>U(C&&Re(C,"done",W)));break;case"destroy":W.onDestroy(()=>U(C&&Re(C,"destroy",W)))}}function Re(W,y,C){const ne=Se(W.element,W.triggerName,W.fromState,W.toState,y||W.phaseName,C.totalTime??W.totalTime,!!C.disabled),we=W._data;return null!=we&&(ne._data=we),ne}function Se(W,y,C,U,te="",ne=0,we){return{element:W,triggerName:y,fromState:C,toState:U,phaseName:te,totalTime:ne,disabled:!!we}}function pe(W,y,C){let U=W.get(y);return U||W.set(y,U=C),U}function ct(W){const y=W.indexOf(":");return[W.substring(1,y),W.slice(y+1)]}let St=(W,y)=>!1,Ut=(W,y,C)=>[],Qt=null;function Mn(W){const y=W.parentNode||W.host;return y===Qt?null:y}(Cr()||typeof Element<"u")&&(Er()?(Qt=(()=>document.documentElement)(),St=(W,y)=>{for(;y;){if(y===W)return!0;y=Mn(y)}return!1}):St=(W,y)=>W.contains(y),Ut=(W,y,C)=>{if(C)return Array.from(W.querySelectorAll(y));const U=W.querySelector(y);return U?[U]:[]});let En=null,ar=!1;const ti=St,hs=Ut;let Ti=(()=>{class W{validateStyleProperty(C){return function vi(W){En||(En=function Xi(){return typeof document<"u"?document.body:null}()||{},ar=!!En.style&&"WebkitAppearance"in En.style);let y=!0;return En.style&&!function Ji(W){return"ebkit"==W.substring(1,6)}(W)&&(y=W in En.style,!y&&ar&&(y="Webkit"+W.charAt(0).toUpperCase()+W.slice(1)in En.style)),y}(C)}matchesElement(C,U){return!1}containsElement(C,U){return ti(C,U)}getParentElement(C){return Mn(C)}query(C,U,te){return hs(C,U,te)}computeStyle(C,U,te){return te||""}animate(C,U,te,ne,we,$e=[],Le){return new Ae(te,ne)}}return W.\u0275fac=function(C){return new(C||W)},W.\u0275prov=k.Yz7({token:W,factory:W.\u0275fac}),W})(),bi=(()=>{class W{}return W.NOOP=new Ti,W})();const ki="ng-enter",ws="ng-leave",Fi="ng-trigger",zi=".ng-trigger",fs="ng-animating",Wr=".ng-animating";function Kn(W){if("number"==typeof W)return W;const y=W.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:js(parseFloat(y[1]),y[2])}function js(W,y){return"s"===y?1e3*W:W}function Ir(W,y,C){return W.hasOwnProperty("duration")?W:function li(W,y,C){let te,ne=0,we="";if("string"==typeof W){const $e=W.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===$e)return y.push(Vr()),{duration:0,delay:0,easing:""};te=js(parseFloat($e[1]),$e[2]);const Le=$e[3];null!=Le&&(ne=js(parseFloat(Le),$e[4]));const Te=$e[5];Te&&(we=Te)}else te=W;if(!C){let $e=!1,Le=y.length;te<0&&(y.push(function Ur(){return new k.vHH(3100,!1)}()),$e=!0),ne<0&&(y.push(function Ar(){return new k.vHH(3101,!1)}()),$e=!0),$e&&y.splice(Le,0,Vr())}return{duration:te,delay:ne,easing:we}}(W,y,C)}function Hs(W,y={}){return Object.keys(W).forEach(C=>{y[C]=W[C]}),y}function As(W){const y=new Map;return Object.keys(W).forEach(C=>{y.set(C,W[C])}),y}function is(W,y=new Map,C){if(C)for(let[U,te]of C)y.set(U,te);for(let[U,te]of W)y.set(U,te);return y}function aa(W,y,C){return C?y+":"+C+";":""}function Go(W){let y="";for(let C=0;C<W.style.length;C++){const U=W.style.item(C);y+=aa(0,U,W.style.getPropertyValue(U))}for(const C in W.style)W.style.hasOwnProperty(C)&&!C.startsWith("_")&&(y+=aa(0,ni(C),W.style[C]));W.setAttribute("style",y)}function ps(W,y,C){W.style&&(y.forEach((U,te)=>{const ne=xn(te);C&&!C.has(te)&&C.set(te,W.style[ne]),W.style[ne]=U}),Cr()&&Go(W))}function Zr(W,y){W.style&&(y.forEach((C,U)=>{const te=xn(U);W.style[te]=""}),Cr()&&Go(W))}function ui(W){return Array.isArray(W)?1==W.length?W[0]:ot(W):W}const Je=new RegExp("{{\\s*(.+?)\\s*}}","g");function ht(W){let y=[];if("string"==typeof W){let C;for(;C=Je.exec(W);)y.push(C[1]);Je.lastIndex=0}return y}function Mt(W,y,C){const U=W.toString(),te=U.replace(Je,(ne,we)=>{let $e=y[we];return null==$e&&(C.push(function xt(W){return new k.vHH(3003,!1)}()),$e=""),$e.toString()});return te==U?W:te}function Zt(W){const y=[];let C=W.next();for(;!C.done;)y.push(C.value),C=W.next();return y}const pn=/-+([a-z0-9])/g;function xn(W){return W.replace(pn,(...y)=>y[1].toUpperCase())}function ni(W){return W.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Li(W,y,C){switch(y.type){case 7:return W.visitTrigger(y,C);case 0:return W.visitState(y,C);case 1:return W.visitTransition(y,C);case 2:return W.visitSequence(y,C);case 3:return W.visitGroup(y,C);case 4:return W.visitAnimate(y,C);case 5:return W.visitKeyframes(y,C);case 6:return W.visitStyle(y,C);case 8:return W.visitReference(y,C);case 9:return W.visitAnimateChild(y,C);case 10:return W.visitAnimateRef(y,C);case 11:return W.visitQuery(y,C);case 12:return W.visitStagger(y,C);default:throw function rr(W){return new k.vHH(3004,!1)}()}}function Xs(W,y){return window.getComputedStyle(W)[y]}function Ms(W,y){const C=[];return"string"==typeof W?W.split(/\s*,\s*/).forEach(U=>function ho(W,y,C){if(":"==W[0]){const Le=function xs(W,y){switch(W){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(C,U)=>parseFloat(U)>parseFloat(C);case":decrement":return(C,U)=>parseFloat(U)<parseFloat(C);default:return y.push(function Pi(W){return new k.vHH(3016,!1)}()),"* => *"}}(W,C);if("function"==typeof Le)return void y.push(Le);W=Le}const U=W.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==U||U.length<4)return C.push(function Dn(W){return new k.vHH(3015,!1)}()),y;const te=U[1],ne=U[2],we=U[3];y.push(gs(te,we));"<"==ne[0]&&!("*"==te&&"*"==we)&&y.push(gs(we,te))}(U,C,y)):C.push(W),C}const _o=new Set(["true","1"]),Ro=new Set(["false","0"]);function gs(W,y){const C=_o.has(W)||Ro.has(W),U=_o.has(y)||Ro.has(y);return(te,ne)=>{let we="*"==W||W==te,$e="*"==y||y==ne;return!we&&C&&"boolean"==typeof te&&(we=te?_o.has(W):Ro.has(W)),!$e&&U&&"boolean"==typeof ne&&($e=ne?_o.has(y):Ro.has(y)),we&&$e}}const Rs=new RegExp("s*:selfs*,?","g");function ss(W,y,C,U){return new la(W).build(y,C,U)}class la{constructor(y){this._driver=y}build(y,C,U){const te=new $s(C);return this._resetContextStyleTimingState(te),Li(this,ui(y),te)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,C){let U=C.queryCount=0,te=C.depCount=0;const ne=[],we=[];return"@"==y.name.charAt(0)&&C.errors.push(function ir(){return new k.vHH(3006,!1)}()),y.definitions.forEach($e=>{if(this._resetContextStyleTimingState(C),0==$e.type){const Le=$e,Te=Le.name;Te.toString().split(/\s*,\s*/).forEach(at=>{Le.name=at,ne.push(this.visitState(Le,C))}),Le.name=Te}else if(1==$e.type){const Le=this.visitTransition($e,C);U+=Le.queryCount,te+=Le.depCount,we.push(Le)}else C.errors.push(function Ci(){return new k.vHH(3007,!1)}())}),{type:7,name:y.name,states:ne,transitions:we,queryCount:U,depCount:te,options:null}}visitState(y,C){const U=this.visitStyle(y.styles,C),te=y.options&&y.options.params||null;if(U.containsDynamicStyles){const ne=new Set,we=te||{};U.styles.forEach($e=>{$e instanceof Map&&$e.forEach(Le=>{ht(Le).forEach(Te=>{we.hasOwnProperty(Te)||ne.add(Te)})})}),ne.size&&(Zt(ne.values()),C.errors.push(function Qi(W,y){return new k.vHH(3008,!1)}()))}return{type:0,name:y.name,style:U,options:te?{params:te}:null}}visitTransition(y,C){C.queryCount=0,C.depCount=0;const U=Li(this,ui(y.animation),C);return{type:1,matchers:Ms(y.expr,C.errors),animation:U,queryCount:C.queryCount,depCount:C.depCount,options:fo(y.options)}}visitSequence(y,C){return{type:2,steps:y.steps.map(U=>Li(this,U,C)),options:fo(y.options)}}visitGroup(y,C){const U=C.currentTime;let te=0;const ne=y.steps.map(we=>{C.currentTime=U;const $e=Li(this,we,C);return te=Math.max(te,C.currentTime),$e});return C.currentTime=te,{type:3,steps:ne,options:fo(y.options)}}visitAnimate(y,C){const U=function Eo(W,y){if(W.hasOwnProperty("duration"))return W;if("number"==typeof W)return hr(Ir(W,y).duration,0,"");const C=W;if(C.split(/\s+/).some(ne=>"{"==ne.charAt(0)&&"{"==ne.charAt(1))){const ne=hr(0,0,"");return ne.dynamic=!0,ne.strValue=C,ne}const te=Ir(C,y);return hr(te.duration,te.delay,te.easing)}(y.timings,C.errors);C.currentAnimateTimings=U;let te,ne=y.styles?y.styles:nt({});if(5==ne.type)te=this.visitKeyframes(ne,C);else{let we=y.styles,$e=!1;if(!we){$e=!0;const Te={};U.easing&&(Te.easing=U.easing),we=nt(Te)}C.currentTime+=U.duration+U.delay;const Le=this.visitStyle(we,C);Le.isEmptyStep=$e,te=Le}return C.currentAnimateTimings=null,{type:4,timings:U,style:te,options:null}}visitStyle(y,C){const U=this._makeStyleAst(y,C);return this._validateStyleAst(U,C),U}_makeStyleAst(y,C){const U=[],te=Array.isArray(y.styles)?y.styles:[y.styles];for(let $e of te)"string"==typeof $e?$e===de?U.push($e):C.errors.push(new k.vHH(3002,!1)):U.push(As($e));let ne=!1,we=null;return U.forEach($e=>{if($e instanceof Map&&($e.has("easing")&&(we=$e.get("easing"),$e.delete("easing")),!ne))for(let Le of $e.values())if(Le.toString().indexOf("{{")>=0){ne=!0;break}}),{type:6,styles:U,easing:we,offset:y.offset,containsDynamicStyles:ne,options:null}}_validateStyleAst(y,C){const U=C.currentAnimateTimings;let te=C.currentTime,ne=C.currentTime;U&&ne>0&&(ne-=U.duration+U.delay),y.styles.forEach(we=>{"string"!=typeof we&&we.forEach(($e,Le)=>{const Te=C.collectedStyles.get(C.currentQuerySelector),at=Te.get(Le);let zt=!0;at&&(ne!=te&&ne>=at.startTime&&te<=at.endTime&&(C.errors.push(function Gn(W,y,C,U,te){return new k.vHH(3010,!1)}()),zt=!1),ne=at.startTime),zt&&Te.set(Le,{startTime:ne,endTime:te}),C.options&&function tt(W,y,C){const U=y.params||{},te=ht(W);te.length&&te.forEach(ne=>{U.hasOwnProperty(ne)||C.push(function di(W){return new k.vHH(3001,!1)}())})}($e,C.options,C.errors)})})}visitKeyframes(y,C){const U={type:5,styles:[],options:null};if(!C.currentAnimateTimings)return C.errors.push(function sn(){return new k.vHH(3011,!1)}()),U;let ne=0;const we=[];let $e=!1,Le=!1,Te=0;const at=y.steps.map(Di=>{const Sr=this._makeStyleAst(Di,C);let Ni=null!=Sr.offset?Sr.offset:function pi(W){if("string"==typeof W)return null;let y=null;if(Array.isArray(W))W.forEach(C=>{if(C instanceof Map&&C.has("offset")){const U=C;y=parseFloat(U.get("offset")),U.delete("offset")}});else if(W instanceof Map&&W.has("offset")){const C=W;y=parseFloat(C.get("offset")),C.delete("offset")}return y}(Sr.styles),Ps=0;return null!=Ni&&(ne++,Ps=Sr.offset=Ni),Le=Le||Ps<0||Ps>1,$e=$e||Ps<Te,Te=Ps,we.push(Ps),Sr});Le&&C.errors.push(function un(){return new k.vHH(3012,!1)}()),$e&&C.errors.push(function ur(){return new k.vHH(3200,!1)}());const zt=y.steps.length;let Nr=0;ne>0&&ne<zt?C.errors.push(function _r(){return new k.vHH(3202,!1)}()):0==ne&&(Nr=1/(zt-1));const Hn=zt-1,Un=C.currentTime,zn=C.currentAnimateTimings,oi=zn.duration;return at.forEach((Di,Sr)=>{const Ni=Nr>0?Sr==Hn?1:Nr*Sr:we[Sr],Ps=Ni*oi;C.currentTime=Un+zn.delay+Ps,zn.duration=Ps,this._validateStyleAst(Di,C),Di.offset=Ni,U.styles.push(Di)}),U}visitReference(y,C){return{type:8,animation:Li(this,ui(y.animation),C),options:fo(y.options)}}visitAnimateChild(y,C){return C.depCount++,{type:9,options:fo(y.options)}}visitAnimateRef(y,C){return{type:10,animation:this.visitReference(y.animation,C),options:fo(y.options)}}visitQuery(y,C){const U=C.currentQuerySelector,te=y.options||{};C.queryCount++,C.currentQuery=y;const[ne,we]=function Vi(W){const y=!!W.split(/\s*,\s*/).find(C=>":self"==C);return y&&(W=W.replace(Rs,"")),W=W.replace(/@\*/g,zi).replace(/@\w+/g,C=>zi+"-"+C.slice(1)).replace(/:animating/g,Wr),[W,y]}(y.selector);C.currentQuerySelector=U.length?U+" "+ne:ne,pe(C.collectedStyles,C.currentQuerySelector,new Map);const $e=Li(this,ui(y.animation),C);return C.currentQuery=null,C.currentQuerySelector=U,{type:11,selector:ne,limit:te.limit||0,optional:!!te.optional,includeSelf:we,animation:$e,originalSelector:y.selector,options:fo(y.options)}}visitStagger(y,C){C.currentQuery||C.errors.push(function cr(){return new k.vHH(3013,!1)}());const U="full"===y.timings?{duration:0,delay:0,easing:"full"}:Ir(y.timings,C.errors,!0);return{type:12,animation:Li(this,ui(y.animation),C),timings:U,options:null}}}class $s{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function fo(W){return W?(W=Hs(W)).params&&(W.params=function to(W){return W?Hs(W):null}(W.params)):W={},W}function hr(W,y,C){return{duration:W,delay:y,easing:C}}function Ki(W,y,C,U,te,ne,we=null,$e=!1){return{type:1,element:W,keyframes:y,preStyleProps:C,postStyleProps:U,duration:te,delay:ne,totalTime:te+ne,easing:we,subTimeline:$e}}class os{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,C){let U=this._map.get(y);U||this._map.set(y,U=[]),U.push(...C)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const gr=new RegExp(":enter","g"),ms=new RegExp(":leave","g");function Po(W,y,C,U,te,ne=new Map,we=new Map,$e,Le,Te=[]){return(new ts).buildKeyframes(W,y,C,U,te,ne,we,$e,Le,Te)}class ts{buildKeyframes(y,C,U,te,ne,we,$e,Le,Te,at=[]){Te=Te||new os;const zt=new jr(y,C,Te,te,ne,at,[]);zt.options=Le;const Nr=Le.delay?Kn(Le.delay):0;zt.currentTimeline.delayNextStep(Nr),zt.currentTimeline.setStyles([we],null,zt.errors,Le),Li(this,U,zt);const Hn=zt.timelines.filter(Un=>Un.containsAnimation());if(Hn.length&&$e.size){let Un;for(let zn=Hn.length-1;zn>=0;zn--){const oi=Hn[zn];if(oi.element===C){Un=oi;break}}Un&&!Un.allowOnlyTimelineStyles()&&Un.setStyles([$e],null,zt.errors,Le)}return Hn.length?Hn.map(Un=>Un.buildKeyframes()):[Ki(C,[],[],[],0,Nr,"",!1)]}visitTrigger(y,C){}visitState(y,C){}visitTransition(y,C){}visitAnimateChild(y,C){const U=C.subInstructions.get(C.element);if(U){const te=C.createSubContext(y.options),ne=C.currentTimeline.currentTime,we=this._visitSubInstructions(U,te,te.options);ne!=we&&C.transformIntoNewTimeline(we)}C.previousNode=y}visitAnimateRef(y,C){const U=C.createSubContext(y.options);U.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],C,U),this.visitReference(y.animation,U),C.transformIntoNewTimeline(U.currentTimeline.currentTime),C.previousNode=y}_applyAnimationRefDelays(y,C,U){for(const te of y){const ne=te?.delay;if(ne){const we="number"==typeof ne?ne:Kn(Mt(ne,te?.params??{},C.errors));U.delayNextStep(we)}}}_visitSubInstructions(y,C,U){let ne=C.currentTimeline.currentTime;const we=null!=U.duration?Kn(U.duration):null,$e=null!=U.delay?Kn(U.delay):null;return 0!==we&&y.forEach(Le=>{const Te=C.appendInstructionToTimeline(Le,we,$e);ne=Math.max(ne,Te.duration+Te.delay)}),ne}visitReference(y,C){C.updateOptions(y.options,!0),Li(this,y.animation,C),C.previousNode=y}visitSequence(y,C){const U=C.subContextCount;let te=C;const ne=y.options;if(ne&&(ne.params||ne.delay)&&(te=C.createSubContext(ne),te.transformIntoNewTimeline(),null!=ne.delay)){6==te.previousNode.type&&(te.currentTimeline.snapshotCurrentStyles(),te.previousNode=wi);const we=Kn(ne.delay);te.delayNextStep(we)}y.steps.length&&(y.steps.forEach(we=>Li(this,we,te)),te.currentTimeline.applyStylesToKeyframe(),te.subContextCount>U&&te.transformIntoNewTimeline()),C.previousNode=y}visitGroup(y,C){const U=[];let te=C.currentTimeline.currentTime;const ne=y.options&&y.options.delay?Kn(y.options.delay):0;y.steps.forEach(we=>{const $e=C.createSubContext(y.options);ne&&$e.delayNextStep(ne),Li(this,we,$e),te=Math.max(te,$e.currentTimeline.currentTime),U.push($e.currentTimeline)}),U.forEach(we=>C.currentTimeline.mergeTimelineCollectedStyles(we)),C.transformIntoNewTimeline(te),C.previousNode=y}_visitTiming(y,C){if(y.dynamic){const U=y.strValue;return Ir(C.params?Mt(U,C.params,C.errors):U,C.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,C){const U=C.currentAnimateTimings=this._visitTiming(y.timings,C),te=C.currentTimeline;U.delay&&(C.incrementTime(U.delay),te.snapshotCurrentStyles());const ne=y.style;5==ne.type?this.visitKeyframes(ne,C):(C.incrementTime(U.duration),this.visitStyle(ne,C),te.applyStylesToKeyframe()),C.currentAnimateTimings=null,C.previousNode=y}visitStyle(y,C){const U=C.currentTimeline,te=C.currentAnimateTimings;!te&&U.hasCurrentStyleProperties()&&U.forwardFrame();const ne=te&&te.easing||y.easing;y.isEmptyStep?U.applyEmptyStep(ne):U.setStyles(y.styles,ne,C.errors,C.options),C.previousNode=y}visitKeyframes(y,C){const U=C.currentAnimateTimings,te=C.currentTimeline.duration,ne=U.duration,$e=C.createSubContext().currentTimeline;$e.easing=U.easing,y.styles.forEach(Le=>{$e.forwardTime((Le.offset||0)*ne),$e.setStyles(Le.styles,Le.easing,C.errors,C.options),$e.applyStylesToKeyframe()}),C.currentTimeline.mergeTimelineCollectedStyles($e),C.transformIntoNewTimeline(te+ne),C.previousNode=y}visitQuery(y,C){const U=C.currentTimeline.currentTime,te=y.options||{},ne=te.delay?Kn(te.delay):0;ne&&(6===C.previousNode.type||0==U&&C.currentTimeline.hasCurrentStyleProperties())&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=wi);let we=U;const $e=C.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!te.optional,C.errors);C.currentQueryTotal=$e.length;let Le=null;$e.forEach((Te,at)=>{C.currentQueryIndex=at;const zt=C.createSubContext(y.options,Te);ne&&zt.delayNextStep(ne),Te===C.element&&(Le=zt.currentTimeline),Li(this,y.animation,zt),zt.currentTimeline.applyStylesToKeyframe(),we=Math.max(we,zt.currentTimeline.currentTime)}),C.currentQueryIndex=0,C.currentQueryTotal=0,C.transformIntoNewTimeline(we),Le&&(C.currentTimeline.mergeTimelineCollectedStyles(Le),C.currentTimeline.snapshotCurrentStyles()),C.previousNode=y}visitStagger(y,C){const U=C.parentContext,te=C.currentTimeline,ne=y.timings,we=Math.abs(ne.duration),$e=we*(C.currentQueryTotal-1);let Le=we*C.currentQueryIndex;switch(ne.duration<0?"reverse":ne.easing){case"reverse":Le=$e-Le;break;case"full":Le=U.currentStaggerTime}const at=C.currentTimeline;Le&&at.delayNextStep(Le);const zt=at.currentTime;Li(this,y.animation,C),C.previousNode=y,U.currentStaggerTime=te.currentTime-zt+(te.startTime-U.currentTimeline.startTime)}}const wi={};class jr{constructor(y,C,U,te,ne,we,$e,Le){this._driver=y,this.element=C,this.subInstructions=U,this._enterClassName=te,this._leaveClassName=ne,this.errors=we,this.timelines=$e,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Le||new On(this._driver,C,0),$e.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,C){if(!y)return;const U=y;let te=this.options;null!=U.duration&&(te.duration=Kn(U.duration)),null!=U.delay&&(te.delay=Kn(U.delay));const ne=U.params;if(ne){let we=te.params;we||(we=this.options.params={}),Object.keys(ne).forEach($e=>{(!C||!we.hasOwnProperty($e))&&(we[$e]=Mt(ne[$e],we,this.errors))})}}_copyOptions(){const y={};if(this.options){const C=this.options.params;if(C){const U=y.params={};Object.keys(C).forEach(te=>{U[te]=C[te]})}}return y}createSubContext(y=null,C,U){const te=C||this.element,ne=new jr(this._driver,te,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(te,U||0));return ne.previousNode=this.previousNode,ne.currentAnimateTimings=this.currentAnimateTimings,ne.options=this._copyOptions(),ne.updateOptions(y),ne.currentQueryIndex=this.currentQueryIndex,ne.currentQueryTotal=this.currentQueryTotal,ne.parentContext=this,this.subContextCount++,ne}transformIntoNewTimeline(y){return this.previousNode=wi,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,C,U){const te={duration:C??y.duration,delay:this.currentTimeline.currentTime+(U??0)+y.delay,easing:""},ne=new ua(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,te,y.stretchStartingKeyframe);return this.timelines.push(ne),te}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,C,U,te,ne,we){let $e=[];if(te&&$e.push(this.element),y.length>0){y=(y=y.replace(gr,"."+this._enterClassName)).replace(ms,"."+this._leaveClassName);let Te=this._driver.query(this.element,y,1!=U);0!==U&&(Te=U<0?Te.slice(Te.length+U,Te.length):Te.slice(0,U)),$e.push(...Te)}return!ne&&0==$e.length&&we.push(function cn(W){return new k.vHH(3014,!1)}()),$e}}class On{constructor(y,C,U,te){this._driver=y,this.element=C,this.startTime=U,this._elementTimelineStylesLookup=te,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(C),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(C,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const C=1===this._keyframes.size&&this._pendingStyles.size;this.duration||C?(this.forwardTime(this.currentTime+y),C&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,C){return this.applyStylesToKeyframe(),new On(this._driver,y,C||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,C){this._localTimelineStyles.set(y,C),this._globalTimelineStyles.set(y,C),this._styleSummary.set(y,{time:this.currentTime,value:C})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[C,U]of this._globalTimelineStyles)this._backFill.set(C,U||de),this._currentKeyframe.set(C,de);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,C,U,te){C&&this._previousKeyframe.set("easing",C);const ne=te&&te.params||{},we=function po(W,y){const C=new Map;let U;return W.forEach(te=>{if("*"===te){U=U||y.keys();for(let ne of U)C.set(ne,de)}else is(te,C)}),C}(y,this._globalTimelineStyles);for(let[$e,Le]of we){const Te=Mt(Le,ne,U);this._pendingStyles.set($e,Te),this._localTimelineStyles.has($e)||this._backFill.set($e,this._globalTimelineStyles.get($e)??de),this._updateStyle($e,Te)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,C)=>{this._currentKeyframe.set(C,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,C)=>{this._currentKeyframe.has(C)||this._currentKeyframe.set(C,y)}))}snapshotCurrentStyles(){for(let[y,C]of this._localTimelineStyles)this._pendingStyles.set(y,C),this._updateStyle(y,C)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let C in this._currentKeyframe)y.push(C);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((C,U)=>{const te=this._styleSummary.get(U);(!te||C.time>te.time)&&this._updateStyle(U,C.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,C=new Set,U=1===this._keyframes.size&&0===this.duration;let te=[];this._keyframes.forEach(($e,Le)=>{const Te=is($e,new Map,this._backFill);Te.forEach((at,zt)=>{"!"===at?y.add(zt):at===de&&C.add(zt)}),U||Te.set("offset",Le/this.duration),te.push(Te)});const ne=y.size?Zt(y.values()):[],we=C.size?Zt(C.values()):[];if(U){const $e=te[0],Le=new Map($e);$e.set("offset",0),Le.set("offset",1),te=[$e,Le]}return Ki(this.element,te,ne,we,this.duration,this.startTime,this.easing,!1)}}class ua extends On{constructor(y,C,U,te,ne,we,$e=!1){super(y,C,we.delay),this.keyframes=U,this.preStyleProps=te,this.postStyleProps=ne,this._stretchStartingKeyframe=$e,this.timings={duration:we.duration,delay:we.delay,easing:we.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:C,duration:U,easing:te}=this.timings;if(this._stretchStartingKeyframe&&C){const ne=[],we=U+C,$e=C/we,Le=is(y[0]);Le.set("offset",0),ne.push(Le);const Te=is(y[0]);Te.set("offset",ca($e)),ne.push(Te);const at=y.length-1;for(let zt=1;zt<=at;zt++){let Nr=is(y[zt]);const Hn=Nr.get("offset");Nr.set("offset",ca((C+Hn*U)/we)),ne.push(Nr)}U=we,C=0,te="",y=ne}return Ki(this.element,y,this.preStyleProps,this.postStyleProps,U,C,te,!0)}}function ca(W,y=3){const C=Math.pow(10,y-1);return Math.round(W*C)/C}class ta{}const yo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class To extends ta{normalizePropertyName(y,C){return xn(y)}normalizeStyleValue(y,C,U,te){let ne="";const we=U.toString().trim();if(yo.has(C)&&0!==U&&"0"!==U)if("number"==typeof U)ne="px";else{const $e=U.match(/^[+-]?[\d\.]+([a-z]*)$/);$e&&0==$e[1].length&&te.push(function Pn(W,y){return new k.vHH(3005,!1)}())}return we+ne}}function Lt(W,y,C,U,te,ne,we,$e,Le,Te,at,zt,Nr){return{type:0,element:W,triggerName:y,isRemovalTransition:te,fromState:C,fromStyles:ne,toState:U,toStyles:we,timelines:$e,queriedElements:Le,preStyleProps:Te,postStyleProps:at,totalTime:zt,errors:Nr}}const sr={};class no{constructor(y,C,U){this._triggerName=y,this.ast=C,this._stateStyles=U}match(y,C,U,te){return function Ii(W,y,C,U,te){return W.some(ne=>ne(y,C,U,te))}(this.ast.matchers,y,C,U,te)}buildStyles(y,C,U){let te=this._stateStyles.get("*");return void 0!==y&&(te=this._stateStyles.get(y?.toString())||te),te?te.buildStyles(C,U):new Map}build(y,C,U,te,ne,we,$e,Le,Te,at){const zt=[],Nr=this.ast.options&&this.ast.options.params||sr,Un=this.buildStyles(U,$e&&$e.params||sr,zt),zn=Le&&Le.params||sr,oi=this.buildStyles(te,zn,zt),Di=new Set,Sr=new Map,Ni=new Map,Ps="void"===te,ra={params:da(zn,Nr),delay:this.ast.options?.delay},ks=at?[]:Po(y,C,this.ast.animation,ne,we,Un,oi,ra,Te,zt);let _n=0;if(ks.forEach(Zo=>{_n=Math.max(Zo.duration+Zo.delay,_n)}),zt.length)return Lt(C,this._triggerName,U,te,Ps,Un,oi,[],[],Sr,Ni,_n,zt);ks.forEach(Zo=>{const kr=Zo.element,mn=pe(Sr,kr,new Set);Zo.preStyleProps.forEach(fr=>mn.add(fr));const Yo=pe(Ni,kr,new Set);Zo.postStyleProps.forEach(fr=>Yo.add(fr)),kr!==C&&Di.add(kr)});const vo=Zt(Di.values());return Lt(C,this._triggerName,U,te,Ps,Un,oi,ks,vo,Sr,Ni,_n)}}function da(W,y){const C=Hs(y);for(const U in W)W.hasOwnProperty(U)&&null!=W[U]&&(C[U]=W[U]);return C}class ha{constructor(y,C,U){this.styles=y,this.defaultParams=C,this.normalizer=U}buildStyles(y,C){const U=new Map,te=Hs(this.defaultParams);return Object.keys(y).forEach(ne=>{const we=y[ne];null!==we&&(te[ne]=we)}),this.styles.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((we,$e)=>{we&&(we=Mt(we,te,C));const Le=this.normalizer.normalizePropertyName($e,C);we=this.normalizer.normalizeStyleValue($e,Le,we,C),U.set(Le,we)})}),U}}class G{constructor(y,C,U){this.name=y,this.ast=C,this._normalizer=U,this.transitionFactories=[],this.states=new Map,C.states.forEach(te=>{this.states.set(te.name,new ha(te.style,te.options&&te.options.params||{},U))}),Ie(this.states,"true","1"),Ie(this.states,"false","0"),C.transitions.forEach(te=>{this.transitionFactories.push(new no(y,te,this.states))}),this.fallbackTransition=function ue(W,y,C){return new no(W,{type:1,animation:{type:2,steps:[],options:null},matchers:[(we,$e)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,C,U,te){return this.transitionFactories.find(we=>we.match(y,C,U,te))||null}matchStyles(y,C,U){return this.fallbackTransition.buildStyles(y,C,U)}}function Ie(W,y,C){W.has(y)?W.has(C)||W.set(C,W.get(y)):W.has(C)&&W.set(y,W.get(C))}const Xe=new os;class O{constructor(y,C,U){this.bodyNode=y,this._driver=C,this._normalizer=U,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,C){const U=[],ne=ss(this._driver,C,U,[]);if(U.length)throw function Ge(W){return new k.vHH(3503,!1)}();this._animations.set(y,ne)}_buildPlayer(y,C,U){const te=y.element,ne=ai(0,this._normalizer,0,y.keyframes,C,U);return this._driver.animate(te,ne,y.duration,y.delay,y.easing,[],!0)}create(y,C,U={}){const te=[],ne=this._animations.get(y);let we;const $e=new Map;if(ne?(we=Po(this._driver,C,ne,ki,ws,new Map,new Map,U,Xe,te),we.forEach(at=>{const zt=pe($e,at.element,new Map);at.postStyleProps.forEach(Nr=>zt.set(Nr,null))})):(te.push(function Me(){return new k.vHH(3300,!1)}()),we=[]),te.length)throw function He(W){return new k.vHH(3504,!1)}();$e.forEach((at,zt)=>{at.forEach((Nr,Hn)=>{at.set(Hn,this._driver.computeStyle(zt,Hn,de))})});const Te=zr(we.map(at=>{const zt=$e.get(at.element);return this._buildPlayer(at,new Map,zt)}));return this._playersById.set(y,Te),Te.onDestroy(()=>this.destroy(y)),this.players.push(Te),Te}destroy(y){const C=this._getPlayer(y);C.destroy(),this._playersById.delete(y);const U=this.players.indexOf(C);U>=0&&this.players.splice(U,1)}_getPlayer(y){const C=this._playersById.get(y);if(!C)throw function Ve(W){return new k.vHH(3301,!1)}();return C}listen(y,C,U,te){const ne=Se(C,"","","");return xr(this._getPlayer(y),U,ne,te),()=>{}}command(y,C,U,te){if("register"==U)return void this.register(y,te[0]);if("create"==U)return void this.create(y,C,te[0]||{});const ne=this._getPlayer(y);switch(U){case"play":ne.play();break;case"pause":ne.pause();break;case"reset":ne.reset();break;case"restart":ne.restart();break;case"finish":ne.finish();break;case"init":ne.init();break;case"setPosition":ne.setPosition(parseFloat(te[0]));break;case"destroy":this.destroy(y)}}}const R="ng-animate-queued",X="ng-animate-disabled",Or=[],Kr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yr="__ng_removed";class Jr{constructor(y,C=""){this.namespaceId=C;const U=y&&y.hasOwnProperty("value");if(this.value=function na(W){return W??null}(U?y.value:y),U){const ne=Hs(y);delete ne.value,this.options=ne}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(y){const C=y.params;if(C){const U=this.options.params;Object.keys(C).forEach(te=>{null==U[te]&&(U[te]=C[te])})}}}const Ui="void",Is=new Jr(Ui);class Si{constructor(y,C,U){this.id=y,this.hostElement=C,this._engine=U,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,se(C,this._hostClassName)}listen(y,C,U,te){if(!this._triggers.has(C))throw function Nt(W,y){return new k.vHH(3302,!1)}();if(null==U||0==U.length)throw function Kt(W){return new k.vHH(3303,!1)}();if(!function fa(W){return"start"==W||"done"==W}(U))throw function on(W,y){return new k.vHH(3400,!1)}();const ne=pe(this._elementListeners,y,[]),we={name:C,phase:U,callback:te};ne.push(we);const $e=pe(this._engine.statesByElement,y,new Map);return $e.has(C)||(se(y,Fi),se(y,Fi+"-"+C),$e.set(C,Is)),()=>{this._engine.afterFlush(()=>{const Le=ne.indexOf(we);Le>=0&&ne.splice(Le,1),this._triggers.has(C)||$e.delete(C)})}}register(y,C){return!this._triggers.has(y)&&(this._triggers.set(y,C),!0)}_getTrigger(y){const C=this._triggers.get(y);if(!C)throw function dr(W){return new k.vHH(3401,!1)}();return C}trigger(y,C,U,te=!0){const ne=this._getTrigger(C),we=new zs(this.id,C,y);let $e=this._engine.statesByElement.get(y);$e||(se(y,Fi),se(y,Fi+"-"+C),this._engine.statesByElement.set(y,$e=new Map));let Le=$e.get(C);const Te=new Jr(U,this.id);if(!(U&&U.hasOwnProperty("value"))&&Le&&Te.absorbOptions(Le.options),$e.set(C,Te),Le||(Le=Is),Te.value!==Ui&&Le.value===Te.value){if(!function qr(W,y){const C=Object.keys(W),U=Object.keys(y);if(C.length!=U.length)return!1;for(let te=0;te<C.length;te++){const ne=C[te];if(!y.hasOwnProperty(ne)||W[ne]!==y[ne])return!1}return!0}(Le.params,Te.params)){const zn=[],oi=ne.matchStyles(Le.value,Le.params,zn),Di=ne.matchStyles(Te.value,Te.params,zn);zn.length?this._engine.reportError(zn):this._engine.afterFlush(()=>{Zr(y,oi),ps(y,Di)})}return}const Nr=pe(this._engine.playersByElement,y,[]);Nr.forEach(zn=>{zn.namespaceId==this.id&&zn.triggerName==C&&zn.queued&&zn.destroy()});let Hn=ne.matchTransition(Le.value,Te.value,y,Te.params),Un=!1;if(!Hn){if(!te)return;Hn=ne.fallbackTransition,Un=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:C,transition:Hn,fromState:Le,toState:Te,player:we,isFallbackTransition:Un}),Un||(se(y,R),we.onStart(()=>{xe(y,R)})),we.onDone(()=>{let zn=this.players.indexOf(we);zn>=0&&this.players.splice(zn,1);const oi=this._engine.playersByElement.get(y);if(oi){let Di=oi.indexOf(we);Di>=0&&oi.splice(Di,1)}}),this.players.push(we),Nr.push(we),we}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(C=>C.delete(y)),this._elementListeners.forEach((C,U)=>{this._elementListeners.set(U,C.filter(te=>te.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const C=this._engine.playersByElement.get(y);C&&(C.forEach(U=>U.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,C){const U=this._engine.driver.query(y,zi,!0);U.forEach(te=>{if(te[Yr])return;const ne=this._engine.fetchNamespacesByElement(te);ne.size?ne.forEach(we=>we.triggerLeaveAnimation(te,C,!1,!0)):this.clearElementCache(te)}),this._engine.afterFlushAnimationsDone(()=>U.forEach(te=>this.clearElementCache(te)))}triggerLeaveAnimation(y,C,U,te){const ne=this._engine.statesByElement.get(y),we=new Map;if(ne){const $e=[];if(ne.forEach((Le,Te)=>{if(we.set(Te,Le.value),this._triggers.has(Te)){const at=this.trigger(y,Te,Ui,te);at&&$e.push(at)}}),$e.length)return this._engine.markElementAsRemoved(this.id,y,!0,C,we),U&&zr($e).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const C=this._elementListeners.get(y),U=this._engine.statesByElement.get(y);if(C&&U){const te=new Set;C.forEach(ne=>{const we=ne.name;if(te.has(we))return;te.add(we);const Le=this._triggers.get(we).fallbackTransition,Te=U.get(we)||Is,at=new Jr(Ui),zt=new zs(this.id,we,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:we,transition:Le,fromState:Te,toState:at,player:zt,isFallbackTransition:!0})})}}removeNode(y,C){const U=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,C),this.triggerLeaveAnimation(y,C,!0))return;let te=!1;if(U.totalAnimations){const ne=U.players.length?U.playersByQueriedElement.get(y):[];if(ne&&ne.length)te=!0;else{let we=y;for(;we=we.parentNode;)if(U.statesByElement.get(we)){te=!0;break}}}if(this.prepareLeaveAnimationListeners(y),te)U.markElementAsRemoved(this.id,y,!1,C);else{const ne=y[Yr];(!ne||ne===Kr)&&(U.afterFlush(()=>this.clearElementCache(y)),U.destroyInnerAnimations(y),U._onRemovalComplete(y,C))}}insertNode(y,C){se(y,this._hostClassName)}drainQueuedTransitions(y){const C=[];return this._queue.forEach(U=>{const te=U.player;if(te.destroyed)return;const ne=U.element,we=this._elementListeners.get(ne);we&&we.forEach($e=>{if($e.name==U.triggerName){const Le=Se(ne,U.triggerName,U.fromState.value,U.toState.value);Le._data=y,xr(U.player,$e.phase,Le,$e.callback)}}),te.markedForDestroy?this._engine.afterFlush(()=>{te.destroy()}):C.push(U)}),this._queue=[],C.sort((U,te)=>{const ne=U.transition.ast.depCount,we=te.transition.ast.depCount;return 0==ne||0==we?ne-we:this._engine.driver.containsElement(U.element,te.element)?1:-1})}destroy(y){this.players.forEach(C=>C.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let C=!1;return this._elementListeners.has(y)&&(C=!0),C=!!this._queue.find(U=>U.element===y)||C,C}}class ii{constructor(y,C,U){this.bodyNode=y,this.driver=C,this._normalizer=U,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(te,ne)=>{}}_onRemovalComplete(y,C){this.onRemovalComplete(y,C)}get queuedPlayers(){const y=[];return this._namespaceList.forEach(C=>{C.players.forEach(U=>{U.queued&&y.push(U)})}),y}createNamespace(y,C){const U=new Si(y,C,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,C)?this._balanceNamespaceList(U,C):(this.newHostElements.set(C,U),this.collectEnterElement(C)),this._namespaceLookup[y]=U}_balanceNamespaceList(y,C){const U=this._namespaceList,te=this.namespacesByHostElement;if(U.length-1>=0){let we=!1,$e=this.driver.getParentElement(C);for(;$e;){const Le=te.get($e);if(Le){const Te=U.indexOf(Le);U.splice(Te+1,0,y),we=!0;break}$e=this.driver.getParentElement($e)}we||U.unshift(y)}else U.push(y);return te.set(C,y),y}register(y,C){let U=this._namespaceLookup[y];return U||(U=this.createNamespace(y,C)),U}registerTrigger(y,C,U){let te=this._namespaceLookup[y];te&&te.register(C,U)&&this.totalAnimations++}destroy(y,C){if(!y)return;const U=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(U.hostElement),delete this._namespaceLookup[y];const te=this._namespaceList.indexOf(U);te>=0&&this._namespaceList.splice(te,1)}),this.afterFlushAnimationsDone(()=>U.destroy(C))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const C=new Set,U=this.statesByElement.get(y);if(U)for(let te of U.values())if(te.namespaceId){const ne=this._fetchNamespace(te.namespaceId);ne&&C.add(ne)}return C}trigger(y,C,U,te){if(Ws(C)){const ne=this._fetchNamespace(y);if(ne)return ne.trigger(C,U,te),!0}return!1}insertNode(y,C,U,te){if(!Ws(C))return;const ne=C[Yr];if(ne&&ne.setForRemoval){ne.setForRemoval=!1,ne.setForMove=!0;const we=this.collectedLeaveElements.indexOf(C);we>=0&&this.collectedLeaveElements.splice(we,1)}if(y){const we=this._fetchNamespace(y);we&&we.insertNode(C,U)}te&&this.collectEnterElement(C)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,C){C?this.disabledNodes.has(y)||(this.disabledNodes.add(y),se(y,X)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),xe(y,X))}removeNode(y,C,U,te){if(Ws(C)){const ne=y?this._fetchNamespace(y):null;if(ne?ne.removeNode(C,te):this.markElementAsRemoved(y,C,!1,te),U){const we=this.namespacesByHostElement.get(C);we&&we.id!==y&&we.removeNode(C,te)}}else this._onRemovalComplete(C,te)}markElementAsRemoved(y,C,U,te,ne){this.collectedLeaveElements.push(C),C[Yr]={namespaceId:y,setForRemoval:te,hasAnimation:U,removedBeforeQueried:!1,previousTriggersValues:ne}}listen(y,C,U,te,ne){return Ws(C)?this._fetchNamespace(y).listen(C,U,te,ne):()=>{}}_buildInstruction(y,C,U,te,ne){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,U,te,y.fromState.options,y.toState.options,C,ne)}destroyInnerAnimations(y){let C=this.driver.query(y,zi,!0);C.forEach(U=>this.destroyActiveAnimationsForElement(U)),0!=this.playersByQueriedElement.size&&(C=this.driver.query(y,Wr,!0),C.forEach(U=>this.finishActiveQueriedAnimationOnElement(U)))}destroyActiveAnimationsForElement(y){const C=this.playersByElement.get(y);C&&C.forEach(U=>{U.queued?U.markedForDestroy=!0:U.destroy()})}finishActiveQueriedAnimationOnElement(y){const C=this.playersByQueriedElement.get(y);C&&C.forEach(U=>U.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return zr(this.players).onDone(()=>y());y()})}processLeaveNode(y){const C=y[Yr];if(C&&C.setForRemoval){if(y[Yr]=Kr,C.namespaceId){this.destroyInnerAnimations(y);const U=this._fetchNamespace(C.namespaceId);U&&U.clearElementCache(y)}this._onRemovalComplete(y,C.setForRemoval)}y.classList?.contains(X)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(U=>{this.markElementAsDisabled(U,!1)})}flush(y=-1){let C=[];if(this.newHostElements.size&&(this.newHostElements.forEach((U,te)=>this._balanceNamespaceList(U,te)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let U=0;U<this.collectedEnterElements.length;U++)se(this.collectedEnterElements[U],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const U=[];try{C=this._flushAnimations(U,y)}finally{for(let te=0;te<U.length;te++)U[te]()}}else for(let U=0;U<this.collectedLeaveElements.length;U++)this.processLeaveNode(this.collectedLeaveElements[U]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(U=>U()),this._flushFns=[],this._whenQuietFns.length){const U=this._whenQuietFns;this._whenQuietFns=[],C.length?zr(C).onDone(()=>{U.forEach(te=>te())}):U.forEach(te=>te())}}reportError(y){throw function nr(W){return new k.vHH(3402,!1)}()}_flushAnimations(y,C){const U=new os,te=[],ne=new Map,we=[],$e=new Map,Le=new Map,Te=new Map,at=new Set;this.disabledNodes.forEach(vt=>{at.add(vt);const In=this.driver.query(vt,".ng-animate-queued",!0);for(let Sn=0;Sn<In.length;Sn++)at.add(In[Sn])});const zt=this.bodyNode,Nr=Array.from(this.statesByElement.keys()),Hn=j(Nr,this.collectedEnterElements),Un=new Map;let zn=0;Hn.forEach((vt,In)=>{const Sn=ki+zn++;Un.set(In,Sn),vt.forEach(Qn=>se(Qn,Sn))});const oi=[],Di=new Set,Sr=new Set;for(let vt=0;vt<this.collectedLeaveElements.length;vt++){const In=this.collectedLeaveElements[vt],Sn=In[Yr];Sn&&Sn.setForRemoval&&(oi.push(In),Di.add(In),Sn.hasAnimation?this.driver.query(In,".ng-star-inserted",!0).forEach(Qn=>Di.add(Qn)):Sr.add(In))}const Ni=new Map,Ps=j(Nr,Array.from(Di));Ps.forEach((vt,In)=>{const Sn=ws+zn++;Ni.set(In,Sn),vt.forEach(Qn=>se(Qn,Sn))}),y.push(()=>{Hn.forEach((vt,In)=>{const Sn=Un.get(In);vt.forEach(Qn=>xe(Qn,Sn))}),Ps.forEach((vt,In)=>{const Sn=Ni.get(In);vt.forEach(Qn=>xe(Qn,Sn))}),oi.forEach(vt=>{this.processLeaveNode(vt)})});const ra=[],ks=[];for(let vt=this._namespaceList.length-1;vt>=0;vt--)this._namespaceList[vt].drainQueuedTransitions(C).forEach(Sn=>{const Qn=Sn.player,Hi=Sn.element;if(ra.push(Qn),this.collectedEnterElements.length){const ao=Hi[Yr];if(ao&&ao.setForMove){if(ao.previousTriggersValues&&ao.previousTriggersValues.has(Sn.triggerName)){const Oa=ao.previousTriggersValues.get(Sn.triggerName),wa=this.statesByElement.get(Sn.element);if(wa&&wa.has(Sn.triggerName)){const Ks=wa.get(Sn.triggerName);Ks.value=Oa,wa.set(Sn.triggerName,Ks)}}return void Qn.destroy()}}const _s=!zt||!this.driver.containsElement(zt,Hi),Mr=Ni.get(Hi),So=Un.get(Hi),qi=this._buildInstruction(Sn,U,So,Mr,_s);if(qi.errors&&qi.errors.length)return void ks.push(qi);if(_s)return Qn.onStart(()=>Zr(Hi,qi.fromStyles)),Qn.onDestroy(()=>ps(Hi,qi.toStyles)),void te.push(Qn);if(Sn.isFallbackTransition)return Qn.onStart(()=>Zr(Hi,qi.fromStyles)),Qn.onDestroy(()=>ps(Hi,qi.toStyles)),void te.push(Qn);const Pl=[];qi.timelines.forEach(ao=>{ao.stretchStartingKeyframe=!0,this.disabledNodes.has(ao.element)||Pl.push(ao)}),qi.timelines=Pl,U.append(Hi,qi.timelines),we.push({instruction:qi,player:Qn,element:Hi}),qi.queriedElements.forEach(ao=>pe($e,ao,[]).push(Qn)),qi.preStyleProps.forEach((ao,Oa)=>{if(ao.size){let wa=Le.get(Oa);wa||Le.set(Oa,wa=new Set),ao.forEach((Ks,ma)=>wa.add(ma))}}),qi.postStyleProps.forEach((ao,Oa)=>{let wa=Te.get(Oa);wa||Te.set(Oa,wa=new Set),ao.forEach((Ks,ma)=>wa.add(ma))})});if(ks.length){const vt=[];ks.forEach(In=>{vt.push(function An(W,y){return new k.vHH(3505,!1)}())}),ra.forEach(In=>In.destroy()),this.reportError(vt)}const _n=new Map,vo=new Map;we.forEach(vt=>{const In=vt.element;U.has(In)&&(vo.set(In,In),this._beforeAnimationBuild(vt.player.namespaceId,vt.instruction,_n))}),te.forEach(vt=>{const In=vt.element;this._getPreviousPlayers(In,!1,vt.namespaceId,vt.triggerName,null).forEach(Qn=>{pe(_n,In,[]).push(Qn),Qn.destroy()})});const Zo=oi.filter(vt=>Qr(vt,Le,Te)),kr=new Map;J(kr,this.driver,Sr,Te,de).forEach(vt=>{Qr(vt,Le,Te)&&Zo.push(vt)});const Yo=new Map;Hn.forEach((vt,In)=>{J(Yo,this.driver,new Set(vt),Le,"!")}),Zo.forEach(vt=>{const In=kr.get(vt),Sn=Yo.get(vt);kr.set(vt,new Map([...Array.from(In?.entries()??[]),...Array.from(Sn?.entries()??[])]))});const fr=[],oo=[],Hr={};we.forEach(vt=>{const{element:In,player:Sn,instruction:Qn}=vt;if(U.has(In)){if(at.has(In))return Sn.onDestroy(()=>ps(In,Qn.toStyles)),Sn.disabled=!0,Sn.overrideTotalTime(Qn.totalTime),void te.push(Sn);let Hi=Hr;if(vo.size>1){let Mr=In;const So=[];for(;Mr=Mr.parentNode;){const qi=vo.get(Mr);if(qi){Hi=qi;break}So.push(Mr)}So.forEach(qi=>vo.set(qi,Hi))}const _s=this._buildAnimation(Sn.namespaceId,Qn,_n,ne,Yo,kr);if(Sn.setRealPlayer(_s),Hi===Hr)fr.push(Sn);else{const Mr=this.playersByElement.get(Hi);Mr&&Mr.length&&(Sn.parentPlayer=zr(Mr)),te.push(Sn)}}else Zr(In,Qn.fromStyles),Sn.onDestroy(()=>ps(In,Qn.toStyles)),oo.push(Sn),at.has(In)&&te.push(Sn)}),oo.forEach(vt=>{const In=ne.get(vt.element);if(In&&In.length){const Sn=zr(In);vt.setRealPlayer(Sn)}}),te.forEach(vt=>{vt.parentPlayer?vt.syncPlayerEvents(vt.parentPlayer):vt.destroy()});for(let vt=0;vt<oi.length;vt++){const In=oi[vt],Sn=In[Yr];if(xe(In,ws),Sn&&Sn.hasAnimation)continue;let Qn=[];if($e.size){let _s=$e.get(In);_s&&_s.length&&Qn.push(..._s);let Mr=this.driver.query(In,Wr,!0);for(let So=0;So<Mr.length;So++){let qi=$e.get(Mr[So]);qi&&qi.length&&Qn.push(...qi)}}const Hi=Qn.filter(_s=>!_s.destroyed);Hi.length?pt(this,In,Hi):this.processLeaveNode(In)}return oi.length=0,fr.forEach(vt=>{this.players.push(vt),vt.onDone(()=>{vt.destroy();const In=this.players.indexOf(vt);this.players.splice(In,1)}),vt.play()}),fr}elementContainsData(y,C){let U=!1;const te=C[Yr];return te&&te.setForRemoval&&(U=!0),this.playersByElement.has(C)&&(U=!0),this.playersByQueriedElement.has(C)&&(U=!0),this.statesByElement.has(C)&&(U=!0),this._fetchNamespace(y).elementContainsData(C)||U}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,C,U,te,ne){let we=[];if(C){const $e=this.playersByQueriedElement.get(y);$e&&(we=$e)}else{const $e=this.playersByElement.get(y);if($e){const Le=!ne||ne==Ui;$e.forEach(Te=>{Te.queued||!Le&&Te.triggerName!=te||we.push(Te)})}}return(U||te)&&(we=we.filter($e=>!(U&&U!=$e.namespaceId||te&&te!=$e.triggerName))),we}_beforeAnimationBuild(y,C,U){const ne=C.element,we=C.isRemovalTransition?void 0:y,$e=C.isRemovalTransition?void 0:C.triggerName;for(const Le of C.timelines){const Te=Le.element,at=Te!==ne,zt=pe(U,Te,[]);this._getPreviousPlayers(Te,at,we,$e,C.toState).forEach(Hn=>{const Un=Hn.getRealPlayer();Un.beforeDestroy&&Un.beforeDestroy(),Hn.destroy(),zt.push(Hn)})}Zr(ne,C.fromStyles)}_buildAnimation(y,C,U,te,ne,we){const $e=C.triggerName,Le=C.element,Te=[],at=new Set,zt=new Set,Nr=C.timelines.map(Un=>{const zn=Un.element;at.add(zn);const oi=zn[Yr];if(oi&&oi.removedBeforeQueried)return new Ae(Un.duration,Un.delay);const Di=zn!==Le,Sr=function Dt(W){const y=[];return hn(W,y),y}((U.get(zn)||Or).map(_n=>_n.getRealPlayer())).filter(_n=>!!_n.element&&_n.element===zn),Ni=ne.get(zn),Ps=we.get(zn),ra=ai(0,this._normalizer,0,Un.keyframes,Ni,Ps),ks=this._buildPlayer(Un,ra,Sr);if(Un.subTimeline&&te&&zt.add(zn),Di){const _n=new zs(y,$e,zn);_n.setRealPlayer(ks),Te.push(_n)}return ks});Te.forEach(Un=>{pe(this.playersByQueriedElement,Un.element,[]).push(Un),Un.onDone(()=>function io(W,y,C){let U=W.get(y);if(U){if(U.length){const te=U.indexOf(C);U.splice(te,1)}0==U.length&&W.delete(y)}return U}(this.playersByQueriedElement,Un.element,Un))}),at.forEach(Un=>se(Un,fs));const Hn=zr(Nr);return Hn.onDestroy(()=>{at.forEach(Un=>xe(Un,fs)),ps(Le,C.toStyles)}),zt.forEach(Un=>{pe(te,Un,[]).push(Hn)}),Hn}_buildPlayer(y,C,U){return C.length>0?this.driver.animate(y.element,C,y.duration,y.delay,y.easing,U):new Ae(y.duration,y.delay)}}class zs{constructor(y,C,U){this.namespaceId=y,this.triggerName=C,this.element=U,this._player=new Ae,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((C,U)=>{C.forEach(te=>xr(y,U,void 0,te))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const C=this._player;C.triggerCallback&&y.onStart(()=>C.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,C){pe(this._queuedCallbacks,y,[]).push(C)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const C=this._player;C.triggerCallback&&C.triggerCallback(y)}}function Ws(W){return W&&1===W.nodeType}function F(W,y){const C=W.style.display;return W.style.display=y??"none",C}function J(W,y,C,U,te){const ne=[];C.forEach(Le=>ne.push(F(Le)));const we=[];U.forEach((Le,Te)=>{const at=new Map;Le.forEach(zt=>{const Nr=y.computeStyle(Te,zt,te);at.set(zt,Nr),(!Nr||0==Nr.length)&&(Te[Yr]=gi,we.push(Te))}),W.set(Te,at)});let $e=0;return C.forEach(Le=>F(Le,ne[$e++])),we}function j(W,y){const C=new Map;if(W.forEach($e=>C.set($e,[])),0==y.length)return C;const te=new Set(y),ne=new Map;function we($e){if(!$e)return 1;let Le=ne.get($e);if(Le)return Le;const Te=$e.parentNode;return Le=C.has(Te)?Te:te.has(Te)?1:we(Te),ne.set($e,Le),Le}return y.forEach($e=>{const Le=we($e);1!==Le&&C.get(Le).push($e)}),C}function se(W,y){W.classList?.add(y)}function xe(W,y){W.classList?.remove(y)}function pt(W,y,C){zr(C).onDone(()=>W.processLeaveNode(y))}function hn(W,y){for(let C=0;C<W.length;C++){const U=W[C];U instanceof ie?hn(U.players,y):y.push(U)}}function Qr(W,y,C){const U=C.get(W);if(!U)return!1;let te=y.get(W);return te?U.forEach(ne=>te.add(ne)):y.set(W,U),C.delete(W),!0}class Rr{constructor(y,C,U){this.bodyNode=y,this._driver=C,this._normalizer=U,this._triggerCache={},this.onRemovalComplete=(te,ne)=>{},this._transitionEngine=new ii(y,C,U),this._timelineEngine=new O(y,C,U),this._transitionEngine.onRemovalComplete=(te,ne)=>this.onRemovalComplete(te,ne)}registerTrigger(y,C,U,te,ne){const we=y+"-"+te;let $e=this._triggerCache[we];if(!$e){const Le=[],at=ss(this._driver,ne,Le,[]);if(Le.length)throw function tr(W,y){return new k.vHH(3404,!1)}();$e=function Z(W,y,C){return new G(W,y,C)}(te,at,this._normalizer),this._triggerCache[we]=$e}this._transitionEngine.registerTrigger(C,te,$e)}register(y,C){this._transitionEngine.register(y,C)}destroy(y,C){this._transitionEngine.destroy(y,C)}onInsert(y,C,U,te){this._transitionEngine.insertNode(y,C,U,te)}onRemove(y,C,U,te){this._transitionEngine.removeNode(y,C,te||!1,U)}disableAnimations(y,C){this._transitionEngine.markElementAsDisabled(y,C)}process(y,C,U,te){if("@"==U.charAt(0)){const[ne,we]=ct(U);this._timelineEngine.command(ne,C,we,te)}else this._transitionEngine.trigger(y,C,U,te)}listen(y,C,U,te,ne){if("@"==U.charAt(0)){const[we,$e]=ct(U);return this._timelineEngine.listen(we,C,$e,ne)}return this._transitionEngine.listen(y,C,U,te,ne)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let as=(()=>{class W{constructor(C,U,te){this._element=C,this._startStyles=U,this._endStyles=te,this._state=0;let ne=W.initialStylesByElement.get(C);ne||W.initialStylesByElement.set(C,ne=new Map),this._initialStyles=ne}start(){this._state<1&&(this._startStyles&&ps(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ps(this._element,this._initialStyles),this._endStyles&&(ps(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(W.initialStylesByElement.delete(this._element),this._startStyles&&(Zr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zr(this._element,this._endStyles),this._endStyles=null),ps(this._element,this._initialStyles),this._state=3)}}return W.initialStylesByElement=new WeakMap,W})();function si(W){let y=null;return W.forEach((C,U)=>{(function Ai(W){return"display"===W||"position"===W})(U)&&(y=y||new Map,y.set(U,C))}),y}class so{constructor(y,C,U,te){this.element=y,this.keyframes=C,this.options=U,this._specialStyles=te,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=U.duration,this._delay=U.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const C=[];return y.forEach(U=>{C.push(Object.fromEntries(U))}),C}_triggerWebAnimation(y,C,U){return y.animate(this._convertKeyframesToObject(C),U)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((U,te)=>{"offset"!==te&&y.set(te,this._finished?U:Xs(this.element,te))}),this.currentSnapshot=y}triggerCallback(y){const C="start"===y?this._onStartFns:this._onDoneFns;C.forEach(U=>U()),C.length=0}}class Fo{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,C){return!1}containsElement(y,C){return ti(y,C)}getParentElement(y){return Mn(y)}query(y,C,U){return hs(y,C,U)}computeStyle(y,C,U){return window.getComputedStyle(y)[C]}animate(y,C,U,te,ne,we=[]){const Le={duration:U,delay:te,fill:0==te?"both":"forwards"};ne&&(Le.easing=ne);const Te=new Map,at=we.filter(Hn=>Hn instanceof so);(function lr(W,y){return 0===W||0===y})(U,te)&&at.forEach(Hn=>{Hn.currentSnapshot.forEach((Un,zn)=>Te.set(zn,Un))});let zt=function hi(W){return W.length?W[0]instanceof Map?W:W.map(y=>As(y)):[]}(C).map(Hn=>is(Hn));zt=function Ds(W,y,C){if(C.size&&y.length){let U=y[0],te=[];if(C.forEach((ne,we)=>{U.has(we)||te.push(we),U.set(we,ne)}),te.length)for(let ne=1;ne<y.length;ne++){let we=y[ne];te.forEach($e=>we.set($e,Xs(W,$e)))}}return y}(y,zt,Te);const Nr=function Pr(W,y){let C=null,U=null;return Array.isArray(y)&&y.length?(C=si(y[0]),y.length>1&&(U=si(y[y.length-1]))):y instanceof Map&&(C=si(y)),C||U?new as(W,C,U):null}(y,zt);return new so(y,zt,Le,Nr)}}let Lo=(()=>{class W extends Ne{constructor(C,U){super(),this._nextAnimationId=0,this._renderer=C.createRenderer(U.body,{id:"0",encapsulation:k.ifc.None,styles:[],data:{animation:[]}})}build(C){const U=this._nextAnimationId.toString();this._nextAnimationId++;const te=Array.isArray(C)?ot(C):C;return Io(this._renderer,null,U,"register",[te]),new pa(U,this._renderer)}}return W.\u0275fac=function(C){return new(C||W)(k.LFG(k.FYo),k.LFG(qe.K0))},W.\u0275prov=k.Yz7({token:W,factory:W.\u0275fac}),W})();class pa extends class We{}{constructor(y,C){super(),this._id=y,this._renderer=C}create(y,C){return new Wo(this._id,y,C||{},this._renderer)}}class Wo{constructor(y,C,U,te){this.id=y,this.element=C,this._renderer=te,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",U)}_listen(y,C){return this._renderer.listen(this.element,`@@${this.id}:${y}`,C)}_command(y,...C){return Io(this._renderer,this.element,this.id,y,C)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Io(W,y,C,U,te){return W.setProperty(y,`@@${C}:${U}`,te)}const ka="@.disabled";let ls=(()=>{class W{constructor(C,U,te){this.delegate=C,this.engine=U,this._zone=te,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),U.onRemovalComplete=(ne,we)=>{const $e=we?.parentNode(ne);$e&&we.removeChild($e,ne)}}createRenderer(C,U){const ne=this.delegate.createRenderer(C,U);if(!(C&&U&&U.data&&U.data.animation)){let at=this._rendererCache.get(ne);return at||(at=new ga("",ne,this.engine),this._rendererCache.set(ne,at)),at}const we=U.id,$e=U.id+"-"+this._currentId;this._currentId++,this.engine.register($e,C);const Le=at=>{Array.isArray(at)?at.forEach(Le):this.engine.registerTrigger(we,$e,C,at.name,at)};return U.data.animation.forEach(Le),new Xl(this,$e,ne,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(C,U,te){C>=0&&C<this._microtaskId?this._zone.run(()=>U(te)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ne=>{const[we,$e]=ne;we($e)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([U,te]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return W.\u0275fac=function(C){return new(C||W)(k.LFG(k.FYo),k.LFG(Rr),k.LFG(k.R0b))},W.\u0275prov=k.Yz7({token:W,factory:W.\u0275fac}),W})();class ga{constructor(y,C,U){this.namespaceId=y,this.delegate=C,this.engine=U,this.destroyNode=this.delegate.destroyNode?te=>C.destroyNode(te):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(y,C){return this.delegate.createElement(y,C)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,C){this.delegate.appendChild(y,C),this.engine.onInsert(this.namespaceId,C,y,!1)}insertBefore(y,C,U,te=!0){this.delegate.insertBefore(y,C,U),this.engine.onInsert(this.namespaceId,C,y,te)}removeChild(y,C,U){this.engine.onRemove(this.namespaceId,C,this.delegate,U)}selectRootElement(y,C){return this.delegate.selectRootElement(y,C)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,C,U,te){this.delegate.setAttribute(y,C,U,te)}removeAttribute(y,C,U){this.delegate.removeAttribute(y,C,U)}addClass(y,C){this.delegate.addClass(y,C)}removeClass(y,C){this.delegate.removeClass(y,C)}setStyle(y,C,U,te){this.delegate.setStyle(y,C,U,te)}removeStyle(y,C,U){this.delegate.removeStyle(y,C,U)}setProperty(y,C,U){"@"==C.charAt(0)&&C==ka?this.disableAnimations(y,!!U):this.delegate.setProperty(y,C,U)}setValue(y,C){this.delegate.setValue(y,C)}listen(y,C,U){return this.delegate.listen(y,C,U)}disableAnimations(y,C){this.engine.disableAnimations(y,C)}}class Xl extends ga{constructor(y,C,U,te){super(C,U,te),this.factory=y,this.namespaceId=C}setProperty(y,C,U){"@"==C.charAt(0)?"."==C.charAt(1)&&C==ka?this.disableAnimations(y,U=void 0===U||!!U):this.engine.process(this.namespaceId,y,C.slice(1),U):this.delegate.setProperty(y,C,U)}listen(y,C,U){if("@"==C.charAt(0)){const te=function eu(W){switch(W){case"body":return document.body;case"document":return document;case"window":return window;default:return W}}(y);let ne=C.slice(1),we="";return"@"!=ne.charAt(0)&&([ne,we]=function nl(W){const y=W.indexOf(".");return[W.substring(0,y),W.slice(y+1)]}(ne)),this.engine.listen(this.namespaceId,te,ne,we,$e=>{this.factory.scheduleListenerCallback($e._data||-1,U,$e)})}return this.delegate.listen(y,C,U)}}const vl=[{provide:Ne,useClass:Lo},{provide:ta,useFactory:function il(){return new To}},{provide:Rr,useClass:(()=>{class W extends Rr{constructor(C,U,te,ne){super(C.body,U,te)}ngOnDestroy(){this.flush()}}return W.\u0275fac=function(C){return new(C||W)(k.LFG(qe.K0),k.LFG(bi),k.LFG(ta),k.LFG(k.z2F))},W.\u0275prov=k.Yz7({token:W,factory:W.\u0275fac}),W})()},{provide:k.FYo,useFactory:function Ma(W,y,C){return new ls(W,y,C)},deps:[a.se,Rr,k.R0b]}],xa=[{provide:bi,useFactory:()=>new Fo},{provide:k.QbO,useValue:"BrowserAnimations"},...vl],bl=[{provide:bi,useClass:Ti},{provide:k.QbO,useValue:"NoopAnimations"},...vl];let wl=(()=>{class W{static withConfig(C){return{ngModule:W,providers:C.disableAnimations?bl:xa}}}return W.\u0275fac=function(C){return new(C||W)},W.\u0275mod=k.oAB({type:W}),W.\u0275inj=k.cJS({providers:xa,imports:[a.b2]}),W})(),qo=(()=>{class W{}return W.\u0275fac=function(C){return new(C||W)},W.\u0275mod=k.oAB({type:W,bootstrap:[Rt]}),W.\u0275inj=k.cJS({imports:[a.b2,je,Cn.m,ei,fn.hO.initializeApp(Rn.N.firebase),er.DashboardModule,wl]}),W})();Rn.N.production&&(0,k.G48)(),a.q6().bootstrapModule(qo).catch(W=>console.error(W))},7123:function(Xt){Xt.exports=function(st){function V(k){if(a[k])return a[k].exports;var Q=a[k]={exports:{},id:k,loaded:!1};return st[k].call(Q.exports,Q,Q.exports,V),Q.loaded=!0,Q.exports}var a={};return V.m=st,V.c=a,V.p="dist/",V(0)}([function(st,V,a){"use strict";function k(Be){return Be&&Be.__esModule?Be:{default:Be}}var Q=Object.assign||function(Be){for(var fe=1;fe<arguments.length;fe++){var Fe=arguments[fe];for(var qe in Fe)Object.prototype.hasOwnProperty.call(Fe,qe)&&(Be[qe]=Fe[qe])}return Be},Oe=(k(a(1)),a(6)),be=k(Oe),Ne=k(a(7)),de=k(a(8)),Pe=k(a(9)),ot=k(a(10)),At=k(a(11)),ut=k(a(14)),ze=[],Gt=!1,ft={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},Ce=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(Gt=!0),Gt)return ze=(0,At.default)(ze,ft),(0,ot.default)(ze,ft.once),ze},ke=function(){ze=(0,ut.default)(),Ce()};st.exports={init:function(Be){ft=Q(ft,Be),ze=(0,ut.default)();var fe=document.all&&!window.atob;return function(Be){return!0===Be||"mobile"===Be&&Pe.default.mobile()||"phone"===Be&&Pe.default.phone()||"tablet"===Be&&Pe.default.tablet()||"function"==typeof Be&&!0===Be()}(ft.disable)||fe?void ze.forEach(function(Be,fe){Be.node.removeAttribute("data-aos"),Be.node.removeAttribute("data-aos-easing"),Be.node.removeAttribute("data-aos-duration"),Be.node.removeAttribute("data-aos-delay")}):(ft.disableMutationObserver||de.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),ft.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",ft.easing),document.querySelector("body").setAttribute("data-aos-duration",ft.duration),document.querySelector("body").setAttribute("data-aos-delay",ft.delay),"DOMContentLoaded"===ft.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?Ce(!0):"load"===ft.startEvent?window.addEventListener(ft.startEvent,function(){Ce(!0)}):document.addEventListener(ft.startEvent,function(){Ce(!0)}),window.addEventListener("resize",(0,Ne.default)(Ce,ft.debounceDelay,!0)),window.addEventListener("orientationchange",(0,Ne.default)(Ce,ft.debounceDelay,!0)),window.addEventListener("scroll",(0,be.default)(function(){(0,ot.default)(ze,ft.once)},ft.throttleDelay)),ft.disableMutationObserver||de.default.ready("[data-aos]",ke),ze)},refresh:Ce,refreshHard:ke}},function(st,V){},,,,,function(st,V){(function(a){"use strict";function k(Ae,ie,Be){function fe(Rn){var er=wt,pr=ln;return wt=ln=void 0,Rt=Rn,Yt=Ae.apply(pr,er)}function Fe(Rn){return Rt=Rn,$t=setTimeout(Ot,ie),Cn?fe(Rn):Yt}function Qe(Rn){var er=Rn-bn;return void 0===bn||er>=ie||er<0||ei&&Rn-Rt>=Wt}function Ot(){var Rn=me();return Qe(Rn)?Pt(Rn):void($t=setTimeout(Ot,function qe(Rn){var Vr=ie-(Rn-bn);return ei?ke(Vr,Wt-(Rn-Rt)):Vr}(Rn)))}function Pt(Rn){return $t=void 0,fn&&wt?fe(Rn):(wt=ln=void 0,Yt)}function en(){var Rn=me(),er=Qe(Rn);if(wt=arguments,ln=this,bn=Rn,er){if(void 0===$t)return Fe(bn);if(ei)return $t=setTimeout(Ot,ie),fe(bn)}return void 0===$t&&($t=setTimeout(Ot,ie)),Yt}var wt,ln,Wt,Yt,$t,bn,Rt=0,Cn=!1,ei=!1,fn=!0;if("function"!=typeof Ae)throw new TypeError(We);return ie=je(ie)||0,ge(Be)&&(Cn=!!Be.leading,Wt=(ei="maxWait"in Be)?Ce(je(Be.maxWait)||0,ie):Wt,fn="trailing"in Be?!!Be.trailing:fn),en.cancel=function jt(){void 0!==$t&&clearTimeout($t),Rt=0,wt=bn=ln=$t=void 0},en.flush=function Jt(){return void 0===$t?Yt:Pt(me())},en}function ge(Ae){var ie=typeof Ae>"u"?"undefined":Ne(Ae);return!!Ae&&("object"==ie||"function"==ie)}function be(Ae){return"symbol"==(typeof Ae>"u"?"undefined":Ne(Ae))||function Oe(Ae){return!!Ae&&"object"==(typeof Ae>"u"?"undefined":Ne(Ae))}(Ae)&&ft.call(Ae)==he}function je(Ae){if("number"==typeof Ae)return Ae;if(be(Ae))return de;if(ge(Ae)){var ie="function"==typeof Ae.valueOf?Ae.valueOf():Ae;Ae=ge(ie)?ie+"":ie}if("string"!=typeof Ae)return 0===Ae?Ae:+Ae;Ae=Ae.replace(Pe,"");var Be=ot.test(Ae);return Be||nt.test(Ae)?At(Ae.slice(2),Be?2:8):yt.test(Ae)?de:+Ae}var Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ae){return typeof Ae}:function(Ae){return Ae&&"function"==typeof Symbol&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},We="Expected a function",de=NaN,he="[object Symbol]",Pe=/^\s+|\s+$/g,yt=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,nt=/^0o[0-7]+$/i,At=parseInt,dt="object"==(typeof a>"u"?"undefined":Ne(a))&&a&&a.Object===Object&&a,ut="object"==(typeof self>"u"?"undefined":Ne(self))&&self&&self.Object===Object&&self,ze=dt||ut||Function("return this")(),ft=Object.prototype.toString,Ce=Math.max,ke=Math.min,me=function(){return ze.Date.now()};st.exports=function Q(Ae,ie,Be){var fe=!0,Fe=!0;if("function"!=typeof Ae)throw new TypeError(We);return ge(Be)&&(fe="leading"in Be?!!Be.leading:fe,Fe="trailing"in Be?!!Be.trailing:Fe),k(Ae,ie,{leading:fe,maxWait:ie,trailing:Fe})}}).call(V,function(){return this}())},function(st,V){(function(a){"use strict";function Q(me){var Ae=typeof me>"u"?"undefined":je(me);return!!me&&("object"==Ae||"function"==Ae)}function Oe(me){return"symbol"==(typeof me>"u"?"undefined":je(me))||function ge(me){return!!me&&"object"==(typeof me>"u"?"undefined":je(me))}(me)&&Gt.call(me)==de}function be(me){if("number"==typeof me)return me;if(Oe(me))return We;if(Q(me)){var Ae="function"==typeof me.valueOf?me.valueOf():me;me=Q(Ae)?Ae+"":Ae}if("string"!=typeof me)return 0===me?me:+me;me=me.replace(he,"");var ie=yt.test(me);return ie||ot.test(me)?nt(me.slice(2),ie?2:8):Pe.test(me)?We:+me}var je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(me){return typeof me}:function(me){return me&&"function"==typeof Symbol&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},Ne="Expected a function",We=NaN,de="[object Symbol]",he=/^\s+|\s+$/g,Pe=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,ot=/^0o[0-7]+$/i,nt=parseInt,At="object"==(typeof a>"u"?"undefined":je(a))&&a&&a.Object===Object&&a,dt="object"==(typeof self>"u"?"undefined":je(self))&&self&&self.Object===Object&&self,ut=At||dt||Function("return this")(),Gt=Object.prototype.toString,ft=Math.max,Ce=Math.min,ke=function(){return ut.Date.now()};st.exports=function k(me,Ae,ie){function Be(fn){var Rn=en,er=wt;return en=wt=void 0,bn=fn,Wt=me.apply(er,Rn)}function fe(fn){return bn=fn,Yt=setTimeout(Qe,Ae),Rt?Be(fn):Wt}function qe(fn){var Rn=fn-$t;return void 0===$t||Rn>=Ae||Rn<0||Cn&&fn-bn>=ln}function Qe(){var fn=ke();return qe(fn)?Ot(fn):void(Yt=setTimeout(Qe,function Fe(fn){var pr=Ae-(fn-$t);return Cn?Ce(pr,ln-(fn-bn)):pr}(fn)))}function Ot(fn){return Yt=void 0,ei&&en?Be(fn):(en=wt=void 0,Wt)}function Jt(){var fn=ke(),Rn=qe(fn);if(en=arguments,wt=this,$t=fn,Rn){if(void 0===Yt)return fe($t);if(Cn)return Yt=setTimeout(Qe,Ae),Be($t)}return void 0===Yt&&(Yt=setTimeout(Qe,Ae)),Wt}var en,wt,ln,Wt,Yt,$t,bn=0,Rt=!1,Cn=!1,ei=!0;if("function"!=typeof me)throw new TypeError(Ne);return Ae=be(Ae)||0,Q(ie)&&(Rt=!!ie.leading,ln=(Cn="maxWait"in ie)?ft(be(ie.maxWait)||0,Ae):ln,ei="trailing"in ie?!!ie.trailing:ei),Jt.cancel=function Pt(){void 0!==Yt&&clearTimeout(Yt),bn=0,en=$t=wt=Yt=void 0},Jt.flush=function jt(){return void 0===Yt?Wt:Ot(ke())},Jt}}).call(V,function(){return this}())},function(st,V){"use strict";function a(je){var Ne=void 0,We=void 0;for(Ne=0;Ne<je.length;Ne+=1)if((We=je[Ne]).dataset&&We.dataset.aos||We.children&&a(We.children))return!0;return!1}function k(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function Oe(je){je&&je.forEach(function(Ne){var We=Array.prototype.slice.call(Ne.addedNodes),de=Array.prototype.slice.call(Ne.removedNodes);if(a(We.concat(de)))return be()})}Object.defineProperty(V,"__esModule",{value:!0});var be=function(){};V.default={isSupported:function Q(){return!!k()},ready:function ge(je,Ne){var We=window.document,he=new(k())(Oe);be=Ne,he.observe(We.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(st,V){"use strict";function k(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(V,"__esModule",{value:!0});var Q=function(){function We(de,he){for(var Pe=0;Pe<he.length;Pe++){var yt=he[Pe];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(de,yt.key,yt)}}return function(de,he,Pe){return he&&We(de.prototype,he),Pe&&We(de,Pe),de}}(),ge=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,Oe=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,be=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,je=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,Ne=function(){function We(){!function a(We,de){if(!(We instanceof de))throw new TypeError("Cannot call a class as a function")}(this,We)}return Q(We,[{key:"phone",value:function(){var de=k();return!(!ge.test(de)&&!Oe.test(de.substr(0,4)))}},{key:"mobile",value:function(){var de=k();return!(!be.test(de)&&!je.test(de.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),We}();V.default=new Ne},function(st,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.default=function(Q,ge){var Oe=window.pageYOffset,be=window.innerHeight;Q.forEach(function(je,Ne){!function(Q,ge,Oe){var be=Q.node.getAttribute("data-aos-once");ge>Q.position?Q.node.classList.add("aos-animate"):typeof be<"u"&&("false"===be||!Oe&&"true"!==be)&&Q.node.classList.remove("aos-animate")}(je,be+Oe,ge)})}},function(st,V,a){"use strict";Object.defineProperty(V,"__esModule",{value:!0});var ge=function k(be){return be&&be.__esModule?be:{default:be}}(a(12));V.default=function(be,je){return be.forEach(function(Ne,We){Ne.node.classList.add("aos-init"),Ne.position=(0,ge.default)(Ne.node,je.offset)}),be}},function(st,V,a){"use strict";Object.defineProperty(V,"__esModule",{value:!0});var ge=function k(be){return be&&be.__esModule?be:{default:be}}(a(13));V.default=function(be,je){var Ne=0,We=0,de=window.innerHeight,he={offset:be.getAttribute("data-aos-offset"),anchor:be.getAttribute("data-aos-anchor"),anchorPlacement:be.getAttribute("data-aos-anchor-placement")};switch(he.offset&&!isNaN(he.offset)&&(We=parseInt(he.offset)),he.anchor&&document.querySelectorAll(he.anchor)&&(be=document.querySelectorAll(he.anchor)[0]),Ne=(0,ge.default)(be).top,he.anchorPlacement){case"top-bottom":break;case"center-bottom":Ne+=be.offsetHeight/2;break;case"bottom-bottom":Ne+=be.offsetHeight;break;case"top-center":Ne+=de/2;break;case"bottom-center":Ne+=de/2+be.offsetHeight;break;case"center-center":Ne+=de/2+be.offsetHeight/2;break;case"top-top":Ne+=de;break;case"bottom-top":Ne+=be.offsetHeight+de;break;case"center-top":Ne+=be.offsetHeight/2+de}return he.anchorPlacement||he.offset||isNaN(je)||(We=je),Ne+We}},function(st,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=function(k){for(var Q=0,ge=0;k&&!isNaN(k.offsetLeft)&&!isNaN(k.offsetTop);)Q+=k.offsetLeft-("BODY"!=k.tagName?k.scrollLeft:0),ge+=k.offsetTop-("BODY"!=k.tagName?k.scrollTop:0),k=k.offsetParent;return{top:ge,left:Q}}},function(st,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=function(k){return k=k||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(k,function(Q){return{node:Q}})}}])},5867:(Xt,st,V)=>{"use strict";V.d(st,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=V(9681);(0,a.registerVersion)("firebase","9.10.0","app")},127:(Xt,st,V)=>{"use strict";V.d(st,{Z:()=>a.Z});var a=V(3942);a.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(Xt,st,V)=>{"use strict";V.r(st);var a=V(5861),k=V(3942),Q=V(2090),ge=V(9681),Oe=V(655),be=V(1877),je=V(4859);const nt=function yt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},At=function ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new Q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ze=new be.Yd("@firebase/auth");function Gt(w,...f){ze.logLevel<=be.in.ERROR&&ze.error(`Auth (${ge.SDK_VERSION}): ${w}`,...f)}function ft(w,...f){throw Ae(w,...f)}function Ce(w,...f){return Ae(w,...f)}function ke(w,f,m){const I=Object.assign(Object.assign({},At()),{[f]:m});return new Q.LL("auth","Firebase",I).create(f,{appName:w.name})}function me(w,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&ft(w,"argument-error"),ke(w,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ae(w,...f){if("string"!=typeof w){const m=f[0],I=[...f.slice(1)];return I[0]&&(I[0].appName=w.name),w._errorFactory.create(m,...I)}return dt.create(w,...f)}function ie(w,f,...m){if(!w)throw Ae(f,...m)}function Be(w){const f="INTERNAL ASSERTION FAILED: "+w;throw Gt(f),new Error(f)}function fe(w,f){w||Be(f)}const Fe=new Map;function qe(w){fe(w instanceof Function,"Expected a class definition");let f=Fe.get(w);return f?(fe(f instanceof w,"Instance stored in cache mismatched with class"),f):(f=new w,Fe.set(w,f),f)}function Pt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function jt(){return"http:"===Jt()||"https:"===Jt()}function Jt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class ln{constructor(f,m){this.shortDelay=f,this.longDelay=m,fe(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,Q.uI)()||(0,Q.b$)()}get(){return function en(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(jt()||(0,Q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wt(w,f){fe(w.emulator,"Emulator should always be set here");const{url:m}=w.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Yt{static initialize(f,m,I){this.fetchImpl=f,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},bn=new ln(3e4,6e4);function Rt(w,f){return w.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:w.tenantId}):f}function Cn(w,f,m,I){return ei.apply(this,arguments)}function ei(){return(ei=(0,a.Z)(function*(w,f,m,I,Y={}){return fn(w,Y,(0,a.Z)(function*(){let le={},rt={};I&&("GET"===f?rt=I:le={body:JSON.stringify(I)});const It=(0,Q.xO)(Object.assign({key:w.config.apiKey},rt)).slice(1),nn=yield w._getAdditionalHeaders();return nn["Content-Type"]="application/json",w.languageCode&&(nn["X-Firebase-Locale"]=w.languageCode),Yt.fetch()(Vr(w,w.config.apiHost,m,It),Object.assign({method:f,headers:nn,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function fn(w,f,m){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,a.Z)(function*(w,f,m){w._canInitEmulator=!1;const I=Object.assign(Object.assign({},$t),f);try{const Y=new Ur(w),le=yield Promise.race([m(),Y.promise]);Y.clearNetworkTimeout();const rt=yield le.json();if("needConfirmation"in rt)throw Ar(w,"account-exists-with-different-credential",rt);if(le.ok&&!("errorMessage"in rt))return rt;{const It=le.ok?rt.errorMessage:rt.error.message,[nn,yn]=It.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nn)throw Ar(w,"credential-already-in-use",rt);if("EMAIL_EXISTS"===nn)throw Ar(w,"email-already-in-use",rt);if("USER_DISABLED"===nn)throw Ar(w,"user-disabled",rt);const Zn=I[nn]||nn.toLowerCase().replace(/[_\s]+/g,"-");if(yn)throw ke(w,Zn,yn);ft(w,Zn)}}catch(Y){if(Y instanceof Q.ZR)throw Y;ft(w,"network-request-failed")}})).apply(this,arguments)}function er(w,f,m,I){return pr.apply(this,arguments)}function pr(){return(pr=(0,a.Z)(function*(w,f,m,I,Y={}){const le=yield Cn(w,f,m,I,Y);return"mfaPendingCredential"in le&&ft(w,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function Vr(w,f,m,I){const Y=`${f}${m}?${I}`;return w.config.emulator?Wt(w.config,Y):`${w.config.apiScheme}://${Y}`}class Ur{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(Ce(this.auth,"network-request-failed")),bn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ar(w,f,m){const I={appName:w.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const Y=Ce(w,f,I);return Y.customData._tokenResponse=m,Y}function xt(){return(xt=(0,a.Z)(function*(w,f){return Cn(w,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function rr(w,f){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,a.Z)(function*(w,f){return Cn(w,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ir(w,f){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,a.Z)(function*(w,f){return Cn(w,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Qi(w){if(w)try{const f=new Date(Number(w));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Gn(){return(Gn=(0,a.Z)(function*(w,f=!1){const m=(0,Q.m9)(w),I=yield m.getIdToken(f),Y=un(I);ie(Y&&Y.exp&&Y.auth_time&&Y.iat,m.auth,"internal-error");const le="object"==typeof Y.firebase?Y.firebase:void 0,rt=le?.sign_in_provider;return{claims:Y,token:I,authTime:Qi(sn(Y.auth_time)),issuedAtTime:Qi(sn(Y.iat)),expirationTime:Qi(sn(Y.exp)),signInProvider:rt||null,signInSecondFactor:le?.sign_in_second_factor||null}})).apply(this,arguments)}function sn(w){return 1e3*Number(w)}function un(w){var f;const[m,I,Y]=w.split(".");if(void 0===m||void 0===I||void 0===Y)return Gt("JWT malformed, contained fewer than 3 sections"),null;try{const le=(0,Q.tV)(I);return le?JSON.parse(le):(Gt("Failed to decode base64 JWT payload"),null)}catch(le){return Gt("Caught error parsing JWT payload as JSON",null===(f=le)||void 0===f?void 0:f.toString()),null}}function _r(w,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(w,f,m=!1){if(m)return f;try{return yield f}catch(I){throw I instanceof Q.ZR&&cn(I)&&w.auth.currentUser===w&&(yield w.auth.signOut()),I}})).apply(this,arguments)}function cn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Dn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const Y=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield m.iteration()}),I)}iteration(){var f=this;return(0,a.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null===(m=I)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Pi{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qi(this.lastLoginAt),this.creationTime=Qi(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vn(w){return ds.apply(this,arguments)}function ds(){return(ds=(0,a.Z)(function*(w){var f;const m=w.auth,I=yield w.getIdToken(),Y=yield _r(w,ir(m,{idToken:I}));ie(Y?.users.length,m,"internal-error");const le=Y.users[0];w._notifyReloadListener(le);const rt=null!==(f=le.providerUserInfo)&&void 0!==f&&f.length?Me(le.providerUserInfo):[],It=Ge(w.providerData,rt),Zn=!!w.isAnonymous&&!(w.email&&le.passwordHash||It?.length),Xn={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:It,metadata:new Pi(le.createdAt,le.lastLoginAt),isAnonymous:Zn};Object.assign(w,Xn)})).apply(this,arguments)}function Ke(){return(Ke=(0,a.Z)(function*(w){const f=(0,Q.m9)(w);yield Vn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ge(w,f){return[...w.filter(I=>!f.some(Y=>Y.providerId===I.providerId)),...f]}function Me(w){return w.map(f=>{var{providerId:m}=f,I=(0,Oe._T)(f,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Ve(){return(Ve=(0,a.Z)(function*(w,f){const m=yield fn(w,{},(0,a.Z)(function*(){const I=(0,Q.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:Y,apiKey:le}=w.config,rt=Vr(w,Y,"/v1/token",`key=${le}`),It=yield w._getAdditionalHeaders();return It["Content-Type"]="application/x-www-form-urlencoded",Yt.fetch()(rt,{method:"POST",headers:It,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ie(f.idToken,"internal-error"),ie(typeof f.idToken<"u","internal-error"),ie(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function ur(w){const f=un(w);return ie(f,"internal-error"),ie(typeof f.exp<"u","internal-error"),ie(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var I=this;return(0,a.Z)(function*(){return ie(!I.accessToken||I.refreshToken,f,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(f,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var I=this;return(0,a.Z)(function*(){const{accessToken:Y,refreshToken:le,expiresIn:rt}=yield function He(w,f){return Ve.apply(this,arguments)}(f,m);I.updateTokensAndExpiration(Y,le,Number(rt))})()}updateTokensAndExpiration(f,m,I){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(f,m){const{refreshToken:I,accessToken:Y,expirationTime:le}=m,rt=new Nt;return I&&(ie("string"==typeof I,"internal-error",{appName:f}),rt.refreshToken=I),Y&&(ie("string"==typeof Y,"internal-error",{appName:f}),rt.accessToken=Y),le&&(ie("number"==typeof le,"internal-error",{appName:f}),rt.expirationTime=le),rt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Nt,this.toJSON())}_performRefresh(){return Be("not implemented")}}function Kt(w,f){ie("string"==typeof w||typeof w>"u","internal-error",{appName:f})}class on{constructor(f){var{uid:m,auth:I,stsTokenManager:Y}=f,le=(0,Oe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new Pi(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,a.Z)(function*(){const I=yield _r(m,m.stsTokenManager.getToken(m.auth,f));return ie(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(f){return function Dr(w){return Gn.apply(this,arguments)}(this,f)}reload(){return function tr(w){return Ke.apply(this,arguments)}(this)}_assign(f){this!==f&&(ie(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new on(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var I=this;return(0,a.Z)(function*(){let Y=!1;f.idToken&&f.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(f),Y=!0),m&&(yield Vn(I)),yield I.auth._persistUserIfCurrent(I),Y&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var f=this;return(0,a.Z)(function*(){const m=yield f.getIdToken();return yield _r(f,function di(w,f){return xt.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var I,Y,le,rt,It,nn,yn,Zn;const Xn=null!==(I=m.displayName)&&void 0!==I?I:void 0,$o=null!==(Y=m.email)&&void 0!==Y?Y:void 0,Ja=null!==(le=m.phoneNumber)&&void 0!==le?le:void 0,Eu=null!==(rt=m.photoURL)&&void 0!==rt?rt:void 0,Ta=null!==(It=m.tenantId)&&void 0!==It?It:void 0,_c=null!==(nn=m._redirectEventId)&&void 0!==nn?nn:void 0,yc=null!==(yn=m.createdAt)&&void 0!==yn?yn:void 0,xl=null!==(Zn=m.lastLoginAt)&&void 0!==Zn?Zn:void 0,{uid:vc,emailVerified:uu,isAnonymous:Hd,providerData:Yc,stsTokenManager:Tf}=m;ie(vc&&Tf,f,"internal-error");const Rp=Nt.fromJSON(this.name,Tf);ie("string"==typeof vc,f,"internal-error"),Kt(Xn,f.name),Kt($o,f.name),ie("boolean"==typeof uu,f,"internal-error"),ie("boolean"==typeof Hd,f,"internal-error"),Kt(Ja,f.name),Kt(Eu,f.name),Kt(Ta,f.name),Kt(_c,f.name),Kt(yc,f.name),Kt(xl,f.name);const Mh=new on({uid:vc,auth:f,email:$o,emailVerified:uu,displayName:Xn,isAnonymous:Hd,photoURL:Eu,phoneNumber:Ja,tenantId:Ta,stsTokenManager:Rp,createdAt:yc,lastLoginAt:xl});return Yc&&Array.isArray(Yc)&&(Mh.providerData=Yc.map(If=>Object.assign({},If))),_c&&(Mh._redirectEventId=_c),Mh}static _fromIdTokenResponse(f,m,I=!1){return(0,a.Z)(function*(){const Y=new Nt;Y.updateFromServerResponse(m);const le=new on({uid:m.localId,auth:f,stsTokenManager:Y,isAnonymous:I});return yield Vn(le),le})()}}const nr=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(m,I){var Y=this;return(0,a.Z)(function*(){Y.storage[m]=I})()}_get(m){var I=this;return(0,a.Z)(function*(){const Y=I.storage[m];return void 0===Y?null:Y})()}_remove(m){var I=this;return(0,a.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return w.type="NONE",w})();function kn(w,f,m){return`firebase:${w}:${f}:${m}`}class An{constructor(f,m,I){this.persistence=f,this.auth=m,this.userKey=I;const{config:Y,name:le}=this.auth;this.fullUserKey=kn(this.userKey,Y.apiKey,le),this.fullPersistenceKey=kn("persistence",Y.apiKey,le),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?on._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,a.Z)(function*(){if(m.persistence===f)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,I="authUser"){return(0,a.Z)(function*(){if(!m.length)return new An(qe(nr),f,I);const Y=(yield Promise.all(m.map(function(){var yn=(0,a.Z)(function*(Zn){if(yield Zn._isAvailable())return Zn});return function(Zn){return yn.apply(this,arguments)}}()))).filter(yn=>yn);let le=Y[0]||qe(nr);const rt=kn(I,f.config.apiKey,f.name);let It=null;for(const yn of m)try{const Zn=yield yn._get(rt);if(Zn){const Xn=on._fromJSON(f,Zn);yn!==le&&(It=Xn),le=yn;break}}catch{}const nn=Y.filter(yn=>yn._shouldAllowMigration);return le._shouldAllowMigration&&nn.length?(le=nn[0],It&&(yield le._set(rt,It.toJSON())),yield Promise.all(m.map(function(){var yn=(0,a.Z)(function*(Zn){if(Zn!==le)try{yield Zn._remove(rt)}catch{}});return function(Zn){return yn.apply(this,arguments)}}())),new An(le,f,I)):new An(le,f,I)})()}}function Tn(w){const f=w.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(ai(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Er(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Re(f))return"Blackberry";if(Se(f))return"Webos";if(Cr(f))return"Safari";if((f.includes("chrome/")||zr(f))&&!f.includes("edge/"))return"Chrome";if(xr(f))return"Android";{const I=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function Er(w=(0,Q.z$)()){return/firefox\//i.test(w)}function Cr(w=(0,Q.z$)()){const f=w.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function zr(w=(0,Q.z$)()){return/crios\//i.test(w)}function ai(w=(0,Q.z$)()){return/iemobile/i.test(w)}function xr(w=(0,Q.z$)()){return/android/i.test(w)}function Re(w=(0,Q.z$)()){return/blackberry/i.test(w)}function Se(w=(0,Q.z$)()){return/webos/i.test(w)}function pe(w=(0,Q.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Qt(w=(0,Q.z$)()){return pe(w)||xr(w)||Se(w)||Re(w)||/windows phone/i.test(w)||ai(w)}function yr(w,f=[]){let m;switch(w){case"Browser":m=Tn((0,Q.z$)());break;case"Worker":m=`${Tn((0,Q.z$)())}-${w}`;break;default:m=w}const I=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ge.SDK_VERSION}/${I}`}class Ji{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const I=le=>new Promise((rt,It)=>{try{rt(f(le))}catch(nn){It(nn)}});I.onAbort=m,this.queue.push(I);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,a.Z)(function*(){var I;if(m.auth.currentUser===f)return;const Y=[];try{for(const le of m.queue)yield le(f),le.onAbort&&Y.push(le.onAbort)}catch(le){Y.reverse();for(const rt of Y)try{rt()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(I=le)||void 0===I?void 0:I.message})}})()}}class En{constructor(f,m,I){this.app=f,this.heartbeatServiceProvider=m,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vi(this),this.idTokenSubscription=new vi(this),this.beforeStateQueue=new Ji(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(f,m){var I=this;return m&&(this._popupRedirectResolver=qe(m)),this._initializationPromise=this.queue((0,a.Z)(function*(){var Y,le;if(!I._deleted&&(I.persistenceManager=yield An.create(I,f),!I._deleted)){if(null!==(Y=I._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(le=I.currentUser)||void 0===le?void 0:le.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,a.Z)(function*(){var I;const Y=yield m.assertedPersistence.getCurrentUser();let le=Y,rt=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const It=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,nn=le?._redirectEventId,yn=yield m.tryRedirectSignIn(f);(!It||It===nn)&&yn?.user&&(le=yn.user,rt=!0)}if(!le)return m.directlySetCurrentUser(null);if(!le._redirectEventId){if(rt)try{yield m.beforeStateQueue.runMiddleware(le)}catch(It){le=Y,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(It))}return le?m.reloadAndSetCurrentUserOrClear(le):m.directlySetCurrentUser(null)}return ie(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===le._redirectEventId?m.directlySetCurrentUser(le):m.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(f){var m=this;return(0,a.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,a.Z)(function*(){var I;try{yield Vn(f)}catch(Y){if("auth/network-request-failed"!==(null===(I=Y)||void 0===I?void 0:I.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function wt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,a.Z)(function*(){const I=f?(0,Q.m9)(f):null;return I&&ie(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(f,m=!1){var I=this;return(0,a.Z)(function*(){if(!I._deleted)return f&&ie(I.tenantId===f.tenantId,I,"tenant-id-mismatch"),m||(yield I.beforeStateQueue.runMiddleware(f)),I.queue((0,a.Z)(function*(){yield I.directlySetCurrentUser(f),I.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,a.Z)(function*(){yield m.assertedPersistence.setPersistence(qe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new Q.LL("auth","Firebase",f())}onAuthStateChanged(f,m,I){return this.registerStateListener(this.authStateSubscription,f,m,I)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,I){return this.registerStateListener(this.idTokenSubscription,f,m,I)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var I=this;return(0,a.Z)(function*(){const Y=yield I.getOrInitRedirectPersistenceManager(m);return null===f?Y.removeCurrentUser():Y.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,a.Z)(function*(){if(!m.redirectPersistenceManager){const I=f&&qe(f)||m._popupRedirectResolver;ie(I,m,"argument-error"),m.redirectPersistenceManager=yield An.create(m,[qe(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,a.Z)(function*(){var I,Y;return m._isInitialized&&(yield m.queue((0,a.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===f?m._currentUser:(null===(Y=m.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,a.Z)(function*(){if(f===m.currentUser)return m.queue((0,a.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,I,Y){if(this._deleted)return()=>{};const le="function"==typeof m?m:m.next.bind(m),rt=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(rt,this,"internal-error"),rt.then(()=>le(this.currentUser)),"function"==typeof m?f.addObserver(m,I,Y):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,a.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=yr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var m;const I={"X-Client-Version":f.clientVersion};f.app.options.appId&&(I["X-Firebase-gmpid"]=f.app.options.appId);const Y=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return Y&&(I["X-Firebase-Client"]=Y),I})()}}function ar(w){return(0,Q.m9)(w)}class vi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,Q.ne)(m=>this.observer=m)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xi(w){const f=w.indexOf(":");return f<0?"":w.substr(0,f+1)}function hs(w){if(!w)return null;const f=Number(w);return isNaN(f)?null:f}class Ti{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Be("not implemented")}_getIdTokenResponse(f){return Be("not implemented")}_linkToIdToken(f,m){return Be("not implemented")}_getReauthenticationResolver(f){return Be("not implemented")}}function bi(w,f){return bs.apply(this,arguments)}function bs(){return(bs=(0,a.Z)(function*(w,f){return Cn(w,"POST","/v1/accounts:resetPassword",Rt(w,f))})).apply(this,arguments)}function Tr(w,f){return co.apply(this,arguments)}function co(){return(co=(0,a.Z)(function*(w,f){return Cn(w,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ki(w,f){return ws.apply(this,arguments)}function ws(){return(ws=(0,a.Z)(function*(w,f){return Cn(w,"POST","/v1/accounts:update",Rt(w,f))})).apply(this,arguments)}function zi(){return(zi=(0,a.Z)(function*(w,f){return er(w,"POST","/v1/accounts:signInWithPassword",Rt(w,f))})).apply(this,arguments)}function fs(w,f){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,a.Z)(function*(w,f){return Cn(w,"POST","/v1/accounts:sendOobCode",Rt(w,f))})).apply(this,arguments)}function Kn(w,f){return js.apply(this,arguments)}function js(){return(js=(0,a.Z)(function*(w,f){return fs(w,f)})).apply(this,arguments)}function Ir(w,f){return li.apply(this,arguments)}function li(){return(li=(0,a.Z)(function*(w,f){return fs(w,f)})).apply(this,arguments)}function Hs(w,f){return As.apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(w,f){return fs(w,f)})).apply(this,arguments)}function hi(w,f){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,a.Z)(function*(w,f){return fs(w,f)})).apply(this,arguments)}function aa(){return(aa=(0,a.Z)(function*(w,f){return er(w,"POST","/v1/accounts:signInWithEmailLink",Rt(w,f))})).apply(this,arguments)}function ps(){return(ps=(0,a.Z)(function*(w,f){return er(w,"POST","/v1/accounts:signInWithEmailLink",Rt(w,f))})).apply(this,arguments)}class Zr extends Ti{constructor(f,m,I,Y=null){super("password",I),this._email=f,this._password=m,this._tenantId=Y}static _fromEmailAndPassword(f,m){return new Zr(f,m,"password")}static _fromEmailAndCode(f,m,I=null){return new Zr(f,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,a.Z)(function*(){switch(m.signInMethod){case"password":return function Fi(w,f){return zi.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function is(w,f){return aa.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:ft(f,"internal-error")}})()}_linkToIdToken(f,m){var I=this;return(0,a.Z)(function*(){switch(I.signInMethod){case"password":return Tr(f,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Go(w,f){return ps.apply(this,arguments)}(f,{idToken:m,email:I._email,oobCode:I._password});default:ft(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function ui(w,f){return tt.apply(this,arguments)}function tt(){return(tt=(0,a.Z)(function*(w,f){return er(w,"POST","/v1/accounts:signInWithIdp",Rt(w,f))})).apply(this,arguments)}class ht extends Ti{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new ht(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):ft("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:Y}=m,le=(0,Oe._T)(m,["providerId","signInMethod"]);if(!I||!Y)return null;const rt=new ht(I,Y);return rt.idToken=le.idToken||void 0,rt.accessToken=le.accessToken||void 0,rt.secret=le.secret,rt.nonce=le.nonce,rt.pendingToken=le.pendingToken||null,rt}_getIdTokenResponse(f){return ui(f,this.buildRequest())}_linkToIdToken(f,m){const I=this.buildRequest();return I.idToken=m,ui(f,I)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,ui(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,Q.xO)(m)}return f}}function Mt(w,f){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,a.Z)(function*(w,f){return Cn(w,"POST","/v1/accounts:sendVerificationCode",Rt(w,f))})).apply(this,arguments)}function xn(){return(xn=(0,a.Z)(function*(w,f){return er(w,"POST","/v1/accounts:signInWithPhoneNumber",Rt(w,f))})).apply(this,arguments)}function lr(){return(lr=(0,a.Z)(function*(w,f){const m=yield er(w,"POST","/v1/accounts:signInWithPhoneNumber",Rt(w,f));if(m.temporaryProof)throw Ar(w,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ds={USER_NOT_FOUND:"user-not-found"};function Xs(){return(Xs=(0,a.Z)(function*(w,f){return er(w,"POST","/v1/accounts:signInWithPhoneNumber",Rt(w,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ds)})).apply(this,arguments)}class fi extends Ti{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new fi({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new fi({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function pn(w,f){return xn.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function ni(w,f){return lr.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Li(w,f){return Xs.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:I,verificationCode:Y}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:I,code:Y}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:I,phoneNumber:Y,temporaryProof:le}=f;return I||m||Y||le?new fi({verificationId:m,verificationCode:I,phoneNumber:Y,temporaryProof:le}):null}}class Cs{constructor(f){var m,I,Y,le,rt,It;const nn=(0,Q.zd)((0,Q.pd)(f)),yn=null!==(m=nn.apiKey)&&void 0!==m?m:null,Zn=null!==(I=nn.oobCode)&&void 0!==I?I:null,Xn=function Es(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=nn.mode)&&void 0!==Y?Y:null);ie(yn&&Zn&&Xn,"argument-error"),this.apiKey=yn,this.operation=Xn,this.code=Zn,this.continueUrl=null!==(le=nn.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(rt=nn.languageCode)&&void 0!==rt?rt:null,this.tenantId=null!==(It=nn.tenantId)&&void 0!==It?It:null}static parseLink(f){const m=function Xo(w){const f=(0,Q.zd)((0,Q.pd)(w)).link,m=f?(0,Q.zd)((0,Q.pd)(f)).deep_link_id:null,I=(0,Q.zd)((0,Q.pd)(w)).deep_link_id;return(I?(0,Q.zd)((0,Q.pd)(I)).link:null)||I||m||f||w}(f);try{return new Cs(m)}catch{return null}}}let Ns=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(m,I){return Zr._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const Y=Cs.parseLink(I);return ie(Y,"argument-error"),Zr._fromEmailAndCode(m,Y.code,Y.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Ts{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class es extends Ts{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ms extends es{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return ie("providerId"in m&&"signInMethod"in m,"argument-error"),ht._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ie(f.idToken||f.accessToken,"argument-error"),ht._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ms.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ms.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:Y,pendingToken:le,nonce:rt,providerId:It}=f;if(!I&&!Y&&!m&&!le||!It)return null;try{return new Ms(It)._credential({idToken:m,accessToken:I,nonce:rt,pendingToken:le})}catch{return null}}}let ho=(()=>{class w extends es{constructor(){super("facebook.com")}static credential(m){return ht._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return w.credential(m.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),xs=(()=>{class w extends es{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return ht._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:Y}=m;if(!I&&!Y)return null;try{return w.credential(I,Y)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),_o=(()=>{class w extends es{constructor(){super("github.com")}static credential(m){return ht._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return w.credential(m.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class gs extends Ti{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return ui(f,this.buildRequest())}_linkToIdToken(f,m){const I=this.buildRequest();return I.idToken=m,ui(f,I)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,ui(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:Y,pendingToken:le}=m;return I&&Y&&le&&I===Y?new gs(I,le):null}static _create(f,m){return new gs(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Rs extends Ts{constructor(f){ie(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Rs.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Rs.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=gs.fromJSON(f);return ie(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:I}=f;if(!m||!I)return null;try{return gs._create(I,m)}catch{return null}}}let ss=(()=>{class w extends es{constructor(){super("twitter.com")}static credential(m,I){return ht._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:Y}=m;if(!I||!Y)return null;try{return w.credential(I,Y)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function eo(w,f){return la.apply(this,arguments)}function la(){return(la=(0,a.Z)(function*(w,f){return er(w,"POST","/v1/accounts:signUp",Rt(w,f))})).apply(this,arguments)}class Vi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,I,Y=!1){return(0,a.Z)(function*(){const le=yield on._fromIdTokenResponse(f,I,Y),rt=to(I);return new Vi({user:le,providerId:rt,_tokenResponse:I,operationType:m})})()}static _forOperation(f,m,I){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(I,!0);const Y=to(I);return new Vi({user:f,providerId:Y,_tokenResponse:I,operationType:m})})()}}function to(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function pi(){return(pi=(0,a.Z)(function*(w){var f;const m=ar(w);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Vi({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield eo(m,{returnSecureToken:!0}),Y=yield Vi._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Eo extends Q.ZR{constructor(f,m,I,Y){var le;super(m.code,m.message),this.operationType=I,this.user=Y,Object.setPrototypeOf(this,Eo.prototype),this.customData={appName:f.name,tenantId:null!==(le=f.tenantId)&&void 0!==le?le:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(f,m,I,Y){return new Eo(f,m,I,Y)}}function fo(w,f,m,I){return("reauthenticate"===f?m._getReauthenticationResolver(w):m._getIdTokenResponse(w)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?Eo._fromErrorAndOperation(w,le,f,I):le})}function hr(w){return new Set(w.map(({providerId:f})=>f).filter(f=>!!f))}function os(){return(os=(0,a.Z)(function*(w,f){const m=(0,Q.m9)(w);yield gr(!0,m,f);const{providerUserInfo:I}=yield rr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),Y=hr(I||[]);return m.providerData=m.providerData.filter(le=>Y.has(le.providerId)),Y.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Co(w,f){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,a.Z)(function*(w,f,m=!1){const I=yield _r(w,f._linkToIdToken(w.auth,yield w.getIdToken()),m);return Vi._forOperation(w,"link",I)})).apply(this,arguments)}function gr(w,f,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,a.Z)(function*(w,f,m){yield Vn(f);const Y=!1===w?"provider-already-linked":"no-such-provider";ie(hr(f.providerData).has(m)===w,f.auth,Y)})).apply(this,arguments)}function ms(w,f){return Po.apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(w,f,m=!1){var I;const{auth:Y}=w,le="reauthenticate";try{const rt=yield _r(w,fo(Y,le,f,w),m);ie(rt.idToken,Y,"internal-error");const It=un(rt.idToken);ie(It,Y,"internal-error");const{sub:nn}=It;return ie(w.uid===nn,Y,"user-mismatch"),Vi._forOperation(w,le,rt)}catch(rt){throw"auth/user-not-found"===(null===(I=rt)||void 0===I?void 0:I.code)&&ft(Y,"user-mismatch"),rt}})).apply(this,arguments)}function ts(w,f){return wi.apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(w,f,m=!1){const I="signIn",Y=yield fo(w,I,f),le=yield Vi._fromIdTokenResponse(w,I,Y);return m||(yield w._updateCurrentUser(le.user)),le})).apply(this,arguments)}function jr(w,f){return On.apply(this,arguments)}function On(){return(On=(0,a.Z)(function*(w,f){return ts(ar(w),f)})).apply(this,arguments)}function ua(w,f){return ca.apply(this,arguments)}function ca(){return(ca=(0,a.Z)(function*(w,f){const m=(0,Q.m9)(w);return yield gr(!1,m,f.providerId),Co(m,f)})).apply(this,arguments)}function po(w,f){return ko.apply(this,arguments)}function ko(){return(ko=(0,a.Z)(function*(w,f){return ms((0,Q.m9)(w),f)})).apply(this,arguments)}function ta(w,f){return go.apply(this,arguments)}function go(){return(go=(0,a.Z)(function*(w,f){return er(w,"POST","/v1/accounts:signInWithCustomToken",Rt(w,f))})).apply(this,arguments)}function To(){return(To=(0,a.Z)(function*(w,f){const m=ar(w),I=yield ta(m,{token:f,returnSecureToken:!0}),Y=yield Vi._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Lt{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?sr._fromServerResponse(f,m):ft(f,"internal-error")}}class sr extends Lt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new sr(m)}}function no(w,f,m){var I;ie((null===(I=m.url)||void 0===I?void 0:I.length)>0,w,"invalid-continue-uri"),ie(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ie(m.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(ie(m.android.packageName.length>0,w,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Ii(){return(Ii=(0,a.Z)(function*(w,f,m){const I=(0,Q.m9)(w),Y={requestType:"PASSWORD_RESET",email:f};m&&no(I,Y,m),yield Ir(I,Y)})).apply(this,arguments)}function ha(){return(ha=(0,a.Z)(function*(w,f,m){yield bi((0,Q.m9)(w),{oobCode:f,newPassword:m})})).apply(this,arguments)}function G(){return(G=(0,a.Z)(function*(w,f){yield ki((0,Q.m9)(w),{oobCode:f})})).apply(this,arguments)}function ue(w,f){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,a.Z)(function*(w,f){const m=(0,Q.m9)(w),I=yield bi(m,{oobCode:f}),Y=I.requestType;switch(ie(Y,m,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(I.mfaInfo,m,"internal-error");default:ie(I.email,m,"internal-error")}let le=null;return I.mfaInfo&&(le=Lt._fromServerResponse(ar(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:le},operation:Y}})).apply(this,arguments)}function O(){return(O=(0,a.Z)(function*(w,f){const{data:m}=yield ue((0,Q.m9)(w),f);return m.email})).apply(this,arguments)}function N(){return(N=(0,a.Z)(function*(w,f,m){const I=ar(w),Y=yield eo(I,{returnSecureToken:!0,email:f,password:m}),le=yield Vi._fromIdTokenResponse(I,"signIn",Y);return yield I._updateCurrentUser(le.user),le})).apply(this,arguments)}function Tt(){return(Tt=(0,a.Z)(function*(w,f,m){const I=(0,Q.m9)(w),Y={requestType:"EMAIL_SIGNIN",email:f};ie(m.handleCodeInApp,I,"argument-error"),m&&no(I,Y,m),yield Hs(I,Y)})).apply(this,arguments)}function Kr(){return(Kr=(0,a.Z)(function*(w,f,m){const I=(0,Q.m9)(w),Y=Ns.credentialWithLink(f,m||Pt());return ie(Y._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),jr(I,Y)})).apply(this,arguments)}function gi(w,f){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(w,f){return Cn(w,"POST","/v1/accounts:createAuthUri",Rt(w,f))})).apply(this,arguments)}function Ui(){return(Ui=(0,a.Z)(function*(w,f){const I={identifier:f,continueUri:jt()?Pt():"http://localhost"},{signinMethods:Y}=yield gi((0,Q.m9)(w),I);return Y||[]})).apply(this,arguments)}function Si(){return(Si=(0,a.Z)(function*(w,f){const m=(0,Q.m9)(w),Y={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};f&&no(m.auth,Y,f);const{email:le}=yield Kn(m.auth,Y);le!==w.email&&(yield w.reload())})).apply(this,arguments)}function zs(){return(zs=(0,a.Z)(function*(w,f,m){const I=(0,Q.m9)(w),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:f};m&&no(I.auth,le,m);const{email:rt}=yield hi(I.auth,le);rt!==w.email&&(yield w.reload())})).apply(this,arguments)}function io(w,f){return na.apply(this,arguments)}function na(){return(na=(0,a.Z)(function*(w,f){return Cn(w,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function fa(){return(fa=(0,a.Z)(function*(w,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const I=(0,Q.m9)(w),le={idToken:yield I.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},rt=yield _r(I,io(I.auth,le));I.displayName=rt.displayName||null,I.photoURL=rt.photoUrl||null;const It=I.providerData.find(({providerId:nn})=>"password"===nn);It&&(It.displayName=I.displayName,It.photoURL=I.photoURL),yield I._updateTokensIfNecessary(rt)})).apply(this,arguments)}function j(w,f,m){return se.apply(this,arguments)}function se(){return(se=(0,a.Z)(function*(w,f,m){const{auth:I}=w,le={idToken:yield w.getIdToken(),returnSecureToken:!0};f&&(le.email=f),m&&(le.password=m);const rt=yield _r(w,Tr(I,le));yield w._updateTokensIfNecessary(rt,!0)})).apply(this,arguments)}class pt{constructor(f,m,I={}){this.isNewUser=f,this.providerId=m,this.profile=I}}class Dt extends pt{constructor(f,m,I,Y){super(f,m,I),this.username=Y}}class hn extends pt{constructor(f,m){super(f,"facebook.com",m)}}class qr extends Dt{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Qr extends pt{constructor(f,m){super(f,"google.com",m)}}class Rr extends Dt{constructor(f,m,I){super(f,"twitter.com",m,I)}}function Pr(w){const{user:f,_tokenResponse:m}=w;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function xe(w){var f,m;if(!w)return null;const{providerId:I}=w,Y=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},le=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!I&&w?.idToken){const rt=null===(m=null===(f=un(w.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(rt)return new pt(le,"anonymous"!==rt&&"custom"!==rt?rt:null)}if(!I)return null;switch(I){case"facebook.com":return new hn(le,Y);case"github.com":return new qr(le,Y);case"google.com":return new Qr(le,Y);case"twitter.com":return new Rr(le,Y,w.screenName||null);case"custom":case"anonymous":return new pt(le,null);default:return new pt(le,I,Y)}}(m)}class ji{constructor(f,m,I){this.type=f,this.credential=m,this.auth=I}static _fromIdtoken(f,m){return new ji("enroll",f,m)}static _fromMfaPendingCredential(f){return new ji("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,I;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ji._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(I=f.multiFactorSession)&&void 0!==I&&I.idToken)return ji._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ka{constructor(f,m,I){this.session=f,this.hints=m,this.signInResolver=I}static _fromError(f,m){const I=ar(f),Y=m.customData._serverResponse,le=(Y.mfaInfo||[]).map(It=>Lt._fromServerResponse(I,It));ie(Y.mfaPendingCredential,I,"internal-error");const rt=ji._fromMfaPendingCredential(Y.mfaPendingCredential);return new ka(rt,le,function(){var It=(0,a.Z)(function*(nn){const yn=yield nn._process(I,rt);delete Y.mfaInfo,delete Y.mfaPendingCredential;const Zn=Object.assign(Object.assign({},Y),{idToken:yn.idToken,refreshToken:yn.refreshToken});switch(m.operationType){case"signIn":const Xn=yield Vi._fromIdTokenResponse(I,m.operationType,Zn);return yield I._updateCurrentUser(Xn.user),Xn;case"reauthenticate":return ie(m.user,I,"internal-error"),Vi._forOperation(m.user,m.operationType,Zn);default:ft(I,"internal-error")}});return function(nn){return It.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,a.Z)(function*(){return m.signInResolver(f)})()}}function ga(w,f){return Cn(w,"POST","/v2/accounts/mfaEnrollment:start",Rt(w,f))}class nl{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>Lt._fromServerResponse(f.auth,I)))})}static _fromUser(f){return new nl(f)}getSession(){var f=this;return(0,a.Z)(function*(){return ji._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var I=this;return(0,a.Z)(function*(){const Y=f,le=yield I.getSession(),rt=yield _r(I.user,Y._process(I.user.auth,le,m));return yield I.user._updateTokensIfNecessary(rt),I.user.reload()})()}unenroll(f){var m=this;return(0,a.Z)(function*(){var I;const Y="string"==typeof f?f:f.uid,le=yield m.user.getIdToken(),rt=yield _r(m.user,function eu(w,f){return Cn(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Rt(w,f))}(m.user.auth,{idToken:le,mfaEnrollmentId:Y}));m.enrolledFactors=m.enrolledFactors.filter(({uid:It})=>It!==Y),yield m.user._updateTokensIfNecessary(rt);try{yield m.user.reload()}catch(It){if("auth/user-token-expired"!==(null===(I=It)||void 0===I?void 0:I.code))throw It}})()}}const rl=new WeakMap,Ma="__sak";class vl{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ma,"1"),this.storage.removeItem(Ma),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ba=(()=>{class w extends vl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xa(){const w=(0,Q.z$)();return Cr(w)||pe(w)}()&&function Mn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const Y=this.storage.getItem(I),le=this.localCache[I];Y!==le&&m(I,le,Y)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((It,nn,yn)=>{this.notifyListeners(It,yn)});const Y=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const It=this.storage.getItem(Y);if(m.newValue!==It)null!==m.newValue?this.storage.setItem(Y,m.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===m.newValue&&!I)return}const le=()=>{const It=this.storage.getItem(Y);!I&&this.localCache[Y]===It||this.notifyListeners(Y,It)},rt=this.storage.getItem(Y);!function Ut(){return(0,Q.w1)()&&10===document.documentMode}()||rt===m.newValue||m.newValue===m.oldValue?le():setTimeout(le,10)}notifyListeners(m,I){this.localCache[m]=I;const Y=this.listeners[m];if(Y)for(const le of Array.from(Y))le(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var Y=()=>super._set,le=this;return(0,a.Z)(function*(){yield Y().call(le,m,I),le.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,Y=this;return(0,a.Z)(function*(){const le=yield I().call(Y,m);return Y.localCache[m]=JSON.stringify(le),le})()}_remove(m){var I=()=>super._remove,Y=this;return(0,a.Z)(function*(){yield I().call(Y,m),delete Y.localCache[m]})()}}return w.type="LOCAL",w})(),qo=(()=>{class w extends vl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return w.type="SESSION",w})();let y=(()=>{class w{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(le=>le.isListeningto(m));if(I)return I;const Y=new w(m);return this.receivers.push(Y),Y}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,a.Z)(function*(){const Y=m,{eventId:le,eventType:rt,data:It}=Y.data,nn=I.handlersMap[rt];if(!nn?.size)return;Y.ports[0].postMessage({status:"ack",eventId:le,eventType:rt});const yn=Array.from(nn).map(function(){var Xn=(0,a.Z)(function*($o){return $o(Y.origin,It)});return function($o){return Xn.apply(this,arguments)}}()),Zn=yield function W(w){return Promise.all(w.map(function(){var f=(0,a.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return f.apply(this,arguments)}}()))}(yn);Y.ports[0].postMessage({status:"done",eventId:le,eventType:rt,response:Zn})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function C(w="",f=10){let m="";for(let I=0;I<f;I++)m+=Math.floor(10*Math.random());return w+m}class U{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,I=50){var Y=this;return(0,a.Z)(function*(){const le=typeof MessageChannel<"u"?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let rt,It;return new Promise((nn,yn)=>{const Zn=C("",20);le.port1.start();const Xn=setTimeout(()=>{yn(new Error("unsupported_event"))},I);It={messageChannel:le,onMessage($o){const Ja=$o;if(Ja.data.eventId===Zn)switch(Ja.data.status){case"ack":clearTimeout(Xn),rt=setTimeout(()=>{yn(new Error("timeout"))},3e3);break;case"done":clearTimeout(rt),nn(Ja.data.response);break;default:clearTimeout(Xn),clearTimeout(rt),yn(new Error("invalid_response"))}}},Y.handlers.add(It),le.port1.addEventListener("message",It.onMessage),Y.target.postMessage({eventType:f,eventId:Zn,data:m},[le.port2])}).finally(()=>{It&&Y.removeMessageHandler(It)})})()}}function te(){return window}function we(){return typeof te().WorkerGlobalScope<"u"&&"function"==typeof te().importScripts}function Le(){return(Le=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zt="firebaseLocalStorageDb",Hn="firebaseLocalStorage",Un="fbase_key";class zn{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function oi(w,f){return w.transaction([Hn],f?"readwrite":"readonly").objectStore(Hn)}function Sr(){const w=indexedDB.open(zt,1);return new Promise((f,m)=>{w.addEventListener("error",()=>{m(w.error)}),w.addEventListener("upgradeneeded",()=>{const I=w.result;try{I.createObjectStore(Hn,{keyPath:Un})}catch(Y){m(Y)}}),w.addEventListener("success",(0,a.Z)(function*(){const I=w.result;I.objectStoreNames.contains(Hn)?f(I):(I.close(),yield function Di(){const w=indexedDB.deleteDatabase(zt);return new zn(w).toPromise()}(),f(yield Sr()))}))})}function Ni(w,f,m){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,a.Z)(function*(w,f,m){const I=oi(w,!0).put({[Un]:f,value:m});return new zn(I).toPromise()})).apply(this,arguments)}function ks(){return(ks=(0,a.Z)(function*(w,f){const m=oi(w,!1).get(f),I=yield new zn(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function _n(w,f){const m=oi(w,!0).delete(f);return new zn(m).toPromise()}const mn=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,a.Z)(function*(){return m.db||(m.db=yield Sr()),m.db})()}_withRetries(m){var I=this;return(0,a.Z)(function*(){let Y=0;for(;;)try{const le=yield I._openDb();return yield m(le)}catch(le){if(Y++>3)throw le;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,a.Z)(function*(){return we()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,a.Z)(function*(){m.receiver=y._getInstance(function at(){return we()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,a.Z)(function*(Y,le){return{keyProcessed:(yield m._poll()).includes(le.key)}});return function(Y,le){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,a.Z)(function*(Y,le){return["keyChanged"]});return function(Y,le){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,a.Z)(function*(){var I,Y;if(m.activeServiceWorker=yield function $e(){return Le.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new U(m.activeServiceWorker);const le=yield m.sender._send("ping",{},800);!le||(null===(I=le[0])||void 0===I?void 0:I.fulfilled)&&(null===(Y=le[0])||void 0===Y?void 0:Y.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,a.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Te(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Sr();return yield Ni(m,Ma,"1"),yield _n(m,Ma),!0}catch{}return!1})()}_withPendingWrite(m){var I=this;return(0,a.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var Y=this;return(0,a.Z)(function*(){return Y._withPendingWrite((0,a.Z)(function*(){return yield Y._withRetries(le=>Ni(le,m,I)),Y.localCache[m]=I,Y.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,a.Z)(function*(){const Y=yield I._withRetries(le=>function ra(w,f){return ks.apply(this,arguments)}(le,m));return I.localCache[m]=Y,Y})()}_remove(m){var I=this;return(0,a.Z)(function*(){return I._withPendingWrite((0,a.Z)(function*(){return yield I._withRetries(Y=>_n(Y,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,a.Z)(function*(){const I=yield m._withRetries(rt=>{const It=oi(rt,!1).getAll();return new zn(It).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const Y=[],le=new Set;for(const{fbase_key:rt,value:It}of I)le.add(rt),JSON.stringify(m.localCache[rt])!==JSON.stringify(It)&&(m.notifyListeners(rt,It),Y.push(rt));for(const rt of Object.keys(m.localCache))m.localCache[rt]&&!le.has(rt)&&(m.notifyListeners(rt,null),Y.push(rt));return Y})()}notifyListeners(m,I){this.localCache[m]=I;const Y=this.listeners[m];if(Y)for(const le of Array.from(Y))le(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Yo(w,f){return Cn(w,"POST","/v2/accounts/mfaSignIn:start",Rt(w,f))}function Hr(){return(Hr=(0,a.Z)(function*(w){return(yield Cn(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function In(w){return new Promise((f,m)=>{const I=document.createElement("script");I.setAttribute("src",w),I.onload=f,I.onerror=Y=>{const le=Ce("internal-error");le.customData=Y,m(le)},I.type="text/javascript",I.charset="UTF-8",function vt(){var w,f;return null!==(f=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==f?f:document}().appendChild(I)})}function Sn(w){return`__${w}${Math.floor(1e6*Math.random())}`}const _s=1e12;class Mr{constructor(f){this.auth=f,this.counter=_s,this._widgets=new Map}render(f,m){const I=this.counter;return this._widgets.set(I,new So(f,this.auth.name,m||{})),this.counter++,I}reset(f){var m;const I=f||_s;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(f){var m;return(null===(m=this._widgets.get(f||_s))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,a.Z)(function*(){var I;return null===(I=m._widgets.get(f||_s))||void 0===I||I.execute(),""})()}}class So{constructor(f,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof f?document.getElementById(f):f;ie(Y,"argument-error",{appName:m}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function qi(w){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<w;I++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Pl=Sn("rcb"),Bo=new ln(3e4,6e4);class Oa{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=te().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return ie(function wa(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(te().grecaptcha):new Promise((I,Y)=>{const le=te().setTimeout(()=>{Y(Ce(f,"network-request-failed"))},Bo.get());te()[Pl]=()=>{te().clearTimeout(le),delete te()[Pl];const It=te().grecaptcha;if(!It)return void Y(Ce(f,"internal-error"));const nn=It.render;It.render=(yn,Zn)=>{const Xn=nn(yn,Zn);return this.counter++,Xn},this.hostLanguage=m,I(It)},In(`https://www.google.com/recaptcha/api.js??${(0,Q.xO)({onload:Pl,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(le),Y(Ce(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=te().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ks{load(f){return(0,a.Z)(function*(){return new Mr(f)})()}clearedOneInstance(){}}const ma="recaptcha",_t={theme:"light",type:"image"};class ns{constructor(f,m=Object.assign({},_t),I){this.parameters=m,this.type=ma,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ar(I),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof f?document.getElementById(f):f;ie(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ks:new Oa,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),I=f.getAssertedRecaptcha();return I.getResponse(m)||new Promise(le=>{const rt=It=>{!It||(f.tokenChangeListeners.delete(rt),le(It))};f.tokenChangeListeners.add(rt),f.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof f)f(m);else if("string"==typeof f){const I=te()[f];"function"==typeof I&&I(m)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){ie(jt()&&!we(),f.auth,"internal-error"),yield function Ao(){let w=null;return new Promise(f=>{"complete"!==document.readyState?(w=()=>f(),window.addEventListener("load",w)):f()}).catch(f=>{throw w&&window.removeEventListener("load",w),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function oo(w){return Hr.apply(this,arguments)}(f.auth);ie(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sl{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=fi._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Da(){return(Da=(0,a.Z)(function*(w,f,m){const I=ar(w),Y=yield Ka(I,f,(0,Q.m9)(m));return new sl(Y,le=>jr(I,le))})).apply(this,arguments)}function mo(){return(mo=(0,a.Z)(function*(w,f,m){const I=(0,Q.m9)(w);yield gr(!1,I,"phone");const Y=yield Ka(I.auth,f,(0,Q.m9)(m));return new sl(Y,le=>ua(I,le))})).apply(this,arguments)}function Vo(){return(Vo=(0,a.Z)(function*(w,f,m){const I=(0,Q.m9)(w),Y=yield Ka(I.auth,f,(0,Q.m9)(m));return new sl(Y,le=>po(I,le))})).apply(this,arguments)}function Ka(w,f,m){return kl.apply(this,arguments)}function kl(){return(kl=(0,a.Z)(function*(w,f,m){var I;const Y=yield m.verify();try{let le;if(ie("string"==typeof Y,w,"argument-error"),ie(m.type===ma,w,"argument-error"),le="string"==typeof f?{phoneNumber:f}:f,"session"in le){const rt=le.session;if("phoneNumber"in le)return ie("enroll"===rt.type,w,"internal-error"),(yield ga(w,{idToken:rt.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{ie("signin"===rt.type,w,"internal-error");const It=(null===(I=le.multiFactorHint)||void 0===I?void 0:I.uid)||le.multiFactorUid;return ie(It,w,"missing-multi-factor-info"),(yield Yo(w,{mfaPendingCredential:rt.credential,mfaEnrollmentId:It,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:rt}=yield Mt(w,{phoneNumber:le.phoneNumber,recaptchaToken:Y});return rt}}finally{m._reset()}})).apply(this,arguments)}function S(){return(S=(0,a.Z)(function*(w,f){yield Co((0,Q.m9)(w),f)})).apply(this,arguments)}let E=(()=>{class w{constructor(m){this.providerId=w.PROVIDER_ID,this.auth=ar(m)}verifyPhoneNumber(m,I){return Ka(this.auth,m,(0,Q.m9)(I))}static credential(m,I){return fi._fromVerification(m,I)}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:Y}=m;return I&&Y?fi._fromTokenResponse(I,Y):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function P(w,f){return f?qe(f):(ie(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class H extends Ti{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return ui(f,this._buildIdpRequest())}_linkToIdToken(f,m){return ui(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return ui(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function re(w){return ts(w.auth,new H(w),w.bypassAuthState)}function ye(w){const{auth:f,user:m}=w;return ie(m,f,"internal-error"),ms(m,new H(w),w.bypassAuthState)}function De(w){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,a.Z)(function*(w){const{auth:f,user:m}=w;return ie(m,f,"internal-error"),Co(m,new H(w),w.bypassAuthState)})).apply(this,arguments)}class tn{constructor(f,m,I,Y,le=!1){this.auth=f,this.resolver=I,this.user=Y,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,a.Z)(function*(I,Y){f.pendingPromise={resolve:I,reject:Y};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(le){f.reject(le)}});return function(I,Y){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,a.Z)(function*(){const{urlResponse:I,sessionId:Y,postBody:le,tenantId:rt,error:It,type:nn}=f;if(It)return void m.reject(It);const yn={auth:m.auth,requestUri:I,sessionId:Y,tenantId:rt||void 0,postBody:le||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(nn)(yn))}catch(Zn){m.reject(Zn)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return re;case"linkViaPopup":case"linkViaRedirect":return De;case"reauthViaPopup":case"reauthViaRedirect":return ye;default:ft(this.auth,"internal-error")}}resolve(f){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wn=new ln(2e3,1e4);function Jn(){return(Jn=(0,a.Z)(function*(w,f,m){const I=ar(w);me(w,f,Ts);const Y=P(I,m);return new Va(I,"signInViaPopup",f,Y).executeNotNull()})).apply(this,arguments)}function No(){return(No=(0,a.Z)(function*(w,f,m){const I=(0,Q.m9)(w);me(I.auth,f,Ts);const Y=P(I.auth,m);return new Va(I.auth,"reauthViaPopup",f,Y,I).executeNotNull()})).apply(this,arguments)}function Fs(){return(Fs=(0,a.Z)(function*(w,f,m){const I=(0,Q.m9)(w);me(I.auth,f,Ts);const Y=P(I.auth,m);return new Va(I.auth,"linkViaPopup",f,Y,I).executeNotNull()})).apply(this,arguments)}let Va=(()=>{class w extends tn{constructor(m,I,Y,le,rt){super(m,I,le,rt),this.provider=Y,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var m=this;return(0,a.Z)(function*(){const I=yield m.execute();return ie(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,a.Z)(function*(){fe(1===m.filter.length,"Popup operations only handle one event");const I=C();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(Y=>{m.reject(Y)}),m.resolver._isIframeWebStorageSupported(m.auth,Y=>{Y||m.reject(Ce(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,Y;this.pollId=null!==(Y=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Wn.get())};m()}}return w.currentPopupAction=null,w})();const sa=new Map;class ac extends tn{constructor(f,m,I=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,a.Z)(function*(){let I=sa.get(m.auth._key());if(!I){try{const le=(yield function La(w,f){return Ra.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;I=()=>Promise.resolve(le)}catch(Y){I=()=>Promise.reject(Y)}sa.set(m.auth._key(),I)}return m.bypassAuthState||sa.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,I=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(I,f);if("unknown"!==f.type){if(f.eventId){const Y=yield I.auth._redirectUserForId(f.eventId);if(Y)return I.user=Y,m().call(I,f);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Ra(){return(Ra=(0,a.Z)(function*(w,f){const m=ja(f),I=Ea(w);if(!(yield I._isAvailable()))return!1;const Y="true"===(yield I._get(m));return yield I._remove(m),Y})).apply(this,arguments)}function Fl(w,f){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,a.Z)(function*(w,f){return Ea(w)._set(ja(f),"true")})).apply(this,arguments)}function al(w,f){sa.set(w._key(),f)}function Ea(w){return qe(w._redirectPersistence)}function ja(w){return kn("pendingRedirect",w.config.apiKey,w.name)}function B(){return(B=(0,a.Z)(function*(w,f,m){const I=ar(w);me(w,f,Ts);const Y=P(I,m);return yield Fl(Y,I),Y._openRedirect(I,f,"signInViaRedirect")})).apply(this,arguments)}function _e(){return(_e=(0,a.Z)(function*(w,f,m){const I=(0,Q.m9)(w);me(I.auth,f,Ts);const Y=P(I.auth,m);yield Fl(Y,I.auth);const le=yield Yn(I);return Y._openRedirect(I.auth,f,"reauthViaRedirect",le)})).apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(w,f,m){const I=(0,Q.m9)(w);me(I.auth,f,Ts);const Y=P(I.auth,m);yield gr(!1,I,f.providerId),yield Fl(Y,I.auth);const le=yield Yn(I);return Y._openRedirect(I.auth,f,"linkViaRedirect",le)})).apply(this,arguments)}function Bn(){return(Bn=(0,a.Z)(function*(w,f){return yield ar(w)._initializationPromise,qn(w,f,!1)})).apply(this,arguments)}function qn(w,f){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,a.Z)(function*(w,f,m=!1){const I=ar(w),Y=P(I,f),rt=yield new ac(I,Y,m).execute();return rt&&!m&&(delete rt.user._redirectEventId,yield I._persistUserIfCurrent(rt.user),yield I._setRedirectUser(null,f)),rt})).apply(this,arguments)}function Yn(w){return qs.apply(this,arguments)}function qs(){return(qs=(0,a.Z)(function*(w){const f=C(`${w.uid}:::`);return w._redirectEventId=f,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),f})).apply(this,arguments)}class ul{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(f,I)&&(m=!0,this.sendToConsumer(f,I),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Mi(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cl(w);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var I;if(f.error&&!cl(f)){const Y=(null===(I=f.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(Ce(this.auth,Y))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const I=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&I}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zs(f))}saveEventToCache(f){this.cachedEventUids.add(Zs(f)),this.lastProcessedEventTime=Date.now()}}function Zs(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(f=>f).join("-")}function cl({type:w,error:f}){return"unknown"===w&&"auth/no-auth-event"===f?.code}function dl(w){return hl.apply(this,arguments)}function hl(){return(hl=(0,a.Z)(function*(w,f={}){return Cn(w,"GET","/v1/projects",f)})).apply(this,arguments)}const Pa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,El=/^https?/;function Fu(){return(Fu=(0,a.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:f}=yield dl(w);for(const m of f)try{if(lc(m))return}catch{}ft(w,"unauthorized-domain")})).apply(this,arguments)}function lc(w){const f=Pt(),{protocol:m,hostname:I}=new URL(f);if(w.startsWith("chrome-extension://")){const rt=new URL(w);return""===rt.hostname&&""===I?"chrome-extension:"===m&&w.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&rt.hostname===I}if(!El.test(m))return!1;if(Pa.test(w))return I===w;const Y=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(I)}const Dd=new ln(3e4,6e4);function Fc(){const w=te().___jsl;if(w?.H)for(const f of Object.keys(w.H))if(w.H[f].r=w.H[f].r||[],w.H[f].L=w.H[f].L||[],w.H[f].r=[...w.H[f].L],w.CP)for(let m=0;m<w.CP.length;m++)w.CP[m]=null}let pu=null;function Ed(w){return pu=pu||function xo(w){return new Promise((f,m)=>{var I,Y,le;function rt(){Fc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Fc(),m(Ce(w,"network-request-failed"))},timeout:Dd.get()})}if(null!==(Y=null===(I=te().gapi)||void 0===I?void 0:I.iframes)&&void 0!==Y&&Y.Iframe)f(gapi.iframes.getContext());else{if(null===(le=te().gapi)||void 0===le||!le.load){const It=Sn("iframefcb");return te()[It]=()=>{gapi.load?rt():m(Ce(w,"network-request-failed"))},In(`https://apis.google.com/js/api.js?onload=${It}`).catch(nn=>m(nn))}rt()}}).catch(f=>{throw pu=null,f})}(w),pu}const Cd=new ln(5e3,15e3),Op={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Id=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ih(w){const f=w.config;ie(f.authDomain,w,"auth-domain-config-required");const m=f.emulator?Wt(f,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,I={apiKey:f.apiKey,appName:w.name,v:ge.SDK_VERSION},Y=Id.get(w.config.apiHost);Y&&(I.eid=Y);const le=w._getFrameworks();return le.length&&(I.fw=le.join(",")),`${m}?${(0,Q.xO)(I).slice(1)}`}function fl(){return fl=(0,a.Z)(function*(w){const f=yield Ed(w),m=te().gapi;return ie(m,w,"internal-error"),f.open({where:document.body,url:Ih(w),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Op,dontclear:!0},I=>new Promise(function(){var Y=(0,a.Z)(function*(le,rt){yield I.restyle({setHideOnLeave:!1});const It=Ce(w,"network-request-failed"),nn=te().setTimeout(()=>{rt(It)},Cd.get());function yn(){te().clearTimeout(nn),le(I)}I.ping(yn).then(yn,()=>{rt(It)})});return function(le,rt){return Y.apply(this,arguments)}}()))}),fl.apply(this,arguments)}const Sd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ul(w,f,m,I,Y,le){ie(w.config.authDomain,w,"auth-domain-config-required"),ie(w.config.apiKey,w,"invalid-api-key");const rt={apiKey:w.config.apiKey,appName:w.name,authType:m,redirectUrl:I,v:ge.SDK_VERSION,eventId:Y};if(f instanceof Ts){f.setDefaultLanguage(w.languageCode),rt.providerId=f.providerId||"",(0,Q.xb)(f.getCustomParameters())||(rt.customParameters=JSON.stringify(f.getCustomParameters()));for(const[nn,yn]of Object.entries(le||{}))rt[nn]=yn}if(f instanceof es){const nn=f.getScopes().filter(yn=>""!==yn);nn.length>0&&(rt.scopes=nn.join(","))}w.tenantId&&(rt.tid=w.tenantId);const It=rt;for(const nn of Object.keys(It))void 0===It[nn]&&delete It[nn];return`${function Ba({config:w}){return w.emulator?Wt(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,Q.xO)(It).slice(1)}`}const mu="webStorageSupport";class qa extends class Nd{constructor(f){this.factorId=f}_process(f,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,I);case"signin":return this._finalizeSignIn(f,m.credential);default:return Be("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new qa(f)}_finalizeEnroll(f,m,I){return function Xl(w,f){return Cn(w,"POST","/v2/accounts/mfaEnrollment:finalize",Rt(w,f))}(f,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function fr(w,f){return Cn(w,"POST","/v2/accounts/mfaSignIn:finalize",Rt(w,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Lu=(()=>{class w{constructor(){}static assertion(m){return qa._fromCredential(m)}}return w.FACTOR_ID="phone",w})();var Md="@firebase/auth";class Df{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,a.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(I=>{var Y;f((null===(Y=I)||void 0===Y?void 0:Y.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Tl(){return window}function jl(){return(jl=(0,a.Z)(function*(w,f,m){var I;const{BuildInfo:Y}=Tl();fe(f.sessionId,"AuthEvent did not contain a session ID");const le=yield $c(f.sessionId),rt={};return pe()?rt.ibi=Y.packageName:xr()?rt.apn=Y.packageName:ft(w,"operation-not-supported-in-this-environment"),Y.displayName&&(rt.appDisplayName=Y.displayName),rt.sessionId=le,Ul(w,m,f.type,void 0,null!==(I=f.eventId)&&void 0!==I?I:void 0,rt)})).apply(this,arguments)}function Bu(){return(Bu=(0,a.Z)(function*(w){const{BuildInfo:f}=Tl(),m={};pe()?m.iosBundleId=f.packageName:xr()?m.androidPackageName=f.packageName:ft(w,"operation-not-supported-in-this-environment"),yield dl(w,m)})).apply(this,arguments)}function pl(){return(pl=(0,a.Z)(function*(w,f,m){const{cordova:I}=Tl();let Y=()=>{};try{yield new Promise((le,rt)=>{let It=null;function nn(){var Xn;le();const $o=null===(Xn=I.plugins.browsertab)||void 0===Xn?void 0:Xn.close;"function"==typeof $o&&$o(),"function"==typeof m?.close&&m.close()}function yn(){It||(It=window.setTimeout(()=>{rt(Ce(w,"redirect-cancelled-by-user"))},2e3))}function Zn(){"visible"===document?.visibilityState&&yn()}f.addPassiveListener(nn),document.addEventListener("resume",yn,!1),xr()&&document.addEventListener("visibilitychange",Zn,!1),Y=()=>{f.removePassiveListener(nn),document.removeEventListener("resume",yn,!1),document.removeEventListener("visibilitychange",Zn,!1),It&&window.clearTimeout(It)}})}finally{Y()}})).apply(this,arguments)}function $c(w){return _u.apply(this,arguments)}function _u(){return(_u=(0,a.Z)(function*(w){const f=Ef(w),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(Y=>Y.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ef(w){if(fe(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const f=new ArrayBuffer(w.length),m=new Uint8Array(f);for(let I=0;I<w.length;I++)m[I]=w.charCodeAt(I);return m}!function Ys(w){(0,ge._registerComponent)(new je.wA("auth",(f,{options:m})=>{const I=f.getProvider("app").getImmediate(),Y=f.getProvider("heartbeat"),{apiKey:le,authDomain:rt}=I.options;return((It,nn)=>{ie(le&&!le.includes(":"),"invalid-api-key",{appName:It.name}),ie(!rt?.includes(":"),"argument-error",{appName:It.name});const yn={apiKey:le,authDomain:rt,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yr(w)},Zn=new En(It,nn,yn);return function Ot(w,f){const m=f?.persistence||[],I=(Array.isArray(m)?m:[m]).map(qe);f?.errorMap&&w._updateErrorMap(f.errorMap),w._initializeWithPersistence(I,f?.popupRedirectResolver)}(Zn,m),Zn})(I,Y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,I)=>{f.getProvider("auth-internal").initialize()})),(0,ge._registerComponent)(new je.wA("auth-internal",f=>{const m=ar(f.getProvider("auth").getImmediate());return new Df(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ge.registerVersion)(Md,"0.20.7",function Za(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,ge.registerVersion)(Md,"0.20.7","esm2017")}("Browser");class Bi extends ul{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,a.Z)(function*(){yield f.initPromise})()}}function Gc(w){return nu.apply(this,arguments)}function nu(){return(nu=(0,a.Z)(function*(w){const f=yield zc()._get(ru(w));return f&&(yield zc()._remove(ru(w))),f})).apply(this,arguments)}function Rd(){const w=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const I=Math.floor(Math.random()*f.length);w.push(f.charAt(I))}return w.join("")}function zc(){return qe(ba)}function ru(w){return kn("authEvent",w.config.apiKey,w.name)}function hc(w){if(!w?.includes("?"))return{};const[f,...m]=w.split("?");return(0,Q.zd)(m.join("?"))}function Ah(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function Qa(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function ya(w=(0,Q.z$)()){return!("file:"!==Qa()&&"ionic:"!==Qa()&&"capacitor:"!==Qa()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hl(){try{const w=self.localStorage,f=C();if(w)return w.setItem(f,"1"),w.removeItem(f),!function Ca(w=(0,Q.z$)()){return function vu(){return(0,Q.w1)()&&11===document?.documentMode}()||function Fd(w=(0,Q.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,Q.hl)()}catch{return $l()&&(0,Q.hl)()}return!1}function $l(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function iu(){return(function Cf(){return"http:"===Qa()||"https:"===Qa()}()||(0,Q.ru)()||ya())&&!function kd(){return(0,Q.b$)()||(0,Q.UG)()}()&&Hl()&&!$l()}function Ld(){return ya()&&typeof document<"u"}function ml(){return(ml=(0,a.Z)(function*(){return!!Ld()&&new Promise(w=>{const f=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),w(!0)})})})).apply(this,arguments)}const Ho={LOCAL:"local",NONE:"none",SESSION:"session"},Nl=ie,ju="persistence";function Hu(w){return $u.apply(this,arguments)}function $u(){return($u=(0,a.Z)(function*(w){yield w._initializationPromise;const f=Kc(),m=kn(ju,w.config.apiKey,w.name);f&&f.setItem(m,w._getPersistence())})).apply(this,arguments)}function Kc(){var w;try{return(null===(w=function fc(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const pc=ie;class Ha{constructor(){this.browserResolver=qe(class uc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qo,this._completeRedirectFn=qn,this._overrideRedirectResult=al}_openPopup(f,m,I,Y){var le=this;return(0,a.Z)(function*(){var rt;fe(null===(rt=le.eventManagers[f._key()])||void 0===rt?void 0:rt.manager,"_initialize() not called before _openPopup()");const It=Ul(f,m,I,Pt(),Y);return function Lc(w,f,m,I=500,Y=600){const le=Math.max((window.screen.availHeight-Y)/2,0).toString(),rt=Math.max((window.screen.availWidth-I)/2,0).toString();let It="";const nn=Object.assign(Object.assign({},Sd),{width:I.toString(),height:Y.toString(),top:le,left:rt}),yn=(0,Q.z$)().toLowerCase();m&&(It=zr(yn)?"_blank":m),Er(yn)&&(f=f||"http://localhost",nn.scrollbars="yes");const Zn=Object.entries(nn).reduce(($o,[Ja,Eu])=>`${$o}${Ja}=${Eu},`,"");if(function St(w=(0,Q.z$)()){var f;return pe(w)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(yn)&&"_self"!==It)return function Bc(w,f){const m=document.createElement("a");m.href=w,m.target=f;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(f||"",It),new Cl(null);const Xn=window.open(f||"",It,Zn);ie(Xn,w,"popup-blocked");try{Xn.focus()}catch{}return new Cl(Xn)}(f,It,C())})()}_openRedirect(f,m,I,Y){var le=this;return(0,a.Z)(function*(){return yield le._originValidation(f),function ne(w){te().location.href=w}(Ul(f,m,I,Pt(),Y)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:Y,promise:le}=this.eventManagers[m];return Y?Promise.resolve(Y):(fe(le,"If manager is not set, promise should be"),le)}const I=this.initAndGetManager(f);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(f){var m=this;return(0,a.Z)(function*(){const I=yield function Bl(w){return fl.apply(this,arguments)}(f),Y=new ul(f);return I.register("authEvent",le=>(ie(le?.authEvent,f,"invalid-auth-event"),{status:Y.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:Y},m.iframes[f._key()]=I,Y})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(mu,{type:mu},Y=>{var le;const rt=null===(le=Y?.[0])||void 0===le?void 0:le[mu];void 0!==rt&&m(!!rt),ft(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ll(w){return Fu.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Qt()||Cr()||pe()}}),this.cordovaResolver=qe(class Uu{constructor(){this._redirectPersistence=qo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qn,this._overrideRedirectResult=al}_initialize(f){var m=this;return(0,a.Z)(function*(){const I=f._key();let Y=m.eventManagers.get(I);return Y||(Y=new Bi(f),m.eventManagers.set(I,Y),m.attachCallbackListeners(f,Y)),Y})()}_openPopup(f){ft(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,I,Y){var le=this;return(0,a.Z)(function*(){!function Hc(w){var f,m,I,Y,le,rt,It,nn,yn,Zn;const Xn=Tl();ie("function"==typeof(null===(f=Xn?.universalLinks)||void 0===f?void 0:f.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(typeof(null===(m=Xn?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(le=null===(Y=null===(I=Xn?.cordova)||void 0===I?void 0:I.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===le?void 0:le.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(nn=null===(It=null===(rt=Xn?.cordova)||void 0===rt?void 0:rt.plugins)||void 0===It?void 0:It.browsertab)||void 0===nn?void 0:nn.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(Zn=null===(yn=Xn?.cordova)||void 0===yn?void 0:yn.InAppBrowser)||void 0===Zn?void 0:Zn.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const rt=yield le._initialize(f);yield rt.initialized(),rt.resetRedirect(),function ol(){sa.clear()}(),yield le._originValidation(f);const It=function gl(w,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:Rd(),postBody:null,tenantId:w.tenantId,error:Ce(w,"no-auth-event")}}(f,I,Y);yield function yu(w,f){return zc()._set(ru(w),f)}(f,It);const nn=yield function Od(w,f,m){return jl.apply(this,arguments)}(f,It,m),yn=yield function Uo(w){const{cordova:f}=Tl();return new Promise(m=>{f.plugins.browsertab.isAvailable(I=>{let Y=null;I?f.plugins.browsertab.openUrl(w):Y=f.InAppBrowser.open(w,function ct(w=(0,Q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),m(Y)})})}(nn);return function Sl(w,f,m){return pl.apply(this,arguments)}(f,rt,yn)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Il(w){return Bu.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:I,handleOpenURL:Y,BuildInfo:le}=Tl(),rt=setTimeout((0,a.Z)(function*(){yield Gc(f),m.onEvent(Ah())}),500),It=function(){var Zn=(0,a.Z)(function*(Xn){clearTimeout(rt);const $o=yield Gc(f);let Ja=null;$o&&Xn?.url&&(Ja=function Ya(w,f){var m,I;const Y=function dc(w){const f=hc(w),m=f.link?decodeURIComponent(f.link):void 0,I=hc(m).link,Y=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return hc(Y).link||Y||I||m||w}(f);if(Y.includes("/__/auth/callback")){const le=hc(Y),rt=le.firebaseError?function Al(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(le.firebaseError)):null,It=null===(I=null===(m=rt?.code)||void 0===m?void 0:m.split("auth/"))||void 0===I?void 0:I[1],nn=It?Ce(It):null;return nn?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:nn,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:Y,postBody:null}}return null}($o,Xn.url)),m.onEvent(Ja||Ah())});return function($o){return Zn.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,It);const nn=Y,yn=`${le.packageName.toLowerCase()}://`;Tl().handleOpenURL=function(){var Zn=(0,a.Z)(function*(Xn){if(Xn.toLowerCase().startsWith(yn)&&It({url:Xn}),"function"==typeof nn)try{nn(Xn)}catch($o){console.error($o)}});return function(Xn){return Zn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=qo,this._completeRedirectFn=qn,this._overrideRedirectResult=al}_initialize(f){var m=this;return(0,a.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,I,Y){var le=this;return(0,a.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openPopup(f,m,I,Y)})()}_openRedirect(f,m,I,Y){var le=this;return(0,a.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openRedirect(f,m,I,Y)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Ld()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,a.Z)(function*(){if(f.underlyingResolver)return;const m=yield function $r(){return ml.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Bd(w){return w.unwrap()}function zl(w){return Gu(w)}function Gu(w){const{_tokenResponse:f}=w instanceof Q.ZR?w.customData:w;if(!f)return null;if(!(w instanceof Q.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return E.credentialFromResult(w);const m=f.providerId;if(!m||"password"===m)return null;let I;switch(m){case"google.com":I=xs;break;case"facebook.com":I=ho;break;case"github.com":I=_o;break;case"twitter.com":I=ss;break;default:const{oauthIdToken:Y,oauthAccessToken:le,oauthTokenSecret:rt,pendingToken:It,nonce:nn}=f;return le||rt||Y||It?It?m.startsWith("saml.")?gs._create(m,It):ht._fromParams({providerId:m,signInMethod:m,pendingToken:It,idToken:Y,accessToken:le}):new Ms(m).credential({idToken:Y,accessToken:le,rawNonce:nn}):null}return w instanceof Q.ZR?I.credentialFromError(w):I.credentialFromResult(w)}function _i(w,f){return f.catch(m=>{throw m instanceof Q.ZR&&function Ml(w,f){var m,I;const Y=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(I=f)||void 0===I?void 0:I.code))f.resolver=new wu(w,function ls(w,f){var m;const I=(0,Q.m9)(w),Y=f;return ie(f.customData.operationType,I,"argument-error"),ie(null===(m=Y.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),ka._fromError(I,Y)}(w,f));else if(Y){const le=Gu(f),rt=f;le&&(rt.credential=le,rt.tenantId=Y.tenantId||void 0,rt.email=Y.email||void 0,rt.phoneNumber=Y.phoneNumber||void 0)}}(w,m),m}).then(m=>{const Y=m.user;return{operationType:m.operationType,credential:zl(m),additionalUserInfo:Pr(m),user:Bs.getOrCreate(Y)}})}function bu(w,f){return mc.apply(this,arguments)}function mc(){return(mc=(0,a.Z)(function*(w,f){const m=yield f;return{verificationId:m.verificationId,confirm:I=>_i(w,m.confirm(I))}})).apply(this,arguments)}class wu{constructor(f,m){this.resolver=m,this.auth=function gc(w){return w.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return _i(Bd(this.auth),this.resolver.resolveSignIn(f))}}class Bs{constructor(f){this._delegate=f,this.multiFactor=function il(w){const f=(0,Q.m9)(w);return rl.has(f)||rl.set(f,nl._fromUser(f)),rl.get(f)}(f)}static getOrCreate(f){return Bs.USER_MAP.has(f)||Bs.USER_MAP.set(f,new Bs(f)),Bs.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,a.Z)(function*(){return _i(m.auth,ua(m._delegate,f))})()}linkWithPhoneNumber(f,m){var I=this;return(0,a.Z)(function*(){return bu(I.auth,function ia(w,f,m){return mo.apply(this,arguments)}(I._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,a.Z)(function*(){return _i(m.auth,function $i(w,f,m){return Fs.apply(this,arguments)}(m._delegate,f,Ha))})()}linkWithRedirect(f){var m=this;return(0,a.Z)(function*(){return yield Hu(ar(m.auth)),function lt(w,f,m){return function bt(w,f,m){return Ht.apply(this,arguments)}(w,f,m)}(m._delegate,f,Ha)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,a.Z)(function*(){return _i(m.auth,po(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return bu(this.auth,function tu(w,f,m){return Vo.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return _i(this.auth,function _a(w,f,m){return No.apply(this,arguments)}(this._delegate,f,Ha))}reauthenticateWithRedirect(f){var m=this;return(0,a.Z)(function*(){return yield Hu(ar(m.auth)),function $(w,f,m){return function oe(w,f,m){return _e.apply(this,arguments)}(w,f,m)}(m._delegate,f,Ha)})()}sendEmailVerification(f){return function Is(w,f){return Si.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,a.Z)(function*(){return yield function Ki(w,f){return os.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function F(w,f){return j((0,Q.m9)(w),f,null)}(this._delegate,f)}updatePassword(f){return function J(w,f){return j((0,Q.m9)(w),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function T(w,f){return S.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ws(w,f){return fa.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function ii(w,f,m){return zs.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bs.USER_MAP=new WeakMap;const Du=ie;let Vd=(()=>{class w{constructor(m,I){if(this.app=m,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Y}=m.options;Du(Y,"invalid-api-key",{appName:m.name}),Du(Y,"invalid-api-key",{appName:m.name});const le=typeof window<"u"?Ha:void 0;this._delegate=I.initialize({options:{persistence:Ud(Y,m.name),popupRedirectResolver:le}}),this._delegate._updateErrorMap(nt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,I){!function uo(w,f,m){const I=ar(w);ie(I._canInitEmulator,I,"emulator-config-failed"),ie(/^https?:\/\//.test(f),I,"invalid-emulator-scheme");const Y=!!m?.disableWarnings,le=Xi(f),{host:rt,port:It}=function ti(w){const f=Xi(w),m=/(\/\/)?([^?#/]+)/.exec(w.substr(f.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(I);if(Y){const le=Y[1];return{host:le,port:hs(I.substr(le.length+1))}}{const[le,rt]=I.split(":");return{host:le,port:hs(rt)}}}(f);I.config.emulator={url:`${le}//${rt}${null===It?"":`:${It}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:rt,port:It,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function Gi(){function w(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,m,I)}applyActionCode(m){return function Z(w,f){return G.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ue(this._delegate,m)}confirmPasswordReset(m,I){return function da(w,f,m){return ha.apply(this,arguments)}(this._delegate,m,I)}createUserWithEmailAndPassword(m,I){var Y=this;return(0,a.Z)(function*(){return _i(Y._delegate,function R(w,f,m){return N.apply(this,arguments)}(Y._delegate,m,I))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Jr(w,f){return Ui.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Ln(w,f){return"EMAIL_SIGNIN"===Cs.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,a.Z)(function*(){Du(iu(),m._delegate,"operation-not-supported-in-this-environment");const I=yield function dn(w,f){return Bn.apply(this,arguments)}(m._delegate,Ha);return I?_i(m._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function jo(w,f){ar(w)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,I,Y){const{next:le,error:rt,complete:It}=ou(m,I,Y);return this._delegate.onAuthStateChanged(le,rt,It)}onIdTokenChanged(m,I,Y){const{next:le,error:rt,complete:It}=ou(m,I,Y);return this._delegate.onIdTokenChanged(le,rt,It)}sendSignInLinkToEmail(m,I){return function it(w,f,m){return Tt.apply(this,arguments)}(this._delegate,m,I)}sendPasswordResetEmail(m,I){return function ro(w,f,m){return Ii.apply(this,arguments)}(this._delegate,m,I||void 0)}setPersistence(m){var I=this;return(0,a.Z)(function*(){let Y;switch(function Gl(w,f){Nl(Object.values(Ho).includes(f),w,"invalid-persistence-type"),(0,Q.b$)()?Nl(f!==Ho.SESSION,w,"unsupported-persistence-type"):(0,Q.UG)()?Nl(f===Ho.NONE,w,"unsupported-persistence-type"):$l()?Nl(f===Ho.NONE||f===Ho.LOCAL&&(0,Q.hl)(),w,"unsupported-persistence-type"):Nl(f===Ho.NONE||Hl(),w,"unsupported-persistence-type")}(I._delegate,m),m){case Ho.SESSION:Y=qo;break;case Ho.LOCAL:Y=(yield qe(mn)._isAvailable())?mn:ba;break;case Ho.NONE:Y=nr;break;default:return ft("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(Y)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return _i(this._delegate,function $s(w){return pi.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return _i(this._delegate,jr(this._delegate,m))}signInWithCustomToken(m){return _i(this._delegate,function yo(w,f){return To.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,I){return _i(this._delegate,function X(w,f,m){return jr((0,Q.m9)(w),Ns.credential(f,m))}(this._delegate,m,I))}signInWithEmailLink(m,I){return _i(this._delegate,function Or(w,f,m){return Kr.apply(this,arguments)}(this._delegate,m,I))}signInWithPhoneNumber(m,I){return bu(this._delegate,function Dl(w,f,m){return Da.apply(this,arguments)}(this._delegate,m,I))}signInWithPopup(m){var I=this;return(0,a.Z)(function*(){return Du(iu(),I._delegate,"operation-not-supported-in-this-environment"),_i(I._delegate,function wn(w,f,m){return Jn.apply(this,arguments)}(I._delegate,m,Ha))})()}signInWithRedirect(m){var I=this;return(0,a.Z)(function*(){return Du(iu(),I._delegate,"operation-not-supported-in-this-environment"),yield Hu(I._delegate),function Ls(w,f,m){return function ll(w,f,m){return B.apply(this,arguments)}(w,f,m)}(I._delegate,m,Ha)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Xe(w,f){return O.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=Ho,w})();function ou(w,f,m){let I=w;"function"!=typeof w&&({next:I,error:f,complete:m}=w);const Y=I;return{next:rt=>Y(rt&&Bs.getOrCreate(rt)),error:f,complete:m}}function Ud(w,f){const m=function su(w,f){const m=Kc();if(!m)return[];const I=kn(ju,w,f);switch(m.getItem(I)){case Ho.NONE:return[nr];case Ho.LOCAL:return[mn,qo];case Ho.SESSION:return[qo];default:return[]}}(w,f);if(typeof self<"u"&&!m.includes(mn)&&m.push(mn),typeof window<"u")for(const I of[ba,qo])m.includes(I)||m.push(I);return m.includes(nr)||m.push(nr),m}class au{constructor(){this.providerId="phone",this._delegate=new E(Bd(k.Z.auth()))}static credential(f,m){return E.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}au.PHONE_SIGN_IN_METHOD=E.PHONE_SIGN_IN_METHOD,au.PROVIDER_ID=E.PROVIDER_ID;const qc=ie;class Zc{constructor(f,m,I=k.Z.app()){var Y;qc(null===(Y=I.options)||void 0===Y?void 0:Y.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new ns(f,m,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function lu(w){w.INTERNAL.registerComponent(new je.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),I=f.getProvider("auth");return new Vd(m,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ns,FacebookAuthProvider:ho,GithubAuthProvider:_o,GoogleAuthProvider:xs,OAuthProvider:Ms,SAMLAuthProvider:Rs,PhoneAuthProvider:au,PhoneMultiFactorGenerator:Lu,RecaptchaVerifier:Zc,TwitterAuthProvider:ss,Auth:Vd,AuthCredential:Ti,Error:Q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.2.20")}(k.Z)},1135:(Xt,st,V)=>{"use strict";V.d(st,{X:()=>k});var a=V(7579);class k extends a.x{constructor(ge){super(),this._value=ge}get value(){return this.getValue()}_subscribe(ge){const Oe=super._subscribe(ge);return!Oe.closed&&ge.next(this._value),Oe}getValue(){const{hasError:ge,thrownError:Oe,_value:be}=this;if(ge)throw Oe;return this._throwIfClosed(),be}next(ge){super.next(this._value=ge)}}},9751:(Xt,st,V)=>{"use strict";V.d(st,{y:()=>Ne});var a=V(930),k=V(727),Q=V(8822),ge=V(9635),Oe=V(2416),be=V(576),je=V(2806);let Ne=(()=>{class Pe{constructor(ot){ot&&(this._subscribe=ot)}lift(ot){const nt=new Pe;return nt.source=this,nt.operator=ot,nt}subscribe(ot,nt,At){const dt=function he(Pe){return Pe&&Pe instanceof a.Lv||function de(Pe){return Pe&&(0,be.m)(Pe.next)&&(0,be.m)(Pe.error)&&(0,be.m)(Pe.complete)}(Pe)&&(0,k.Nn)(Pe)}(ot)?ot:new a.Hp(ot,nt,At);return(0,je.x)(()=>{const{operator:ut,source:ze}=this;dt.add(ut?ut.call(dt,ze):ze?this._subscribe(dt):this._trySubscribe(dt))}),dt}_trySubscribe(ot){try{return this._subscribe(ot)}catch(nt){ot.error(nt)}}forEach(ot,nt){return new(nt=We(nt))((At,dt)=>{const ut=new a.Hp({next:ze=>{try{ot(ze)}catch(Gt){dt(Gt),ut.unsubscribe()}},error:dt,complete:At});this.subscribe(ut)})}_subscribe(ot){var nt;return null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(ot)}[Q.L](){return this}pipe(...ot){return(0,ge.U)(ot)(this)}toPromise(ot){return new(ot=We(ot))((nt,At)=>{let dt;this.subscribe(ut=>dt=ut,ut=>At(ut),()=>nt(dt))})}}return Pe.create=yt=>new Pe(yt),Pe})();function We(Pe){var yt;return null!==(yt=Pe??Oe.v.Promise)&&void 0!==yt?yt:Promise}},7579:(Xt,st,V)=>{"use strict";V.d(st,{x:()=>je});var a=V(9751),k=V(727);const ge=(0,V(3888).d)(We=>function(){We(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=V(8737),be=V(2806);let je=(()=>{class We extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const Pe=new Ne(this,this);return Pe.operator=he,Pe}_throwIfClosed(){if(this.closed)throw new ge}next(he){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Pe of this.currentObservers)Pe.next(he)}})}error(he){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:Pe}=this;for(;Pe.length;)Pe.shift().error(he)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:Pe,isStopped:yt,observers:ot}=this;return Pe||yt?k.Lc:(this.currentObservers=null,ot.push(he),new k.w0(()=>{this.currentObservers=null,(0,Oe.P)(ot,he)}))}_checkFinalizedStatuses(he){const{hasError:Pe,thrownError:yt,isStopped:ot}=this;Pe?he.error(yt):ot&&he.complete()}asObservable(){const he=new a.y;return he.source=this,he}}return We.create=(de,he)=>new Ne(de,he),We})();class Ne extends je{constructor(de,he){super(),this.destination=de,this.source=he}next(de){var he,Pe;null===(Pe=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===Pe||Pe.call(he,de)}error(de){var he,Pe;null===(Pe=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===Pe||Pe.call(he,de)}complete(){var de,he;null===(he=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===he||he.call(de)}_subscribe(de){var he,Pe;return null!==(Pe=null===(he=this.source)||void 0===he?void 0:he.subscribe(de))&&void 0!==Pe?Pe:k.Lc}}},930:(Xt,st,V)=>{"use strict";V.d(st,{Hp:()=>At,Lv:()=>Pe});var a=V(576),k=V(727),Q=V(2416),ge=V(7849),Oe=V(5032);const be=We("C",void 0,void 0);function We(ft,Ce,ke){return{kind:ft,value:Ce,error:ke}}var de=V(3410),he=V(2806);class Pe extends k.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,k.Nn)(Ce)&&Ce.add(this)):this.destination=Gt}static create(Ce,ke,me){return new At(Ce,ke,me)}next(Ce){this.isStopped?ze(function Ne(ft){return We("N",ft,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?ze(function je(ft){return We("E",void 0,ft)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?ze(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yt=Function.prototype.bind;function ot(ft,Ce){return yt.call(ft,Ce)}class nt{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Ce)}catch(me){dt(me)}}error(Ce){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Ce)}catch(me){dt(me)}else dt(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(ke){dt(ke)}}}class At extends Pe{constructor(Ce,ke,me){let Ae;if(super(),(0,a.m)(Ce)||!Ce)Ae={next:Ce??void 0,error:ke??void 0,complete:me??void 0};else{let ie;this&&Q.v.useDeprecatedNextContext?(ie=Object.create(Ce),ie.unsubscribe=()=>this.unsubscribe(),Ae={next:Ce.next&&ot(Ce.next,ie),error:Ce.error&&ot(Ce.error,ie),complete:Ce.complete&&ot(Ce.complete,ie)}):Ae=Ce}this.destination=new nt(Ae)}}function dt(ft){Q.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(ft):(0,ge.h)(ft)}function ze(ft,Ce){const{onStoppedNotification:ke}=Q.v;ke&&de.z.setTimeout(()=>ke(ft,Ce))}const Gt={closed:!0,next:Oe.Z,error:function ut(ft){throw ft},complete:Oe.Z}},727:(Xt,st,V)=>{"use strict";V.d(st,{Lc:()=>be,w0:()=>Oe,Nn:()=>je});var a=V(576);const Q=(0,V(3888).d)(We=>function(he){We(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((Pe,yt)=>`${yt+1}) ${Pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var ge=V(8737);class Oe{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const ot of he)ot.remove(this);else he.remove(this);const{initialTeardown:Pe}=this;if((0,a.m)(Pe))try{Pe()}catch(ot){de=ot instanceof Q?ot.errors:[ot]}const{_finalizers:yt}=this;if(yt){this._finalizers=null;for(const ot of yt)try{Ne(ot)}catch(nt){de=de??[],nt instanceof Q?de=[...de,...nt.errors]:de.push(nt)}}if(de)throw new Q(de)}}add(de){var he;if(de&&de!==this)if(this.closed)Ne(de);else{if(de instanceof Oe){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(de)}}_hasParent(de){const{_parentage:he}=this;return he===de||Array.isArray(he)&&he.includes(de)}_addParent(de){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(de),he):he?[he,de]:de}_removeParent(de){const{_parentage:he}=this;he===de?this._parentage=null:Array.isArray(he)&&(0,ge.P)(he,de)}remove(de){const{_finalizers:he}=this;he&&(0,ge.P)(he,de),de instanceof Oe&&de._removeParent(this)}}Oe.EMPTY=(()=>{const We=new Oe;return We.closed=!0,We})();const be=Oe.EMPTY;function je(We){return We instanceof Oe||We&&"closed"in We&&(0,a.m)(We.remove)&&(0,a.m)(We.add)&&(0,a.m)(We.unsubscribe)}function Ne(We){(0,a.m)(We)?We():We.unsubscribe()}},2416:(Xt,st,V)=>{"use strict";V.d(st,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Xt,st,V)=>{"use strict";V.d(st,{a:()=>de});var a=V(9751),k=V(4742),Q=V(8996),ge=V(4671),Oe=V(3268),be=V(3269),je=V(1810),Ne=V(5403),We=V(9672);function de(...yt){const ot=(0,be.yG)(yt),nt=(0,be.jO)(yt),{args:At,keys:dt}=(0,k.D)(yt);if(0===At.length)return(0,Q.D)([],ot);const ut=new a.y(function he(yt,ot,nt=ge.y){return At=>{Pe(ot,()=>{const{length:dt}=yt,ut=new Array(dt);let ze=dt,Gt=dt;for(let ft=0;ft<dt;ft++)Pe(ot,()=>{const Ce=(0,Q.D)(yt[ft],ot);let ke=!1;Ce.subscribe((0,Ne.x)(At,me=>{ut[ft]=me,ke||(ke=!0,Gt--),Gt||At.next(nt(ut.slice()))},()=>{--ze||At.complete()}))},At)},At)}}(At,ot,dt?ze=>(0,je.n)(dt,ze):ge.y));return nt?ut.pipe((0,Oe.Z)(nt)):ut}function Pe(yt,ot,nt){yt?(0,We.f)(nt,yt,ot):ot()}},7272:(Xt,st,V)=>{"use strict";V.d(st,{z:()=>Oe});var a=V(8189),Q=V(3269),ge=V(8996);function Oe(...be){return function k(){return(0,a.J)(1)}()((0,ge.D)(be,(0,Q.yG)(be)))}},515:(Xt,st,V)=>{"use strict";V.d(st,{E:()=>k});const k=new(V(9751).y)(Oe=>Oe.complete())},8996:(Xt,st,V)=>{"use strict";V.d(st,{D:()=>Ce});var a=V(8421),k=V(5363),Q=V(9468),be=V(9751),Ne=V(2202),We=V(576),de=V(9672);function Pe(ke,me){if(!ke)throw new Error("Iterable cannot be null");return new be.y(Ae=>{(0,de.f)(Ae,me,()=>{const ie=ke[Symbol.asyncIterator]();(0,de.f)(Ae,me,()=>{ie.next().then(Be=>{Be.done?Ae.complete():Ae.next(Be.value)})},0,!0)})})}var yt=V(3670),ot=V(8239),nt=V(1144),At=V(6495),dt=V(2206),ut=V(4532),ze=V(3260);function Ce(ke,me){return me?function ft(ke,me){if(null!=ke){if((0,yt.c)(ke))return function ge(ke,me){return(0,a.Xf)(ke).pipe((0,Q.R)(me),(0,k.Q)(me))}(ke,me);if((0,nt.z)(ke))return function je(ke,me){return new be.y(Ae=>{let ie=0;return me.schedule(function(){ie===ke.length?Ae.complete():(Ae.next(ke[ie++]),Ae.closed||this.schedule())})})}(ke,me);if((0,ot.t)(ke))return function Oe(ke,me){return(0,a.Xf)(ke).pipe((0,Q.R)(me),(0,k.Q)(me))}(ke,me);if((0,dt.D)(ke))return Pe(ke,me);if((0,At.T)(ke))return function he(ke,me){return new be.y(Ae=>{let ie;return(0,de.f)(Ae,me,()=>{ie=ke[Ne.h](),(0,de.f)(Ae,me,()=>{let Be,fe;try{({value:Be,done:fe}=ie.next())}catch(Fe){return void Ae.error(Fe)}fe?Ae.complete():Ae.next(Be)},0,!0)}),()=>(0,We.m)(ie?.return)&&ie.return()})}(ke,me);if((0,ze.L)(ke))return function Gt(ke,me){return Pe((0,ze.Q)(ke),me)}(ke,me)}throw(0,ut.z)(ke)}(ke,me):(0,a.Xf)(ke)}},8421:(Xt,st,V)=>{"use strict";V.d(st,{Xf:()=>yt});var a=V(655),k=V(1144),Q=V(8239),ge=V(9751),Oe=V(3670),be=V(2206),je=V(4532),Ne=V(6495),We=V(3260),de=V(576),he=V(7849),Pe=V(8822);function yt(ft){if(ft instanceof ge.y)return ft;if(null!=ft){if((0,Oe.c)(ft))return function ot(ft){return new ge.y(Ce=>{const ke=ft[Pe.L]();if((0,de.m)(ke.subscribe))return ke.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ft);if((0,k.z)(ft))return function nt(ft){return new ge.y(Ce=>{for(let ke=0;ke<ft.length&&!Ce.closed;ke++)Ce.next(ft[ke]);Ce.complete()})}(ft);if((0,Q.t)(ft))return function At(ft){return new ge.y(Ce=>{ft.then(ke=>{Ce.closed||(Ce.next(ke),Ce.complete())},ke=>Ce.error(ke)).then(null,he.h)})}(ft);if((0,be.D)(ft))return ut(ft);if((0,Ne.T)(ft))return function dt(ft){return new ge.y(Ce=>{for(const ke of ft)if(Ce.next(ke),Ce.closed)return;Ce.complete()})}(ft);if((0,We.L)(ft))return function ze(ft){return ut((0,We.Q)(ft))}(ft)}throw(0,je.z)(ft)}function ut(ft){return new ge.y(Ce=>{(function Gt(ft,Ce){var ke,me,Ae,ie;return(0,a.mG)(this,void 0,void 0,function*(){try{for(ke=(0,a.KL)(ft);!(me=yield ke.next()).done;)if(Ce.next(me.value),Ce.closed)return}catch(Be){Ae={error:Be}}finally{try{me&&!me.done&&(ie=ke.return)&&(yield ie.call(ke))}finally{if(Ae)throw Ae.error}}Ce.complete()})})(ft,Ce).catch(ke=>Ce.error(ke))})}},6451:(Xt,st,V)=>{"use strict";V.d(st,{T:()=>be});var a=V(8189),k=V(8421),Q=V(515),ge=V(3269),Oe=V(8996);function be(...je){const Ne=(0,ge.yG)(je),We=(0,ge._6)(je,1/0),de=je;return de.length?1===de.length?(0,k.Xf)(de[0]):(0,a.J)(We)((0,Oe.D)(de,Ne)):Q.E}},9646:(Xt,st,V)=>{"use strict";V.d(st,{of:()=>Q});var a=V(3269),k=V(8996);function Q(...ge){const Oe=(0,a.yG)(ge);return(0,k.D)(ge,Oe)}},5403:(Xt,st,V)=>{"use strict";V.d(st,{x:()=>k});var a=V(930);function k(ge,Oe,be,je,Ne){return new Q(ge,Oe,be,je,Ne)}class Q extends a.Lv{constructor(Oe,be,je,Ne,We,de){super(Oe),this.onFinalize=We,this.shouldUnsubscribe=de,this._next=be?function(he){try{be(he)}catch(Pe){Oe.error(Pe)}}:super._next,this._error=Ne?function(he){try{Ne(he)}catch(Pe){Oe.error(Pe)}finally{this.unsubscribe()}}:super._error,this._complete=je?function(){try{je()}catch(he){Oe.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(Oe=this.onFinalize)||void 0===Oe||Oe.call(this))}}}},6590:(Xt,st,V)=>{"use strict";V.d(st,{d:()=>Q});var a=V(4482),k=V(5403);function Q(ge){return(0,a.e)((Oe,be)=>{let je=!1;Oe.subscribe((0,k.x)(be,Ne=>{je=!0,be.next(Ne)},()=>{je||be.next(ge),be.complete()}))})}},1884:(Xt,st,V)=>{"use strict";V.d(st,{x:()=>ge});var a=V(4671),k=V(4482),Q=V(5403);function ge(be,je=a.y){return be=be??Oe,(0,k.e)((Ne,We)=>{let de,he=!0;Ne.subscribe((0,Q.x)(We,Pe=>{const yt=je(Pe);(he||!be(de,yt))&&(he=!1,de=yt,We.next(Pe))}))})}function Oe(be,je){return be===je}},9300:(Xt,st,V)=>{"use strict";V.d(st,{h:()=>Q});var a=V(4482),k=V(5403);function Q(ge,Oe){return(0,a.e)((be,je)=>{let Ne=0;be.subscribe((0,k.x)(je,We=>ge.call(Oe,We,Ne++)&&je.next(We)))})}},590:(Xt,st,V)=>{"use strict";V.d(st,{P:()=>je});var a=V(6805),k=V(9300),Q=V(5698),ge=V(6590),Oe=V(8068),be=V(4671);function je(Ne,We){const de=arguments.length>=2;return he=>he.pipe(Ne?(0,k.h)((Pe,yt)=>Ne(Pe,yt,he)):be.y,(0,Q.q)(1),de?(0,ge.d)(We):(0,Oe.T)(()=>new a.K))}},4004:(Xt,st,V)=>{"use strict";V.d(st,{U:()=>Q});var a=V(4482),k=V(5403);function Q(ge,Oe){return(0,a.e)((be,je)=>{let Ne=0;be.subscribe((0,k.x)(je,We=>{je.next(ge.call(Oe,We,Ne++))}))})}},9718:(Xt,st,V)=>{"use strict";V.d(st,{h:()=>k});var a=V(4004);function k(Q){return(0,a.U)(()=>Q)}},8189:(Xt,st,V)=>{"use strict";V.d(st,{J:()=>Q});var a=V(5577),k=V(4671);function Q(ge=1/0){return(0,a.z)(k.y,ge)}},5577:(Xt,st,V)=>{"use strict";V.d(st,{z:()=>Ne});var a=V(4004),k=V(8421),Q=V(4482),ge=V(9672),Oe=V(5403),je=V(576);function Ne(We,de,he=1/0){return(0,je.m)(de)?Ne((Pe,yt)=>(0,a.U)((ot,nt)=>de(Pe,ot,yt,nt))((0,k.Xf)(We(Pe,yt))),he):("number"==typeof de&&(he=de),(0,Q.e)((Pe,yt)=>function be(We,de,he,Pe,yt,ot,nt,At){const dt=[];let ut=0,ze=0,Gt=!1;const ft=()=>{Gt&&!dt.length&&!ut&&de.complete()},Ce=me=>ut<Pe?ke(me):dt.push(me),ke=me=>{ot&&de.next(me),ut++;let Ae=!1;(0,k.Xf)(he(me,ze++)).subscribe((0,Oe.x)(de,ie=>{yt?.(ie),ot?Ce(ie):de.next(ie)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(ut--;dt.length&&ut<Pe;){const ie=dt.shift();nt?(0,ge.f)(de,nt,()=>ke(ie)):ke(ie)}ft()}catch(ie){de.error(ie)}}))};return We.subscribe((0,Oe.x)(de,Ce,()=>{Gt=!0,ft()})),()=>{At?.()}}(Pe,yt,We,he)))}},5363:(Xt,st,V)=>{"use strict";V.d(st,{Q:()=>ge});var a=V(9672),k=V(4482),Q=V(5403);function ge(Oe,be=0){return(0,k.e)((je,Ne)=>{je.subscribe((0,Q.x)(Ne,We=>(0,a.f)(Ne,Oe,()=>Ne.next(We),be),()=>(0,a.f)(Ne,Oe,()=>Ne.complete(),be),We=>(0,a.f)(Ne,Oe,()=>Ne.error(We),be)))})}},5026:(Xt,st,V)=>{"use strict";V.d(st,{R:()=>ge});var a=V(4482),k=V(5403);function Q(Oe,be,je,Ne,We){return(de,he)=>{let Pe=je,yt=be,ot=0;de.subscribe((0,k.x)(he,nt=>{const At=ot++;yt=Pe?Oe(yt,nt,At):(Pe=!0,nt),Ne&&he.next(yt)},We&&(()=>{Pe&&he.next(yt),he.complete()})))}}function ge(Oe,be){return(0,a.e)(Q(Oe,be,arguments.length>=2,!0))}},3099:(Xt,st,V)=>{"use strict";V.d(st,{B:()=>Oe});var a=V(8421),k=V(7579),Q=V(930),ge=V(4482);function Oe(je={}){const{connector:Ne=(()=>new k.x),resetOnError:We=!0,resetOnComplete:de=!0,resetOnRefCountZero:he=!0}=je;return Pe=>{let yt,ot,nt,At=0,dt=!1,ut=!1;const ze=()=>{ot?.unsubscribe(),ot=void 0},Gt=()=>{ze(),yt=nt=void 0,dt=ut=!1},ft=()=>{const Ce=yt;Gt(),Ce?.unsubscribe()};return(0,ge.e)((Ce,ke)=>{At++,!ut&&!dt&&ze();const me=nt=nt??Ne();ke.add(()=>{At--,0===At&&!ut&&!dt&&(ot=be(ft,he))}),me.subscribe(ke),!yt&&At>0&&(yt=new Q.Hp({next:Ae=>me.next(Ae),error:Ae=>{ut=!0,ze(),ot=be(Gt,We,Ae),me.error(Ae)},complete:()=>{dt=!0,ze(),ot=be(Gt,de),me.complete()}}),(0,a.Xf)(Ce).subscribe(yt))})(Pe)}}function be(je,Ne,...We){if(!0===Ne)return void je();if(!1===Ne)return;const de=new Q.Hp({next:()=>{de.unsubscribe(),je()}});return Ne(...We).subscribe(de)}},8675:(Xt,st,V)=>{"use strict";V.d(st,{O:()=>ge});var a=V(7272),k=V(3269),Q=V(4482);function ge(...Oe){const be=(0,k.yG)(Oe);return(0,Q.e)((je,Ne)=>{(be?(0,a.z)(Oe,je,be):(0,a.z)(Oe,je)).subscribe(Ne)})}},9468:(Xt,st,V)=>{"use strict";V.d(st,{R:()=>k});var a=V(4482);function k(Q,ge=0){return(0,a.e)((Oe,be)=>{be.add(Q.schedule(()=>Oe.subscribe(be),ge))})}},3900:(Xt,st,V)=>{"use strict";V.d(st,{w:()=>ge});var a=V(8421),k=V(4482),Q=V(5403);function ge(Oe,be){return(0,k.e)((je,Ne)=>{let We=null,de=0,he=!1;const Pe=()=>he&&!We&&Ne.complete();je.subscribe((0,Q.x)(Ne,yt=>{We?.unsubscribe();let ot=0;const nt=de++;(0,a.Xf)(Oe(yt,nt)).subscribe(We=(0,Q.x)(Ne,At=>Ne.next(be?be(yt,At,nt,ot++):At),()=>{We=null,Pe()}))},()=>{he=!0,Pe()}))})}},5698:(Xt,st,V)=>{"use strict";V.d(st,{q:()=>ge});var a=V(515),k=V(4482),Q=V(5403);function ge(Oe){return Oe<=0?()=>a.E:(0,k.e)((be,je)=>{let Ne=0;be.subscribe((0,Q.x)(je,We=>{++Ne<=Oe&&(je.next(We),Oe<=Ne&&je.complete())}))})}},8505:(Xt,st,V)=>{"use strict";V.d(st,{b:()=>Oe});var a=V(576),k=V(4482),Q=V(5403),ge=V(4671);function Oe(be,je,Ne){const We=(0,a.m)(be)||je||Ne?{next:be,error:je,complete:Ne}:be;return We?(0,k.e)((de,he)=>{var Pe;null===(Pe=We.subscribe)||void 0===Pe||Pe.call(We);let yt=!0;de.subscribe((0,Q.x)(he,ot=>{var nt;null===(nt=We.next)||void 0===nt||nt.call(We,ot),he.next(ot)},()=>{var ot;yt=!1,null===(ot=We.complete)||void 0===ot||ot.call(We),he.complete()},ot=>{var nt;yt=!1,null===(nt=We.error)||void 0===nt||nt.call(We,ot),he.error(ot)},()=>{var ot,nt;yt&&(null===(ot=We.unsubscribe)||void 0===ot||ot.call(We)),null===(nt=We.finalize)||void 0===nt||nt.call(We)}))}):ge.y}},8068:(Xt,st,V)=>{"use strict";V.d(st,{T:()=>ge});var a=V(6805),k=V(4482),Q=V(5403);function ge(be=Oe){return(0,k.e)((je,Ne)=>{let We=!1;je.subscribe((0,Q.x)(Ne,de=>{We=!0,Ne.next(de)},()=>We?Ne.complete():Ne.error(be())))})}function Oe(){return new a.K}},4408:(Xt,st,V)=>{"use strict";V.d(st,{o:()=>Oe});var a=V(727);class k extends a.w0{constructor(je,Ne){super()}schedule(je,Ne=0){return this}}const Q={setInterval(be,je,...Ne){const{delegate:We}=Q;return We?.setInterval?We.setInterval(be,je,...Ne):setInterval(be,je,...Ne)},clearInterval(be){const{delegate:je}=Q;return(je?.clearInterval||clearInterval)(be)},delegate:void 0};var ge=V(8737);class Oe extends k{constructor(je,Ne){super(je,Ne),this.scheduler=je,this.work=Ne,this.pending=!1}schedule(je,Ne=0){if(this.closed)return this;this.state=je;const We=this.id,de=this.scheduler;return null!=We&&(this.id=this.recycleAsyncId(de,We,Ne)),this.pending=!0,this.delay=Ne,this.id=this.id||this.requestAsyncId(de,this.id,Ne),this}requestAsyncId(je,Ne,We=0){return Q.setInterval(je.flush.bind(je,this),We)}recycleAsyncId(je,Ne,We=0){if(null!=We&&this.delay===We&&!1===this.pending)return Ne;Q.clearInterval(Ne)}execute(je,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const We=this._execute(je,Ne);if(We)return We;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(je,Ne){let de,We=!1;try{this.work(je)}catch(he){We=!0,de=he||new Error("Scheduled action threw falsy error")}if(We)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:je,scheduler:Ne}=this,{actions:We}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(We,this),null!=je&&(this.id=this.recycleAsyncId(Ne,je,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xt,st,V)=>{"use strict";V.d(st,{v:()=>Q});var a=V(6063);class k{constructor(Oe,be=k.now){this.schedulerActionCtor=Oe,this.now=be}schedule(Oe,be=0,je){return new this.schedulerActionCtor(this,Oe).schedule(je,be)}}k.now=a.l.now;class Q extends k{constructor(Oe,be=k.now){super(Oe,be),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Oe){const{actions:be}=this;if(this._active)return void be.push(Oe);let je;this._active=!0;do{if(je=Oe.execute(Oe.state,Oe.delay))break}while(Oe=be.shift());if(this._active=!1,je){for(;Oe=be.shift();)Oe.unsubscribe();throw je}}}},4986:(Xt,st,V)=>{"use strict";V.d(st,{P:()=>ge,z:()=>Q});var a=V(4408);const Q=new(V(7565).v)(a.o),ge=Q},6063:(Xt,st,V)=>{"use strict";V.d(st,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(Xt,st,V)=>{"use strict";V.d(st,{z:()=>a});const a={setTimeout(k,Q,...ge){const{delegate:Oe}=a;return Oe?.setTimeout?Oe.setTimeout(k,Q,...ge):setTimeout(k,Q,...ge)},clearTimeout(k){const{delegate:Q}=a;return(Q?.clearTimeout||clearTimeout)(k)},delegate:void 0}},2202:(Xt,st,V)=>{"use strict";V.d(st,{h:()=>k});const k=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xt,st,V)=>{"use strict";V.d(st,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Xt,st,V)=>{"use strict";V.d(st,{K:()=>k});const k=(0,V(3888).d)(Q=>function(){Q(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Xt,st,V)=>{"use strict";V.d(st,{_6:()=>be,jO:()=>ge,yG:()=>Oe});var a=V(576),k=V(3532);function Q(je){return je[je.length-1]}function ge(je){return(0,a.m)(Q(je))?je.pop():void 0}function Oe(je){return(0,k.K)(Q(je))?je.pop():void 0}function be(je,Ne){return"number"==typeof Q(je)?je.pop():Ne}},4742:(Xt,st,V)=>{"use strict";V.d(st,{D:()=>Oe});const{isArray:a}=Array,{getPrototypeOf:k,prototype:Q,keys:ge}=Object;function Oe(je){if(1===je.length){const Ne=je[0];if(a(Ne))return{args:Ne,keys:null};if(function be(je){return je&&"object"==typeof je&&k(je)===Q}(Ne)){const We=ge(Ne);return{args:We.map(de=>Ne[de]),keys:We}}}return{args:je,keys:null}}},8737:(Xt,st,V)=>{"use strict";function a(k,Q){if(k){const ge=k.indexOf(Q);0<=ge&&k.splice(ge,1)}}V.d(st,{P:()=>a})},3888:(Xt,st,V)=>{"use strict";function a(k){const ge=k(Oe=>{Error.call(Oe),Oe.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}V.d(st,{d:()=>a})},1810:(Xt,st,V)=>{"use strict";function a(k,Q){return k.reduce((ge,Oe,be)=>(ge[Oe]=Q[be],ge),{})}V.d(st,{n:()=>a})},2806:(Xt,st,V)=>{"use strict";V.d(st,{O:()=>ge,x:()=>Q});var a=V(2416);let k=null;function Q(Oe){if(a.v.useDeprecatedSynchronousErrorHandling){const be=!k;if(be&&(k={errorThrown:!1,error:null}),Oe(),be){const{errorThrown:je,error:Ne}=k;if(k=null,je)throw Ne}}else Oe()}function ge(Oe){a.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=Oe)}},9672:(Xt,st,V)=>{"use strict";function a(k,Q,ge,Oe=0,be=!1){const je=Q.schedule(function(){ge(),be?k.add(this.schedule(null,Oe)):this.unsubscribe()},Oe);if(k.add(je),!be)return je}V.d(st,{f:()=>a})},4671:(Xt,st,V)=>{"use strict";function a(k){return k}V.d(st,{y:()=>a})},1144:(Xt,st,V)=>{"use strict";V.d(st,{z:()=>a});const a=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(Xt,st,V)=>{"use strict";V.d(st,{D:()=>k});var a=V(576);function k(Q){return Symbol.asyncIterator&&(0,a.m)(Q?.[Symbol.asyncIterator])}},576:(Xt,st,V)=>{"use strict";function a(k){return"function"==typeof k}V.d(st,{m:()=>a})},3670:(Xt,st,V)=>{"use strict";V.d(st,{c:()=>Q});var a=V(8822),k=V(576);function Q(ge){return(0,k.m)(ge[a.L])}},6495:(Xt,st,V)=>{"use strict";V.d(st,{T:()=>Q});var a=V(2202),k=V(576);function Q(ge){return(0,k.m)(ge?.[a.h])}},8239:(Xt,st,V)=>{"use strict";V.d(st,{t:()=>k});var a=V(576);function k(Q){return(0,a.m)(Q?.then)}},3260:(Xt,st,V)=>{"use strict";V.d(st,{L:()=>ge,Q:()=>Q});var a=V(655),k=V(576);function Q(Oe){return(0,a.FC)(this,arguments,function*(){const je=Oe.getReader();try{for(;;){const{value:Ne,done:We}=yield(0,a.qq)(je.read());if(We)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Ne)}}finally{je.releaseLock()}})}function ge(Oe){return(0,k.m)(Oe?.getReader)}},3532:(Xt,st,V)=>{"use strict";V.d(st,{K:()=>k});var a=V(576);function k(Q){return Q&&(0,a.m)(Q.schedule)}},4482:(Xt,st,V)=>{"use strict";V.d(st,{A:()=>k,e:()=>Q});var a=V(576);function k(ge){return(0,a.m)(ge?.lift)}function Q(ge){return Oe=>{if(k(Oe))return Oe.lift(function(be){try{return ge(be,this)}catch(je){this.error(je)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Xt,st,V)=>{"use strict";V.d(st,{Z:()=>ge});var a=V(4004);const{isArray:k}=Array;function ge(Oe){return(0,a.U)(be=>function Q(Oe,be){return k(be)?Oe(...be):Oe(be)}(Oe,be))}},5032:(Xt,st,V)=>{"use strict";function a(){}V.d(st,{Z:()=>a})},9635:(Xt,st,V)=>{"use strict";V.d(st,{U:()=>Q,z:()=>k});var a=V(4671);function k(...ge){return Q(ge)}function Q(ge){return 0===ge.length?a.y:1===ge.length?ge[0]:function(be){return ge.reduce((je,Ne)=>Ne(je),be)}}},7849:(Xt,st,V)=>{"use strict";V.d(st,{h:()=>Q});var a=V(2416),k=V(3410);function Q(ge){k.z.setTimeout(()=>{const{onUnhandledError:Oe}=a.v;if(!Oe)throw ge;Oe(ge)})}},4532:(Xt,st,V)=>{"use strict";function a(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(st,{z:()=>a})},655:(Xt,st,V)=>{"use strict";function ge(fe,Fe){var qe={};for(var Qe in fe)Object.prototype.hasOwnProperty.call(fe,Qe)&&Fe.indexOf(Qe)<0&&(qe[Qe]=fe[Qe]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Ot=0;for(Qe=Object.getOwnPropertySymbols(fe);Ot<Qe.length;Ot++)Fe.indexOf(Qe[Ot])<0&&Object.prototype.propertyIsEnumerable.call(fe,Qe[Ot])&&(qe[Qe[Ot]]=fe[Qe[Ot]])}return qe}function Ne(fe,Fe,qe,Qe){return new(qe||(qe=Promise))(function(Pt,jt){function Jt(ln){try{wt(Qe.next(ln))}catch(Wt){jt(Wt)}}function en(ln){try{wt(Qe.throw(ln))}catch(Wt){jt(Wt)}}function wt(ln){ln.done?Pt(ln.value):function Ot(Pt){return Pt instanceof qe?Pt:new qe(function(jt){jt(Pt)})}(ln.value).then(Jt,en)}wt((Qe=Qe.apply(fe,Fe||[])).next())})}function dt(fe){return this instanceof dt?(this.v=fe,this):new dt(fe)}function ut(fe,Fe,qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ot,Qe=qe.apply(fe,Fe||[]),Pt=[];return Ot={},jt("next"),jt("throw"),jt("return"),Ot[Symbol.asyncIterator]=function(){return this},Ot;function jt(Yt){Qe[Yt]&&(Ot[Yt]=function($t){return new Promise(function(bn,Rt){Pt.push([Yt,$t,bn,Rt])>1||Jt(Yt,$t)})})}function Jt(Yt,$t){try{!function en(Yt){Yt.value instanceof dt?Promise.resolve(Yt.value.v).then(wt,ln):Wt(Pt[0][2],Yt)}(Qe[Yt]($t))}catch(bn){Wt(Pt[0][3],bn)}}function wt(Yt){Jt("next",Yt)}function ln(Yt){Jt("throw",Yt)}function Wt(Yt,$t){Yt($t),Pt.shift(),Pt.length&&Jt(Pt[0][0],Pt[0][1])}}function Gt(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Fe=fe[Symbol.asyncIterator];return Fe?Fe.call(fe):(fe=function Pe(fe){var Fe="function"==typeof Symbol&&Symbol.iterator,qe=Fe&&fe[Fe],Qe=0;if(qe)return qe.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Qe>=fe.length&&(fe=void 0),{value:fe&&fe[Qe++],done:!fe}}};throw new TypeError(Fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),qe={},Qe("next"),Qe("throw"),Qe("return"),qe[Symbol.asyncIterator]=function(){return this},qe);function Qe(Pt){qe[Pt]=fe[Pt]&&function(jt){return new Promise(function(Jt,en){!function Ot(Pt,jt,Jt,en){Promise.resolve(en).then(function(wt){Pt({value:wt,done:Jt})},jt)}(Jt,en,(jt=fe[Pt](jt)).done,jt.value)})}}}V.d(st,{FC:()=>ut,KL:()=>Gt,_T:()=>ge,mG:()=>Ne,qq:()=>dt})},6895:(Xt,st,V)=>{"use strict";V.d(st,{Do:()=>Gt,EM:()=>Eo,H9:()=>Ms,HT:()=>Oe,JF:()=>Co,JJ:()=>Ts,K0:()=>je,Mx:()=>bs,NF:()=>la,O5:()=>Kn,PM:()=>Vi,S$:()=>dt,V_:()=>de,Ye:()=>ft,b0:()=>ze,bD:()=>Os,ez:()=>gs,gd:()=>lr,q:()=>Q,rS:()=>ni,sg:()=>zi,tP:()=>ps,w_:()=>be});var a=V(4650);let k=null;function Q(){return k}function Oe(F){k||(k=F)}class be{}const je=new a.OlP("DocumentToken");let Ne=(()=>{class F{historyGo(j){throw new Error("Not implemented")}}return F.\u0275fac=function(j){return new(j||F)},F.\u0275prov=a.Yz7({token:F,factory:function(){return function We(){return(0,a.LFG)(he)}()},providedIn:"platform"}),F})();const de=new a.OlP("Location Initialized");let he=(()=>{class F extends Ne{constructor(j){super(),this._doc=j,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(j){const se=Q().getGlobalEventTarget(this._doc,"window");return se.addEventListener("popstate",j,!1),()=>se.removeEventListener("popstate",j)}onHashChange(j){const se=Q().getGlobalEventTarget(this._doc,"window");return se.addEventListener("hashchange",j,!1),()=>se.removeEventListener("hashchange",j)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(j){this.location.pathname=j}pushState(j,se,xe){Pe()?this._history.pushState(j,se,xe):this.location.hash=xe}replaceState(j,se,xe){Pe()?this._history.replaceState(j,se,xe):this.location.hash=xe}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return F.\u0275fac=function(j){return new(j||F)(a.LFG(je))},F.\u0275prov=a.Yz7({token:F,factory:function(){return function yt(){return new he((0,a.LFG)(je))}()},providedIn:"platform"}),F})();function Pe(){return!!window.history.pushState}function ot(F,J){if(0==F.length)return J;if(0==J.length)return F;let j=0;return F.endsWith("/")&&j++,J.startsWith("/")&&j++,2==j?F+J.substring(1):1==j?F+J:F+"/"+J}function nt(F){const J=F.match(/#|\?|$/),j=J&&J.index||F.length;return F.slice(0,j-("/"===F[j-1]?1:0))+F.slice(j)}function At(F){return F&&"?"!==F[0]?"?"+F:F}let dt=(()=>{class F{historyGo(j){throw new Error("Not implemented")}}return F.\u0275fac=function(j){return new(j||F)},F.\u0275prov=a.Yz7({token:F,factory:function(){return(0,a.f3M)(ze)},providedIn:"root"}),F})();const ut=new a.OlP("appBaseHref");let ze=(()=>{class F extends dt{constructor(j,se){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=se??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return ot(this._baseHref,j)}path(j=!1){const se=this._platformLocation.pathname+At(this._platformLocation.search),xe=this._platformLocation.hash;return xe&&j?`${se}${xe}`:se}pushState(j,se,xe,pt){const Dt=this.prepareExternalUrl(xe+At(pt));this._platformLocation.pushState(j,se,Dt)}replaceState(j,se,xe,pt){const Dt=this.prepareExternalUrl(xe+At(pt));this._platformLocation.replaceState(j,se,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}}return F.\u0275fac=function(j){return new(j||F)(a.LFG(Ne),a.LFG(ut,8))},F.\u0275prov=a.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Gt=(()=>{class F extends dt{constructor(j,se){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=se&&(this._baseHref=se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let se=this._platformLocation.hash;return null==se&&(se="#"),se.length>0?se.substring(1):se}prepareExternalUrl(j){const se=ot(this._baseHref,j);return se.length>0?"#"+se:se}pushState(j,se,xe,pt){let Dt=this.prepareExternalUrl(xe+At(pt));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.pushState(j,se,Dt)}replaceState(j,se,xe,pt){let Dt=this.prepareExternalUrl(xe+At(pt));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.replaceState(j,se,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}}return F.\u0275fac=function(j){return new(j||F)(a.LFG(Ne),a.LFG(ut,8))},F.\u0275prov=a.Yz7({token:F,factory:F.\u0275fac}),F})(),ft=(()=>{class F{constructor(j){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const se=this._locationStrategy.getBaseHref();this._baseHref=nt(me(se)),this._locationStrategy.onPopState(xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:xe.state,type:xe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,se=""){return this.path()==this.normalize(j+At(se))}normalize(j){return F.stripTrailingSlash(function ke(F,J){return F&&J.startsWith(F)?J.substring(F.length):J}(this._baseHref,me(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,se="",xe=null){this._locationStrategy.pushState(xe,"",j,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+At(se)),xe)}replaceState(j,se="",xe=null){this._locationStrategy.replaceState(xe,"",j,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+At(se)),xe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(se=>{this._notifyUrlChangeListeners(se.url,se.state)})),()=>{const se=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(se,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",se){this._urlChangeListeners.forEach(xe=>xe(j,se))}subscribe(j,se,xe){return this._subject.subscribe({next:j,error:se,complete:xe})}}return F.normalizeQueryParams=At,F.joinWithSlash=ot,F.stripTrailingSlash=nt,F.\u0275fac=function(j){return new(j||F)(a.LFG(dt))},F.\u0275prov=a.Yz7({token:F,factory:function(){return function Ce(){return new ft((0,a.LFG)(dt))}()},providedIn:"root"}),F})();function me(F){return F.replace(/\/index.html$/,"")}const Ae={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ie=(()=>((ie=ie||{})[ie.Decimal=0]="Decimal",ie[ie.Percent=1]="Percent",ie[ie.Currency=2]="Currency",ie[ie.Scientific=3]="Scientific",ie))(),Qe=(()=>((Qe=Qe||{})[Qe.Decimal=0]="Decimal",Qe[Qe.Group=1]="Group",Qe[Qe.List=2]="List",Qe[Qe.PercentSign=3]="PercentSign",Qe[Qe.PlusSign=4]="PlusSign",Qe[Qe.MinusSign=5]="MinusSign",Qe[Qe.Exponential=6]="Exponential",Qe[Qe.SuperscriptingExponent=7]="SuperscriptingExponent",Qe[Qe.PerMille=8]="PerMille",Qe[Qe.Infinity=9]="Infinity",Qe[Qe.NaN=10]="NaN",Qe[Qe.TimeSeparator=11]="TimeSeparator",Qe[Qe.CurrencyDecimal=12]="CurrencyDecimal",Qe[Qe.CurrencyGroup=13]="CurrencyGroup",Qe))();function Rt(F,J){const j=(0,a.cg1)(F),se=j[a.wAp.NumberSymbols][J];if(typeof se>"u"){if(J===Qe.CurrencyDecimal)return j[a.wAp.NumberSymbols][Qe.Decimal];if(J===Qe.CurrencyGroup)return j[a.wAp.NumberSymbols][Qe.Group]}return se}function Cn(F,J){return(0,a.cg1)(F)[a.wAp.NumberFormats][J]}const ai=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Mn(F,J,j,se,xe,pt,Dt=!1){let hn="",qr=!1;if(isFinite(F)){let Qr=function uo(F){let se,xe,pt,Dt,hn,J=Math.abs(F)+"",j=0;for((xe=J.indexOf("."))>-1&&(J=J.replace(".","")),(pt=J.search(/e/i))>0?(xe<0&&(xe=pt),xe+=+J.slice(pt+1),J=J.substring(0,pt)):xe<0&&(xe=J.length),pt=0;"0"===J.charAt(pt);pt++);if(pt===(hn=J.length))se=[0],xe=1;else{for(hn--;"0"===J.charAt(hn);)hn--;for(xe-=pt,se=[],Dt=0;pt<=hn;pt++,Dt++)se[Dt]=Number(J.charAt(pt))}return xe>22&&(se=se.splice(0,21),j=xe-1,xe=1),{digits:se,exponent:j,integerLen:xe}}(F);Dt&&(Qr=function vi(F){if(0===F.digits[0])return F;const J=F.digits.length-F.integerLen;return F.exponent?F.exponent+=2:(0===J?F.digits.push(0,0):1===J&&F.digits.push(0),F.integerLen+=2),F}(Qr));let Rr=J.minInt,Pr=J.minFrac,as=J.maxFrac;if(pt){const pa=pt.match(ai);if(null===pa)throw new Error(`${pt} is not a valid digit info`);const Wo=pa[1],Io=pa[3],ji=pa[5];null!=Wo&&(Rr=ti(Wo)),null!=Io&&(Pr=ti(Io)),null!=ji?as=ti(ji):null!=Io&&Pr>as&&(as=Pr)}!function Xi(F,J,j){if(J>j)throw new Error(`The minimum number of digits after fraction (${J}) is higher than the maximum (${j}).`);let se=F.digits,xe=se.length-F.integerLen;const pt=Math.min(Math.max(J,xe),j);let Dt=pt+F.integerLen,hn=se[Dt];if(Dt>0){se.splice(Math.max(F.integerLen,Dt));for(let Pr=Dt;Pr<se.length;Pr++)se[Pr]=0}else{xe=Math.max(0,xe),F.integerLen=1,se.length=Math.max(1,Dt=pt+1),se[0]=0;for(let Pr=1;Pr<Dt;Pr++)se[Pr]=0}if(hn>=5)if(Dt-1<0){for(let Pr=0;Pr>Dt;Pr--)se.unshift(0),F.integerLen++;se.unshift(1),F.integerLen++}else se[Dt-1]++;for(;xe<Math.max(0,pt);xe++)se.push(0);let qr=0!==pt;const Qr=J+F.integerLen,Rr=se.reduceRight(function(Pr,as,si,Ai){return Ai[si]=(as+=Pr)<10?as:as-10,qr&&(0===Ai[si]&&si>=Qr?Ai.pop():qr=!1),as>=10?1:0},0);Rr&&(se.unshift(Rr),F.integerLen++)}(Qr,Pr,as);let si=Qr.digits,Ai=Qr.integerLen;const so=Qr.exponent;let Fo=[];for(qr=si.every(pa=>!pa);Ai<Rr;Ai++)si.unshift(0);for(;Ai<0;Ai++)si.unshift(0);Ai>0?Fo=si.splice(Ai,si.length):(Fo=si,si=[0]);const Lo=[];for(si.length>=J.lgSize&&Lo.unshift(si.splice(-J.lgSize,si.length).join(""));si.length>J.gSize;)Lo.unshift(si.splice(-J.gSize,si.length).join(""));si.length&&Lo.unshift(si.join("")),hn=Lo.join(Rt(j,se)),Fo.length&&(hn+=Rt(j,xe)+Fo.join("")),so&&(hn+=Rt(j,Qe.Exponential)+"+"+so)}else hn=Rt(j,Qe.Infinity);return hn=F<0&&!qr?J.negPre+hn+J.negSuf:J.posPre+hn+J.posSuf,hn}function ar(F,J="-"){const j={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},se=F.split(";"),xe=se[0],pt=se[1],Dt=-1!==xe.indexOf(".")?xe.split("."):[xe.substring(0,xe.lastIndexOf("0")+1),xe.substring(xe.lastIndexOf("0")+1)],hn=Dt[0],qr=Dt[1]||"";j.posPre=hn.substring(0,hn.indexOf("#"));for(let Rr=0;Rr<qr.length;Rr++){const Pr=qr.charAt(Rr);"0"===Pr?j.minFrac=j.maxFrac=Rr+1:"#"===Pr?j.maxFrac=Rr+1:j.posSuf+=Pr}const Qr=hn.split(",");if(j.gSize=Qr[1]?Qr[1].length:0,j.lgSize=Qr[2]||Qr[1]?(Qr[2]||Qr[1]).length:0,pt){const Rr=xe.length-j.posPre.length-j.posSuf.length,Pr=pt.indexOf("#");j.negPre=pt.substring(0,Pr).replace(/'/g,""),j.negSuf=pt.slice(Pr+Rr).replace(/'/g,"")}else j.negPre=J+j.posPre,j.negSuf=j.posSuf;return j}function ti(F){const J=parseInt(F);if(isNaN(J))throw new Error("Invalid integer literal when parsing "+F);return J}function bs(F,J){J=encodeURIComponent(J);for(const j of F.split(";")){const se=j.indexOf("="),[xe,pt]=-1==se?[j,""]:[j.slice(0,se),j.slice(se+1)];if(xe.trim()===J)return decodeURIComponent(pt)}return null}class Fi{constructor(J,j,se,xe){this.$implicit=J,this.ngForOf=j,this.index=se,this.count=xe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zi=(()=>{class F{constructor(j,se,xe){this._viewContainer=j,this._template=se,this._differs=xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const se=this._viewContainer;j.forEachOperation((xe,pt,Dt)=>{if(null==xe.previousIndex)se.createEmbeddedView(this._template,new Fi(xe.item,this._ngForOf,-1,-1),null===Dt?void 0:Dt);else if(null==Dt)se.remove(null===pt?void 0:pt);else if(null!==pt){const hn=se.get(pt);se.move(hn,Dt),fs(hn,xe)}});for(let xe=0,pt=se.length;xe<pt;xe++){const hn=se.get(xe).context;hn.index=xe,hn.count=pt,hn.ngForOf=this._ngForOf}j.forEachIdentityChange(xe=>{fs(se.get(xe.currentIndex),xe)})}static ngTemplateContextGuard(j,se){return!0}}return F.\u0275fac=function(j){return new(j||F)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},F.\u0275dir=a.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),F})();function fs(F,J){F.context.$implicit=J.item}let Kn=(()=>{class F{constructor(j,se){this._viewContainer=j,this._context=new js,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=se}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Ir("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Ir("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,se){return!0}}return F.\u0275fac=function(j){return new(j||F)(a.Y36(a.s_b),a.Y36(a.Rgc))},F.\u0275dir=a.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),F})();class js{constructor(){this.$implicit=null,this.ngIf=null}}function Ir(F,J){if(J&&!J.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,a.AaK)(J)}'.`)}let ps=(()=>{class F{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(j){if(j.ngTemplateOutlet||j.ngTemplateOutletInjector){const se=this._viewContainerRef;if(this._viewRef&&se.remove(se.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:xe,ngTemplateOutletContext:pt,ngTemplateOutletInjector:Dt}=this;this._viewRef=se.createEmbeddedView(xe,pt,Dt?{injector:Dt}:void 0)}else this._viewRef=null}else this._viewRef&&j.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return F.\u0275fac=function(j){return new(j||F)(a.Y36(a.s_b))},F.\u0275dir=a.lG2({type:F,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),F})();function ui(F,J){return new a.vHH(2100,!1)}const xn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let ni=(()=>{class F{transform(j){if(null==j)return null;if("string"!=typeof j)throw ui();return j.replace(xn,se=>se[0].toUpperCase()+se.slice(1).toLowerCase())}}return F.\u0275fac=function(j){return new(j||F)},F.\u0275pipe=a.Yjl({name:"titlecase",type:F,pure:!0,standalone:!0}),F})(),lr=(()=>{class F{transform(j){if(null==j)return null;if("string"!=typeof j)throw ui();return j.toUpperCase()}}return F.\u0275fac=function(j){return new(j||F)},F.\u0275pipe=a.Yjl({name:"uppercase",type:F,pure:!0,standalone:!0}),F})(),Ts=(()=>{class F{constructor(j){this._locale=j}transform(j,se,xe){if(!ho(j))return null;xe=xe||this._locale;try{return function En(F,J,j){return Mn(F,ar(Cn(J,ie.Decimal),Rt(J,Qe.MinusSign)),J,Qe.Group,Qe.Decimal,j)}(xs(j),xe,se)}catch(pt){throw ui()}}}return F.\u0275fac=function(j){return new(j||F)(a.Y36(a.soG,16))},F.\u0275pipe=a.Yjl({name:"number",type:F,pure:!0,standalone:!0}),F})(),Ms=(()=>{class F{constructor(j,se="USD"){this._locale=j,this._defaultCurrencyCode=se}transform(j,se=this._defaultCurrencyCode,xe="symbol",pt,Dt){if(!ho(j))return null;Dt=Dt||this._locale,"boolean"==typeof xe&&(xe=xe?"symbol":"code");let hn=se||this._defaultCurrencyCode;"code"!==xe&&(hn="symbol"===xe||"symbol-narrow"===xe?function Pn(F,J,j="en"){const se=function er(F){return(0,a.cg1)(F)[a.wAp.Currencies]}(j)[F]||Ae[F]||[],xe=se[1];return"narrow"===J&&"string"==typeof xe?xe:se[0]||F}(hn,"symbol"===xe?"wide":"narrow",Dt):xe);try{return function yr(F,J,j,se,xe){const Dt=ar(Cn(J,ie.Currency),Rt(J,Qe.MinusSign));return Dt.minFrac=function Ci(F){let J;const j=Ae[F];return j&&(J=j[2]),"number"==typeof J?J:2}(se),Dt.maxFrac=Dt.minFrac,Mn(F,Dt,J,Qe.CurrencyGroup,Qe.CurrencyDecimal,xe).replace("\xa4",j).replace("\xa4","").trim()}(xs(j),Dt,hn,se,pt)}catch(qr){throw ui()}}}return F.\u0275fac=function(j){return new(j||F)(a.Y36(a.soG,16),a.Y36(a.EJc,16))},F.\u0275pipe=a.Yjl({name:"currency",type:F,pure:!0,standalone:!0}),F})();function ho(F){return!(null==F||""===F||F!=F)}function xs(F){if("string"==typeof F&&!isNaN(Number(F)-parseFloat(F)))return Number(F);if("number"!=typeof F)throw new Error(`${F} is not a number`);return F}let gs=(()=>{class F{}return F.\u0275fac=function(j){return new(j||F)},F.\u0275mod=a.oAB({type:F}),F.\u0275inj=a.cJS({}),F})();const Os="browser";function la(F){return F===Os}function Vi(F){return"server"===F}let Eo=(()=>{class F{}return F.\u0275prov=(0,a.Yz7)({token:F,providedIn:"root",factory:()=>new fo((0,a.LFG)(je),window)}),F})();class fo{constructor(J,j){this.document=J,this.window=j,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const j=function Ki(F,J){const j=F.getElementById(J)||F.getElementsByName(J)[0];if(j)return j;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const se=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let xe=se.currentNode;for(;xe;){const pt=xe.shadowRoot;if(pt){const Dt=pt.getElementById(J)||pt.querySelector(`[name="${J}"]`);if(Dt)return Dt}xe=se.nextNode()}}return null}(this.document,J);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(J){if(this.supportScrollRestoration()){const j=this.window.history;j&&j.scrollRestoration&&(j.scrollRestoration=J)}}scrollToElement(J){const j=J.getBoundingClientRect(),se=j.left+this.window.pageXOffset,xe=j.top+this.window.pageYOffset,pt=this.offset();this.window.scrollTo(se-pt[0],xe-pt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const J=hr(this.window.history)||hr(Object.getPrototypeOf(this.window.history));return!(!J||!J.writable&&!J.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function hr(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class Co{}},4650:(Xt,st,V)=>{"use strict";V.d(st,{$8M:()=>fr,$Z:()=>jh,AFp:()=>Db,ALo:()=>j0,AaK:()=>Ne,AsE:()=>ff,BQk:()=>_h,CHM:()=>no,CRH:()=>J0,CZH:()=>ey,CqO:()=>wp,D6c:()=>NE,EJc:()=>GD,EpF:()=>Oc,F$t:()=>Rc,F4k:()=>Ug,FYo:()=>nn,FiY:()=>dn,G48:()=>dE,Gf:()=>Y0,GfV:()=>$o,Gpc:()=>he,Hsn:()=>Ou,Ikx:()=>mf,JOm:()=>an,KtG:()=>ro,LFG:()=>Ls,LMc:()=>xE,LSH:()=>mi,Lbi:()=>UD,Lck:()=>Bw,MAs:()=>xc,MGl:()=>hu,MMx:()=>uv,NdJ:()=>lf,OlP:()=>Mr,Oqu:()=>Qg,PXZ:()=>sE,Q6J:()=>ph,QGY:()=>bp,QP$:()=>zr,QbO:()=>jD,Qsj:()=>yn,QtT:()=>w0,R0b:()=>ku,RDi:()=>Ih,Rgc:()=>dm,SBq:()=>le,SDv:()=>b0,Sil:()=>WD,Suo:()=>Q0,TTD:()=>es,TgZ:()=>gh,Tol:()=>S_,Udp:()=>qg,VKq:()=>R0,W1O:()=>nb,WLB:()=>P0,X6Q:()=>cE,XFs:()=>xt,Xpm:()=>He,Xts:()=>Hl,Y36:()=>Tc,YKP:()=>C0,YNc:()=>af,Yjl:()=>An,Yz7:()=>$t,Z0I:()=>ei,ZZ4:()=>Pv,_Bn:()=>E0,_UZ:()=>Bg,_Vd:()=>m,_c5:()=>SE,_uU:()=>Yg,aQg:()=>kv,c2e:()=>HD,cJS:()=>Rt,cg1:()=>Ap,dDg:()=>tE,dqk:()=>ur,eFA:()=>kb,ekj:()=>rc,eoX:()=>Ob,f3M:()=>B,g9A:()=>Cb,h0i:()=>Np,hGG:()=>AE,hij:()=>Tp,iGM:()=>Z0,ifc:()=>un,ip1:()=>wb,jDz:()=>I0,kEZ:()=>k0,kL8:()=>W_,lG2:()=>kn,lcZ:()=>H0,lqb:()=>Ml,lri:()=>Mb,n5z:()=>Zo,oAB:()=>on,oxw:()=>g_,pQV:()=>rv,q4F:()=>Ja,qLn:()=>$d,qOj:()=>mp,qZA:()=>vp,rWj:()=>xb,s9C:()=>gd,sBO:()=>hE,sIi:()=>Nc,s_b:()=>Q_,soG:()=>ty,tb:()=>Tb,tp0:()=>qn,uIk:()=>yp,vHH:()=>nt,vpe:()=>kc,wAp:()=>br,xi3:()=>$0,xp6:()=>Gf,ynx:()=>mh,z2F:()=>ny,zSh:()=>pc,zs3:()=>ld});var a=V(7579),k=V(727),Q=V(9751),ge=V(6451),Oe=V(3099);function be(n){for(let r in n)if(n[r]===be)return r;throw Error("Could not find renamed property on target object.")}function je(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Ne(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ne).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function We(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const de=be({__forward_ref__:be});function he(n){return n.__forward_ref__=he,n.toString=function(){return Ne(this())},n}function Pe(n){return yt(n)?n():n}function yt(n){return"function"==typeof n&&n.hasOwnProperty(de)&&n.__forward_ref__===he}class nt extends Error{constructor(r,s){super(function At(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function dt(n){return"string"==typeof n?n:null==n?"":String(n)}function Ce(n,r){throw new nt(-201,!1)}function wt(n,r,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${r} <=Actual]`))}function $t(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Cn(n){return fn(n,Vr)||fn(n,Ar)}function ei(n){return null!==Cn(n)}function fn(n,r){return n.hasOwnProperty(r)?n[r]:null}function pr(n){return n&&(n.hasOwnProperty(Ur)||n.hasOwnProperty(di))?n[Ur]:null}const Vr=be({\u0275prov:be}),Ur=be({\u0275inj:be}),Ar=be({ngInjectableDef:be}),di=be({ngInjectorDef:be});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let rr;function ir(n){const r=rr;return rr=n,r}function Ci(n,r,s){const l=Cn(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&xt.Optional?null:void 0!==r?r:void Ce(Ne(n))}function mr(n){return{toString:n}.toString()}var Dr=(()=>((Dr=Dr||{})[Dr.OnPush=0]="OnPush",Dr[Dr.Default=1]="Default",Dr))(),un=(()=>{return(n=un||(un={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",un;var n})();const ur=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),cn={},Dn=[],Pi=be({\u0275cmp:be}),Vn=be({\u0275dir:be}),ds=be({\u0275pipe:be}),tr=be({\u0275mod:be}),Ke=be({\u0275fac:be}),Ge=be({__NG_ELEMENT_ID__:be});let Me=0;function He(n){return mr(()=>{const s=!0===n.standalone,l={},d={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Dr.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Dn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||un.Emulated,id:"c"+Me++,styles:n.styles||Dn,_:null,setInput:null,schemas:n.schemas||null,tView:null},g=n.dependencies,D=n.features;return d.inputs=nr(n.inputs,l),d.outputs=nr(n.outputs),D&&D.forEach(A=>A(d)),d.directiveDefs=g?()=>("function"==typeof g?g():g).map(Nt).filter(Kt):null,d.pipeDefs=g?()=>("function"==typeof g?g():g).map(Cr).filter(Kt):null,d})}function Nt(n){return Tn(n)||Er(n)}function Kt(n){return null!==n}function on(n){return mr(()=>({type:n.type,bootstrap:n.bootstrap||Dn,declarations:n.declarations||Dn,imports:n.imports||Dn,exports:n.exports||Dn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function nr(n,r){if(null==n)return cn;const s={};for(const l in n)if(n.hasOwnProperty(l)){let d=n[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),s[d]=l,r&&(r[d]=g)}return s}const kn=He;function An(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Tn(n){return n[Pi]||null}function Er(n){return n[Vn]||null}function Cr(n){return n[ds]||null}function zr(n){const r=Tn(n)||Er(n)||Cr(n);return null!==r&&r.standalone}function ai(n,r){const s=n[tr]||null;if(!s&&!0===r)throw new Error(`Type ${Ne(n)} does not have '\u0275mod' property.`);return s}function Ir(n){return Array.isArray(n)&&"object"==typeof n[1]}function li(n){return Array.isArray(n)&&!0===n[1]}function Hs(n){return 0!=(8&n.flags)}function As(n){return 2==(2&n.flags)}function hi(n){return 1==(1&n.flags)}function Wi(n){return null!==n.template}function is(n){return 0!=(256&n[2])}function Ns(n,r){return n.hasOwnProperty(Ke)?n[Ke]:null}class Ts{constructor(r,s,l){this.previousValue=r,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function es(){return Ms}function Ms(n){return n.type.prototype.ngOnChanges&&(n.setInput=xs),ho}function ho(){const n=Ro(this),r=n?.current;if(r){const s=n.previous;if(s===cn)n.previous=r;else for(let l in r)s[l]=r[l];n.current=null,this.ngOnChanges(r)}}function xs(n,r,s,l){const d=Ro(n)||function gs(n,r){return n[_o]=r}(n,{previous:cn,current:null}),g=d.current||(d.current={}),D=d.previous,A=this.declaredInputs[s],L=D[A];g[A]=new Ts(L&&L.currentValue,r,D===cn),n[l]=r}es.ngInherit=!0;const _o="__ngSimpleChanges__";function Ro(n){return n[_o]||null}function pi(n){for(;Array.isArray(n);)n=n[0];return n}function hr(n,r){return pi(r[n])}function Ki(n,r){return pi(r[n.index])}function Co(n,r){return n.data[r]}function Gs(n,r){return n[r]}function gr(n,r){const s=r[n];return Ir(s)?s:s[0]}function ms(n){return 64==(64&n[2])}function ts(n,r){return null==r?null:n[r]}function wi(n){n[18]=0}function jr(n,r){n[5]+=r;let s=n,l=n[3];for(;null!==l&&(1===r&&1===s[5]||-1===r&&0===s[5]);)l[5]+=r,s=l,l=l[3]}const On={lFrame:Ws(null),bindingsEnabled:!0};function go(){return On.bindingsEnabled}function Lt(){return On.lFrame.lView}function sr(){return On.lFrame.tView}function no(n){return On.lFrame.contextLView=n,n[8]}function ro(n){return On.lFrame.contextLView=null,n}function Ii(){let n=da();for(;null!==n&&64===n.type;)n=n.parent;return n}function da(){return On.lFrame.currentTNode}function ha(){const n=On.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function Z(n,r){const s=On.lFrame;s.currentTNode=n,s.isParent=r}function G(){return On.lFrame.isParent}function ue(){On.lFrame.isParent=!1}function N(){const n=On.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function X(){return On.lFrame.bindingIndex}function Tt(){return On.lFrame.bindingIndex++}function Ln(n){const r=On.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Kr(n){On.lFrame.inI18n=n}function gi(n,r){const s=On.lFrame;s.bindingIndex=s.bindingRootIndex=n,Jr(r)}function Jr(n){On.lFrame.currentDirectiveIndex=n}function Is(){return On.lFrame.currentQueryIndex}function Si(n){On.lFrame.currentQueryIndex=n}function ii(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function zs(n,r,s){if(s&xt.SkipSelf){let d=r,g=n;for(;!(d=d.parent,null!==d||s&xt.Host||(d=ii(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;r=d,n=g}const l=On.lFrame=na();return l.currentTNode=r,l.lView=n,!0}function io(n){const r=na(),s=n[1];On.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function na(){const n=On.lFrame,r=null===n?null:n.child;return null===r?Ws(n):r}function Ws(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function fa(){const n=On.lFrame;return On.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const F=fa;function J(){const n=fa();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function xe(){return On.lFrame.selectedIndex}function pt(n){On.lFrame.selectedIndex=n}function Dt(){const n=On.lFrame;return Co(n.tView,n.selectedIndex)}function si(n,r){for(let s=r.directiveStart,l=r.directiveEnd;s<l;s++){const g=n.data[s].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:A,ngAfterViewInit:L,ngAfterViewChecked:q,ngOnDestroy:ae}=g;D&&(n.contentHooks||(n.contentHooks=[])).push(-s,D),A&&((n.contentHooks||(n.contentHooks=[])).push(s,A),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,A)),L&&(n.viewHooks||(n.viewHooks=[])).push(-s,L),q&&((n.viewHooks||(n.viewHooks=[])).push(s,q),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,q)),null!=ae&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ae)}}function Ai(n,r,s){Lo(n,r,3,s)}function so(n,r,s,l){(3&n[2])===s&&Lo(n,r,s,l)}function Fo(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Lo(n,r,s,l){const g=l??-1,D=r.length-1;let A=0;for(let L=void 0!==l?65535&n[18]:0;L<D;L++)if("number"==typeof r[L+1]){if(A=r[L],null!=l&&A>=l)break}else r[L]<0&&(n[18]+=65536),(A<g||-1==g)&&(pa(n,s,r,L),n[18]=(4294901760&n[18])+L+2),L++}function pa(n,r,s,l){const d=s[l]<0,g=s[l+1],A=n[d?-s[l]:s[l]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{g.call(A)}finally{}}}else try{g.call(A)}finally{}}class Io{constructor(r,s,l){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function il(n,r,s){let l=0;for(;l<s.length;){const d=s[l];if("number"==typeof d){if(0!==d)break;l++;const g=s[l++],D=s[l++],A=s[l++];n.setAttribute(r,D,A,g)}else{const g=d,D=s[++l];vl(g)?n.setProperty(r,g,D):n.setAttribute(r,g,D),l++}}return l}function Ma(n){return 3===n||4===n||6===n}function vl(n){return 64===n.charCodeAt(0)}function xa(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let l=0;l<r.length;l++){const d=r[l];"number"==typeof d?s=d:0===s||bl(n,s,d,null,-1===s||2===s?r[++l]:null)}}return n}function bl(n,r,s,l,d){let g=0,D=n.length;if(-1===r)D=-1;else for(;g<n.length;){const A=n[g++];if("number"==typeof A){if(A===r){D=-1;break}if(A>r){D=g-1;break}}}for(;g<n.length;){const A=n[g];if("number"==typeof A)break;if(A===s){if(null===l)return void(null!==d&&(n[g+1]=d));if(l===n[g+1])return void(n[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==D&&(n.splice(D,0,r),g=D+1),n.splice(g++,0,s),null!==l&&n.splice(g++,0,l),null!==d&&n.splice(g++,0,d)}function wl(n){return-1!==n}function ri(n){return 32767&n}function Ko(n,r){let s=function ba(n){return n>>16}(n),l=r;for(;s>0;)l=l[15],s--;return l}let qo=!0;function W(n){const r=qo;return qo=n,r}let te=0;const ne={};function $e(n,r){const s=Te(n,r);if(-1!==s)return s;const l=r[1];l.firstCreatePass&&(n.injectorIndex=r.length,Le(l.data,n),Le(r,null),Le(l.blueprint,null));const d=at(n,r),g=n.injectorIndex;if(wl(d)){const D=ri(d),A=Ko(d,r),L=A[1].data;for(let q=0;q<8;q++)r[g+q]=A[D+q]|L[D+q]}return r[g+8]=d,g}function Le(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Te(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function at(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,d=r;for(;null!==d;){if(l=Yo(d),null===l)return-1;if(s++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function zt(n,r,s){!function we(n,r,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Ge)&&(l=s[Ge]),null==l&&(l=s[Ge]=te++);const d=255&l;r.data[n+(d>>5)]|=1<<d}(n,r,s)}function Hn(n,r,s){if(s&xt.Optional||void 0!==n)return n;Ce()}function Un(n,r,s,l){if(s&xt.Optional&&void 0===l&&(l=null),0==(s&(xt.Self|xt.Host))){const d=n[9],g=ir(void 0);try{return d?d.get(r,l,s&xt.Optional):Ci(r,l,s&xt.Optional)}finally{ir(g)}}return Hn(l,0,s)}function zn(n,r,s,l=xt.Default,d){if(null!==n){if(1024&r[2]){const D=function mn(n,r,s,l,d){let g=n,D=r;for(;null!==g&&null!==D&&1024&D[2]&&!(256&D[2]);){const A=oi(g,D,s,l|xt.Self,ne);if(A!==ne)return A;let L=g.parent;if(!L){const q=D[21];if(q){const ae=q.get(s,ne,l);if(ae!==ne)return ae}L=Yo(D),D=D[15]}g=L}return d}(n,r,s,l,ne);if(D!==ne)return D}const g=oi(n,r,s,l,ne);if(g!==ne)return g}return Un(r,s,l,d)}function oi(n,r,s,l,d){const g=function Ps(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Ge)?n[Ge]:void 0;return"number"==typeof r?r>=0?255&r:vo:r}(s);if("function"==typeof g){if(!zs(r,n,l))return l&xt.Host?Hn(d,0,l):Un(r,s,l,d);try{const D=g(l);if(null!=D||l&xt.Optional)return D;Ce()}finally{F()}}else if("number"==typeof g){let D=null,A=Te(n,r),L=-1,q=l&xt.Host?r[16][6]:null;for((-1===A||l&xt.SkipSelf)&&(L=-1===A?at(n,r):r[A+8],-1!==L&&ks(l,!1)?(D=r[1],A=ri(L),r=Ko(L,r)):A=-1);-1!==A;){const ae=r[1];if(ra(g,A,ae.data)){const ve=Di(A,r,s,D,l,q);if(ve!==ne)return ve}L=r[A+8],-1!==L&&ks(l,r[1].data[A+8]===q)&&ra(g,A,r)?(D=ae,A=ri(L),r=Ko(L,r)):A=-1}}return d}function Di(n,r,s,l,d,g){const D=r[1],A=D.data[n+8],ae=Sr(A,D,s,null==l?As(A)&&qo:l!=D&&0!=(3&A.type),d&xt.Host&&g===A);return null!==ae?Ni(r,D,ae,A):ne}function Sr(n,r,s,l,d){const g=n.providerIndexes,D=r.data,A=1048575&g,L=n.directiveStart,ae=g>>20,et=d?A+ae:n.directiveEnd;for(let gt=l?A:A+ae;gt<et;gt++){const Bt=D[gt];if(gt<L&&s===Bt||gt>=L&&Bt.type===s)return gt}if(d){const gt=D[L];if(gt&&Wi(gt)&&gt.type===s)return L}return null}function Ni(n,r,s,l){let d=n[s];const g=r.data;if(function ji(n){return n instanceof Io}(d)){const D=d;D.resolving&&function ze(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new nt(-200,`Circular dependency in DI detected for ${n}${s}`)}(function ut(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():dt(n)}(g[s]));const A=W(D.canSeeViewProviders);D.resolving=!0;const L=D.injectImpl?ir(D.injectImpl):null;zs(n,l,xt.Default);try{d=n[s]=D.factory(void 0,g,n,l),r.firstCreatePass&&s>=l.directiveStart&&function as(n,r,s){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=r.type.prototype;if(l){const D=Ms(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,D),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,D)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,d),g&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,g))}(s,g[s],r)}finally{null!==L&&ir(L),W(A),D.resolving=!1,F()}}return d}function ra(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function ks(n,r){return!(n&xt.Self||n&xt.Host&&r)}class _n{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,l){return zn(this._tNode,this._lView,r,l,s)}}function vo(){return new _n(Ii(),Lt())}function Zo(n){return mr(()=>{const r=n.prototype.constructor,s=r[Ke]||kr(r),l=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==l;){const g=d[Ke]||kr(d);if(g&&g!==s)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function kr(n){return yt(n)?()=>{const r=kr(Pe(n));return r&&r()}:Ns(n)}function Yo(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function fr(n){return function Nr(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const l=s.length;let d=0;for(;d<l;){const g=s[d];if(Ma(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof s[d];)d++;else{if(g===r)return s[d+1];d+=2}}}return null}(Ii(),n)}const Hr="__parameters__";function Qn(n,r,s){return mr(()=>{const l=function Sn(n){return function(...s){if(n){const l=n(...s);for(const d in l)this[d]=l[d]}}}(r);function d(...g){if(this instanceof d)return l.apply(this,g),this;const D=new d(...g);return A.annotation=D,A;function A(L,q,ae){const ve=L.hasOwnProperty(Hr)?L[Hr]:Object.defineProperty(L,Hr,{value:[]})[Hr];for(;ve.length<=ae;)ve.push(null);return(ve[ae]=ve[ae]||[]).push(D),L}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class Mr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=$t({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ia(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?(r===n&&(r=n.slice(0,s)),ia(l,r)):r!==n&&r.push(l)}return r}function mo(n,r){n.forEach(s=>Array.isArray(s)?mo(s,r):r(s))}function tu(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Vo(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Ka(n,r){const s=[];for(let l=0;l<n;l++)s.push(r);return s}function re(n,r,s){let l=De(n,r);return l>=0?n[1|l]=s:(l=~l,function S(n,r,s,l){let d=n.length;if(d==r)n.push(s,l);else if(1===d)n.push(l,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>r;)n[d]=n[d-2],d--;n[r]=s,n[r+1]=l}}(n,l,r,s)),l}function ye(n,r){const s=De(n,r);if(s>=0)return n[1|s]}function De(n,r){return function tn(n,r,s){let l=0,d=n.length>>s;for(;d!==l;){const g=l+(d-l>>1),D=n[g<<s];if(r===D)return g<<s;D>r?d=g:l=g+1}return~(d<<s)}(n,r,1)}const sa={},ac="__NG_DI_FLAG__",La="ngTempTokenPath",Fl=/\n/gm,ol="__source";let al;function Ea(n){const r=al;return al=n,r}function ja(n,r=xt.Default){if(void 0===al)throw new nt(-203,!1);return null===al?Ci(n,void 0,r):al.get(n,r&xt.Optional?null:void 0,r)}function Ls(n,r=xt.Default){return(function Pn(){return rr}()||ja)(Pe(n),r)}function B(n,r=xt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Ls(n,r)}function $(n){const r=[];for(let s=0;s<n.length;s++){const l=Pe(n[s]);if(Array.isArray(l)){if(0===l.length)throw new nt(900,!1);let d,g=xt.Default;for(let D=0;D<l.length;D++){const A=l[D],L=_e(A);"number"==typeof L?-1===L?d=A.token:g|=L:d=A}r.push(Ls(d,g))}else r.push(Ls(l))}return r}function oe(n,r){return n[ac]=r,n.prototype[ac]=r,n}function _e(n){return n[ac]}const dn=oe(Qn("Optional"),8),qn=oe(Qn("SkipSelf"),4);let Id,fl;function Ih(n){Id=n}function gu(n){return function Sd(){if(void 0===fl&&(fl=null,ur.trustedTypes))try{fl=ur.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return fl}()?.createHTML(n)||n}class Ul{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function qa(n){return n instanceof Ul?n.changingThisBreaksApplicationSecurity:n}class jc{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(gu(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class Od{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const l=this.inertDocument.createElement("body");s.appendChild(l)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=gu(r),s;const l=this.inertDocument.createElement("body");return l.innerHTML=gu(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(r){const s=r.attributes;for(let d=s.length-1;0<d;d--){const D=s.item(d).name;("xmlns:ns1"===D||0===D.indexOf("ns1:"))&&r.removeAttribute(D)}let l=r.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Il=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Bu(n){return(n=String(n)).match(Il)?n:"unsafe:"+n}function Uo(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Sl(...n){const r={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(r[l]=!0);return r}const pl=Uo("area,br,col,hr,img,wbr"),Hc=Uo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$c=Uo("rp,rt"),Bi=Sl(pl,Sl(Hc,Uo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sl($c,Uo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sl($c,Hc)),gl=Uo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nu=Sl(gl,Uo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Uo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var bo=(()=>((bo=bo||{})[bo.NONE=0]="NONE",bo[bo.HTML=1]="HTML",bo[bo.STYLE=2]="STYLE",bo[bo.SCRIPT=3]="SCRIPT",bo[bo.URL=4]="URL",bo[bo.RESOURCE_URL=5]="RESOURCE_URL",bo))();function mi(n){const r=function Ca(){const n=Lt();return n&&n[12]}();return r?r.sanitize(bo.URL,n)||"":function Lu(n,r){const s=function Md(n){return n instanceof Ul&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?qa(n):Bu(dt(n))}const Hl=new Mr("ENVIRONMENT_INITIALIZER"),$l=new Mr("INJECTOR",-1),iu=new Mr("INJECTOR_DEF_TYPES");class Ld{get(r,s=sa){if(s===sa){const l=new Error(`NullInjectorError: No provider for ${Ne(r)}!`);throw l.name="NullInjectorError",l}return s}}function $r(...n){return{\u0275providers:ml(0,n)}}function ml(n,...r){const s=[],l=new Set;let d;return mo(r,g=>{const D=g;Ho(D,s,[],l)&&(d||(d=[]),d.push(D))}),void 0!==d&&fc(d,s),s}function fc(n,r){for(let s=0;s<n.length;s++){const{providers:d}=n[s];mo(d,g=>{r.push(g)})}}function Ho(n,r,s,l){if(!(n=Pe(n)))return!1;let d=null,g=pr(n);const D=!g&&Tn(n);if(g||D){if(D&&!D.standalone)return!1;d=n}else{const L=n.ngModule;if(g=pr(L),!g)return!1;d=L}const A=l.has(d);if(D){if(A)return!1;if(l.add(d),D.dependencies){const L="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const q of L)Ho(q,r,s,l)}}else{if(!g)return!1;{if(null!=g.imports&&!A){let q;l.add(d);try{mo(g.imports,ae=>{Ho(ae,r,s,l)&&(q||(q=[]),q.push(ae))})}finally{}void 0!==q&&fc(q,r)}if(!A){const q=Ns(d)||(()=>new d);r.push({provide:d,useFactory:q,deps:Dn},{provide:iu,useValue:d,multi:!0},{provide:Hl,useValue:()=>Ls(d),multi:!0})}const L=g.providers;null==L||A||mo(L,ae=>{r.push(ae)})}}return d!==n&&void 0!==n.providers}const ju=be({provide:String,useValue:be});function Gl(n){return null!==n&&"object"==typeof n&&ju in n}function su(n){return"function"==typeof n}const pc=new Mr("Set Injector scope."),Ha={},Bd={};let gc;function zl(){return void 0===gc&&(gc=new Ld),gc}class Ml{}class Gu extends Ml{constructor(r,s,l,d){super(),this.parent=s,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,au(r,D=>this.processProvider(D)),this.records.set($l,Bs(void 0,this)),d.has("environment")&&this.records.set(Ml,Bs(void 0,this));const g=this.records.get(pc);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(iu.multi,Dn,xt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Ea(this),l=ir(void 0);try{return r()}finally{Ea(s),ir(l)}}get(r,s=sa,l=xt.Default){this.assertNotDestroyed();const d=Ea(this),g=ir(void 0);try{if(!(l&xt.SkipSelf)){let A=this.records.get(r);if(void 0===A){const L=function ou(n){return"function"==typeof n||"object"==typeof n&&n instanceof Mr}(r)&&Cn(r);A=L&&this.injectableDefInScope(L)?Bs(_i(r),Ha):null,this.records.set(r,A)}if(null!=A)return this.hydrate(r,A)}return(l&xt.Self?zl():this.parent).get(r,s=l&xt.Optional&&s===sa?null:s)}catch(D){if("NullInjectorError"===D.name){if((D[La]=D[La]||[]).unshift(Ne(r)),d)throw D;return function lt(n,r,s,l){const d=n[La];throw r[ol]&&d.unshift(r[ol]),n.message=function bt(n,r,s,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let d=Ne(r);if(Array.isArray(r))d=r.map(Ne).join(" -> ");else if("object"==typeof r){let g=[];for(let D in r)if(r.hasOwnProperty(D)){let A=r[D];g.push(D+":"+("string"==typeof A?JSON.stringify(A):Ne(A)))}d=`{${g.join(", ")}}`}return`${s}${l?"("+l+")":""}[${d}]: ${n.replace(Fl,"\n  ")}`}("\n"+n.message,d,s,l),n.ngTokenPath=d,n[La]=null,n}(D,r,"R3InjectorError",this.source)}throw D}finally{ir(g),Ea(d)}}resolveInjectorInitializers(){const r=Ea(this),s=ir(void 0);try{const l=this.get(Hl.multi,Dn,xt.Self);for(const d of l)d()}finally{Ea(r),ir(s)}}toString(){const r=[],s=this.records;for(const l of s.keys())r.push(Ne(l));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processProvider(r){let s=su(r=Pe(r))?r:Pe(r&&r.provide);const l=function mc(n){return Gl(n)?Bs(void 0,n.useValue):Bs(wu(n),Ha)}(r);if(su(r)||!0!==r.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=Bs(void 0,Ha,!0),d.factory=()=>$(d.multi),this.records.set(s,d)),s=r,d.multi.push(r)}this.records.set(s,l)}hydrate(r,s){return s.value===Ha&&(s.value=Bd,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Vd(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Pe(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function _i(n){const r=Cn(n),s=null!==r?r.factory:Ns(n);if(null!==s)return s;if(n instanceof Mr)throw new nt(204,!1);if(n instanceof Function)return function bu(n){const r=n.length;if(r>0)throw Ka(r,"?"),new nt(204,!1);const s=function Rn(n){const r=n&&(n[Vr]||n[Ar]);if(r){const s=function er(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new nt(204,!1)}function wu(n,r,s){let l;if(su(n)){const d=Pe(n);return Ns(d)||_i(d)}if(Gl(n))l=()=>Pe(n.useValue);else if(function $u(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...$(n.deps||[]));else if(function Hu(n){return!(!n||!n.useExisting)}(n))l=()=>Ls(Pe(n.useExisting));else{const d=Pe(n&&(n.useClass||n.provide));if(!function Du(n){return!!n.deps}(n))return Ns(d)||_i(d);l=()=>new d(...$(n.deps))}return l}function Bs(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Ud(n){return!!n.\u0275providers}function au(n,r){for(const s of n)Array.isArray(s)?au(s,r):Ud(s)?au(s.\u0275providers,r):r(s)}class Zc{}class f{resolveComponentFactory(r){throw function jd(n){const r=Error(`No component factory found for ${Ne(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let m=(()=>{class n{}return n.NULL=new f,n})();function I(){return Y(Ii(),Lt())}function Y(n,r){return new le(Ki(n,r))}let le=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=I,n})();function rt(n){return n instanceof le?n.nativeElement:n}class nn{}let yn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Zn(){const n=Lt(),s=gr(Ii().index,n);return(Ir(s)?s:n)[11]}(),n})(),Xn=(()=>{class n{}return n.\u0275prov=$t({token:n,providedIn:"root",factory:()=>null}),n})();class $o{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Ja=new $o("14.2.3"),Eu={};function Of(n){return n.ngOriginalError}class $d{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Of(r);for(;s&&Of(s);)s=Of(s);return s||null}}const fm=/^>|^->|<!--|-->|--!>|<!-$/g,Fp=/(<|>)/;const bc=new Map;let Pf=0;const Wl="__ngContext__";function oa(n,r){Ir(r)?(n[Wl]=r[20],function zu(n){bc.set(n[20],n)}(r)):n[Wl]=r}function z(n){return n instanceof Function?n():n}var an=(()=>((an=an||{})[an.Important=1]="Important",an[an.DashCase=2]="DashCase",an))();let Fn;function xi(n,r){return Fn(n,r)}function Gr(n){const r=n[3];return li(r)?r[3]:r}function vr(n){return us(n[13])}function Ei(n){return us(n[4])}function us(n){for(;null!==n&&!li(n);)n=n[4];return n}function lo(n,r,s,l,d){if(null!=l){let g,D=!1;li(l)?g=l:Ir(l)&&(D=!0,l=l[0]);const A=pi(l);0===n&&null!==s?null==d?Kl(r,s,A):Ga(r,s,A,d||null,!0):1===n&&null!==s?Ga(r,s,A,d||null,!0):2===n?Wd(r,A,D):3===n&&r.destroyNode(A),null!=g&&function Hp(n,r,s,l,d){const g=s[7];g!==pi(s)&&lo(r,n,l,g,d);for(let A=10;A<s.length;A++){const L=s[A];Ec(L[1],L,n,r,l,g)}}(r,n,g,s,d)}}function Ss(n,r){return n.createText(r)}function Vs(n,r,s){n.setValue(r,s)}function _l(n,r){return n.createComment(function Gd(n){return n.replace(fm,r=>r.replace(Fp,"\u200b$1\u200b"))}(r))}function wo(n,r,s){return n.createElement(r,s)}function td(n,r){const s=n[9],l=s.indexOf(r),d=r[3];512&r[2]&&(r[2]&=-513,jr(d,-1)),s.splice(l,1)}function nd(n,r){if(n.length<=10)return;const s=10+r,l=n[s];if(l){const d=l[17];null!==d&&d!==n&&td(d,l),r>0&&(n[s-1][4]=l[4]);const g=Vo(n,10+r);!function Ku(n,r){Ec(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(l[1],l);const D=g[19];null!==D&&D.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function wc(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Ec(n,r,s,3,null,null),function va(n){let r=n[13];if(!r)return cu(n[1],n);for(;r;){let s=null;if(Ir(r))s=r[13];else{const l=r[10];l&&(s=l)}if(!s){for(;r&&!r[4]&&r!==n;)Ir(r)&&cu(r[1],r),r=r[3];null===r&&(r=n),Ir(r)&&cu(r[1],r),s=r&&r[4]}r=s}}(r)}}function cu(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Tu(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const d=r[s[l]];if(!(d instanceof Io)){const g=s[l+1];if(Array.isArray(g))for(let D=0;D<g.length;D+=2){const A=d[g[D]],L=g[D+1];try{L.call(A)}finally{}}else try{g.call(d)}finally{}}}}(n,r),function Zu(n,r){const s=n.cleanup,l=r[7];let d=-1;if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const D=s[g+1],A="function"==typeof D?D(r):pi(r[D]),L=l[d=s[g+2]],q=s[g+3];"boolean"==typeof q?A.removeEventListener(s[g],L,q):q>=0?l[d=q]():l[d=-q].unsubscribe(),g+=2}else{const D=l[d=s[g+1]];s[g].call(D)}if(null!==l){for(let g=d+1;g<l.length;g++)(0,l[g])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&li(r[3])){s!==r[3]&&td(s,r);const l=r[19];null!==l&&l.detachView(n)}!function Bp(n){bc.delete(n[20])}(r)}}function Yu(n,r,s){return rd(n,r.parent,s)}function rd(n,r,s){let l=r;for(;null!==l&&40&l.type;)l=(r=l).parent;if(null===l)return s[0];if(2&l.flags){const d=n.data[l.directiveStart].encapsulation;if(d===un.None||d===un.Emulated)return null}return Ki(l,s)}function Ga(n,r,s,l,d){n.insertBefore(r,s,l,d)}function Kl(n,r,s){n.appendChild(r,s)}function Dc(n,r,s,l,d){null!==l?Ga(n,r,s,l,d):Kl(n,r,s)}function id(n,r){return n.parentNode(r)}function jf(n,r,s){return sd(n,r,s)}function Rh(n,r,s){return 40&n.type?Ki(n,s):null}let Qo,sd=Rh;function Hf(n,r){sd=n,Qo=r}function ql(n,r,s,l){const d=Yu(n,l,r),g=r[11],A=jf(l.parent||r[6],l,r);if(null!=d)if(Array.isArray(s))for(let L=0;L<s.length;L++)Dc(g,d,s[L],A,!1);else Dc(g,d,s,A,!1);void 0!==Qo&&Qo(g,l,r,s,d)}function Qu(n,r){if(null!==r){const s=r.type;if(3&s)return Ki(r,n);if(4&s)return od(-1,n[r.index]);if(8&s){const l=r.child;if(null!==l)return Qu(n,l);{const d=n[r.index];return li(d)?od(-1,d):pi(d)}}if(32&s)return xi(r,n)()||pi(n[r.index]);{const l=Ph(n,r);return null!==l?Array.isArray(l)?l[0]:Qu(Gr(n[16]),l):Qu(n,r.next)}}return null}function Ph(n,r){return null!==r?n[16][6].projection[r.projection]:null}function od(n,r){const s=10+n+1;if(s<r.length){const l=r[s],d=l[1].firstChild;if(null!==d)return Qu(l,d)}return r[7]}function Wd(n,r,s){const l=id(n,r);l&&function zd(n,r,s,l){n.removeChild(r,s,l)}(n,l,r,s)}function Ju(n,r,s,l,d,g,D){for(;null!=s;){const A=l[s.index],L=s.type;if(D&&0===r&&(A&&oa(pi(A),l),s.flags|=4),64!=(64&s.flags))if(8&L)Ju(n,r,s.child,l,d,g,!1),lo(r,n,d,A,g);else if(32&L){const q=xi(s,l);let ae;for(;ae=q();)lo(r,n,d,ae,g);lo(r,n,d,A,g)}else 16&L?ad(n,r,l,s,d,g):lo(r,n,d,A,g);s=D?s.projectionNext:s.next}}function Ec(n,r,s,l,d,g){Ju(s,l,n.firstChild,r,d,g,!1)}function ad(n,r,s,l,d,g){const D=s[16],L=D[6].projection[l.projection];if(Array.isArray(L))for(let q=0;q<L.length;q++)lo(r,n,d,L[q],g);else Ju(n,r,L,D[3],d,g,!0)}function Lh(n,r,s){n.setAttribute(r,"style",s)}function Bh(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function $f(n,r,s){let l=n.length;for(;;){const d=n.indexOf(r,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const g=r.length;if(d+g===l||n.charCodeAt(d+g)<=32)return d}s=d+1}}const _m="ng-template";function ym(n,r,s){let l=0;for(;l<n.length;){let d=n[l++];if(s&&"class"===d){if(d=n[l],-1!==$f(d.toLowerCase(),r,0))return!0}else if(1===d){for(;l<n.length&&"string"==typeof(d=n[l++]);)if(d.toLowerCase()===r)return!0;return!1}}return!1}function $p(n){return 4===n.type&&n.value!==_m}function Gp(n,r,s){return r===(4!==n.type||s?n.value:_m)}function ay(n,r,s){let l=4;const d=n.attrs||[],g=function Kd(n){for(let r=0;r<n.length;r++)if(Ma(n[r]))return r;return n.length}(d);let D=!1;for(let A=0;A<r.length;A++){const L=r[A];if("number"!=typeof L){if(!D)if(4&l){if(l=2|1&l,""!==L&&!Gp(n,L,s)||""===L&&1===r.length){if(Zl(l))return!1;D=!0}}else{const q=8&l?L:r[++A];if(8&l&&null!==n.attrs){if(!ym(n.attrs,q,s)){if(Zl(l))return!1;D=!0}continue}const ve=ly(8&l?"class":L,d,$p(n),s);if(-1===ve){if(Zl(l))return!1;D=!0;continue}if(""!==q){let et;et=ve>g?"":d[ve+1].toLowerCase();const gt=8&l?et:null;if(gt&&-1!==$f(gt,q,0)||2&l&&q!==et){if(Zl(l))return!1;D=!0}}}}else{if(!D&&!Zl(l)&&!Zl(L))return!1;if(D&&Zl(L))continue;D=!1,l=L|1&l}}return Zl(l)||D}function Zl(n){return 0==(1&n)}function ly(n,r,s,l){if(null===r)return-1;let d=0;if(l||!s){let g=!1;for(;d<r.length;){const D=r[d];if(D===n)return d;if(3===D||6===D)g=!0;else{if(1===D||2===D){let A=r[++d];for(;"string"==typeof A;)A=r[++d];continue}if(4===D)break;if(0===D){d+=4;continue}}d+=g?1:2}return-1}return function qd(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===r)return s;s++}return-1}(r,n)}function zp(n,r,s=!1){for(let l=0;l<r.length;l++)if(ay(n,r[l],s))return!0;return!1}function Wp(n,r){e:for(let s=0;s<r.length;s++){const l=r[s];if(n.length===l.length){for(let d=0;d<n.length;d++)if(n[d]!==l[d])continue e;return!0}}return!1}function Vh(n,r){return n?":not("+r.trim()+")":r}function vm(n){let r=n[0],s=1,l=2,d="",g=!1;for(;s<n.length;){let D=n[s];if("string"==typeof D)if(2&l){const A=n[++s];d+="["+D+(A.length>0?'="'+A+'"':"")+"]"}else 8&l?d+="."+D:4&l&&(d+=" "+D);else""!==d&&!Zl(D)&&(r+=Vh(g,d),d=""),l=D,g=g||!Zl(l);s++}return""!==d&&(r+=Vh(g,d)),r}const Xr={};function Gf(n){Dm(sr(),Lt(),xe()+n,!1)}function Dm(n,r,s,l){if(!l)if(3==(3&r[2])){const g=n.preOrderCheckHooks;null!==g&&Ai(r,g,s)}else{const g=n.preOrderHooks;null!==g&&so(r,g,0,s)}pt(s)}function Zf(n,r=null,s=null,l){const d=qp(n,r,s,l);return d.resolveInjectorInitializers(),d}function qp(n,r=null,s=null,l,d=new Set){const g=[s||Dn,$r(n)];return l=l||("object"==typeof n?void 0:Ne(n)),new Gu(g,r||zl(),l||null,d)}let ld=(()=>{class n{static create(s,l){if(Array.isArray(s))return Zf({name:""},l,s,"");{const d=s.name??"";return Zf({name:d},s.parent,s.providers,d)}}}return n.THROW_IF_NOT_FOUND=sa,n.NULL=new Ld,n.\u0275prov=$t({token:n,providedIn:"any",factory:()=>Ls($l)}),n.__NG_ELEMENT_ID__=-1,n})();function Tc(n,r=xt.Default){const s=Lt();return null===s?Ls(n,r):zn(Ii(),s,Pe(n),r)}function jh(){throw new Error("invalid")}function Hh(n,r){return n<<17|r<<2}function za(n){return n>>17&32767}function lg(n){return 2|n}function Iu(n){return(131068&n)>>2}function tp(n,r){return-131069&n|r<<2}function $h(n){return 1|n}function Hm(n,r){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const d=s[l],g=s[l+1];if(-1!==g){const D=n.data[g];Si(d),D.contentQueries(2,r[g],g)}}}function Xd(n,r,s,l,d,g,D,A,L,q,ae){const ve=r.blueprint.slice();return ve[0]=d,ve[2]=76|l,(null!==ae||n&&1024&n[2])&&(ve[2]|=1024),wi(ve),ve[3]=ve[15]=n,ve[8]=s,ve[10]=D||n&&n[10],ve[11]=A||n&&n[11],ve[12]=L||n&&n[12]||null,ve[9]=q||n&&n[9]||null,ve[6]=g,ve[20]=function kf(){return Pf++}(),ve[21]=ae,ve[16]=2==r.type?n[16]:ve,ve}function dd(n,r,s,l,d){let g=n.data[r];if(null===g)g=_g(n,r,s,l,d),function Or(){return On.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=s,g.value=l,g.attrs=d;const D=ha();g.injectorIndex=null===D?-1:D.injectorIndex}return Z(g,!0),g}function _g(n,r,s,l,d){const g=da(),D=G(),L=n.data[r]=function wg(n,r,s,l,d,g){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?g:g&&g.parent,s,r,l,d);return null===n.firstChild&&(n.firstChild=L),null!==g&&(D?null==g.child&&null!==L.parent&&(g.child=L):null===g.next&&(g.next=L)),L}function Sc(n,r,s,l){if(0===s)return-1;const d=r.length;for(let g=0;g<s;g++)r.push(l),n.blueprint.push(l),n.data.push(null);return d}function yg(n,r,s){io(r);try{const l=n.viewQuery;null!==l&&Xh(1,l,s);const d=n.template;null!==d&&Gm(n,r,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Hm(n,r),n.staticViewQueries&&Xh(2,n.viewQuery,s);const g=n.components;null!==g&&function $m(n,r){for(let s=0;s<r.length;s++)Sy(n,r[s])}(r,g)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{r[2]&=-5,J()}}function eh(n,r,s,l){const d=r[2];if(128!=(128&d)){io(r);try{wi(r),function it(n){return On.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Gm(n,r,s,2,l);const D=3==(3&d);if(D){const q=n.preOrderCheckHooks;null!==q&&Ai(r,q,null)}else{const q=n.preOrderHooks;null!==q&&so(r,q,0,null),Fo(r,0)}if(function Jm(n){for(let r=vr(n);null!==r;r=Ei(r)){if(!r[2])continue;const s=r[9];for(let l=0;l<s.length;l++){const d=s[l],g=d[3];0==(512&d[2])&&jr(g,1),d[2]|=512}}}(r),function Ag(n){for(let r=vr(n);null!==r;r=Ei(r))for(let s=10;s<r.length;s++){const l=r[s],d=l[1];ms(l)&&eh(d,l,d.template,l[8])}}(r),null!==n.contentQueries&&Hm(n,r),D){const q=n.contentCheckHooks;null!==q&&Ai(r,q)}else{const q=n.contentHooks;null!==q&&so(r,q,1),Fo(r,1)}!function gg(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const d=s[l];if(d<0)pt(~d);else{const g=d,D=s[++l],A=s[++l];gi(D,g),A(2,r[g])}}}finally{pt(-1)}}(n,r);const A=n.components;null!==A&&function mg(n,r){for(let s=0;s<r.length;s++)dp(n,r[s])}(r,A);const L=n.viewQuery;if(null!==L&&Xh(2,L,l),D){const q=n.viewCheckHooks;null!==q&&Ai(r,q)}else{const q=n.viewHooks;null!==q&&so(r,q,2),Fo(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,jr(r[3],-1))}finally{J()}}}function Gm(n,r,s,l,d){const g=xe(),D=2&l;try{pt(-1),D&&r.length>22&&Dm(n,r,22,!1),s(l,d)}finally{pt(g)}}function ap(n,r,s){if(Hs(r)){const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const D=n.data[g];D.contentQueries&&D.contentQueries(1,s[g],g)}}}function vg(n,r,s){!go()||(function Dy(n,r,s,l){const d=s.directiveStart,g=s.directiveEnd;n.firstCreatePass||$e(s,r),oa(l,r);const D=s.initialInputs;for(let A=d;A<g;A++){const L=n.data[A],q=Wi(L);q&&Sg(r,s,L);const ae=Ni(r,n,A,s);oa(ae,r),null!==D&&Ty(0,A-d,ae,L,0,D),q&&(gr(s.index,r)[8]=ae)}}(n,r,s,Ki(s,r)),128==(128&s.flags)&&function Eg(n,r,s){const l=s.directiveStart,d=s.directiveEnd,g=s.index,D=function Yr(){return On.lFrame.currentDirectiveIndex}();try{pt(g);for(let A=l;A<d;A++){const L=n.data[A],q=r[A];Jr(A),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&Cg(L,q)}}finally{pt(-1),Jr(D)}}(n,r,s))}function Zh(n,r,s=Ki){const l=r.localNames;if(null!==l){let d=r.index+1;for(let g=0;g<l.length;g+=2){const D=l[g+1],A=-1===D?s(r,n):n[D];n[d++]=A}}}function lp(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Yh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Yh(n,r,s,l,d,g,D,A,L,q){const ae=22+l,ve=ae+d,et=function th(n,r){const s=[];for(let l=0;l<r;l++)s.push(l<n?null:Xr);return s}(ae,ve),gt="function"==typeof q?q():q;return et[1]={type:n,blueprint:et,template:s,queries:null,viewQuery:A,declTNode:r,data:et.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:L,consts:gt,incompleteFirstPass:!1}}function zm(n,r,s,l){const d=pp(r);null===s?d.push(l):(d.push(s),n.firstCreatePass&&ef(n).push(l,d.length-1))}function Au(n,r,s){for(let l in n)if(n.hasOwnProperty(l)){const d=n[l];(s=null===s?{}:s).hasOwnProperty(l)?s[l].push(r,d):s[l]=[r,d]}return s}function up(n,r){const l=r.directiveEnd,d=n.data,g=r.attrs,D=[];let A=null,L=null;for(let q=r.directiveStart;q<l;q++){const ae=d[q],ve=ae.inputs,et=null===g||$p(r)?null:Ym(ve,g);D.push(et),A=Au(ve,q,A),L=Au(ae.outputs,q,L)}null!==A&&(A.hasOwnProperty("class")&&(r.flags|=16),A.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=D,r.inputs=A,r.outputs=L}function Xa(n,r,s,l,d,g,D,A){const L=Ki(r,s);let ae,q=r.inputs;!A&&null!=q&&(ae=q[l])?(rh(n,s,ae,l,d),As(r)&&Wm(s,r.index)):3&r.type&&(l=function vy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),d=null!=D?D(d,r.value||"",l):d,g.setProperty(L,l,d))}function Wm(n,r){const s=gr(r,n);16&s[2]||(s[2]|=32)}function Qh(n,r,s,l){let d=!1;if(go()){const g=function Tg(n,r,s){const l=n.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const D=l[g];zp(s,D.selectors,!1)&&(d||(d=[]),zt($e(s,r),n,D.type),Wi(D)?(Ig(n,s),d.unshift(D)):d.push(D))}return d}(n,r,s),D=null===l?null:{"":-1};if(null!==g){d=!0,cp(s,n.data.length,g.length);for(let ae=0;ae<g.length;ae++){const ve=g[ae];ve.providersResolver&&ve.providersResolver(ve)}let A=!1,L=!1,q=Sc(n,r,g.length,null);for(let ae=0;ae<g.length;ae++){const ve=g[ae];s.mergedAttrs=xa(s.mergedAttrs,ve.hostAttrs),Zm(n,s,r,q,ve),Cy(q,ve,D),null!==ve.contentQueries&&(s.flags|=8),(null!==ve.hostBindings||null!==ve.hostAttrs||0!==ve.hostVars)&&(s.flags|=128);const et=ve.type.prototype;!A&&(et.ngOnChanges||et.ngOnInit||et.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),A=!0),!L&&(et.ngOnChanges||et.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),L=!0),q++}up(n,s)}D&&function Ey(n,r,s){if(r){const l=n.localNames=[];for(let d=0;d<r.length;d+=2){const g=s[r[d+1]];if(null==g)throw new nt(-301,!1);l.push(r[d],g)}}}(s,l,D)}return s.mergedAttrs=xa(s.mergedAttrs,s.attrs),d}function qm(n,r,s,l,d,g){const D=g.hostBindings;if(D){let A=n.hostBindingOpCodes;null===A&&(A=n.hostBindingOpCodes=[]);const L=~r.index;(function Dg(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(A)!=L&&A.push(L),A.push(l,d,D)}}function Cg(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Ig(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Cy(n,r,s){if(s){if(r.exportAs)for(let l=0;l<r.exportAs.length;l++)s[r.exportAs[l]]=n;Wi(r)&&(s[""]=n)}}function cp(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Zm(n,r,s,l,d){n.data[l]=d;const g=d.factory||(d.factory=Ns(d.type)),D=new Io(g,Wi(d),Tc);n.blueprint[l]=D,s[l]=D,qm(n,r,0,l,Sc(n,s,d.hostVars,Xr),d)}function Sg(n,r,s){const l=Ki(r,n),d=lp(s),g=n[10],D=hp(n,Xd(n,d,null,s.onPush?32:16,l,r,g,g.createRenderer(l,s),null,null,null));n[r.index]=D}function Jh(n,r,s,l,d,g,D){if(null==g)n.removeAttribute(r,d,s);else{const A=null==D?dt(g):D(g,l||"",d);n.setAttribute(r,d,A,s)}}function Ty(n,r,s,l,d,g){const D=g[r];if(null!==D){const A=l.setInput;for(let L=0;L<D.length;){const q=D[L++],ae=D[L++],ve=D[L++];null!==A?l.setInput(s,ve,q,ae):s[ae]=ve}}}function Ym(n,r){let s=null,l=0;for(;l<r.length;){const d=r[l];if(0!==d)if(5!==d){if("number"==typeof d)break;n.hasOwnProperty(d)&&(null===s&&(s=[]),s.push(d,n[d],r[l+1])),l+=2}else l+=2;else l+=4}return s}function Qm(n,r,s,l){return new Array(n,!0,!1,r,null,0,l,s,null,null)}function dp(n,r){const s=gr(r,n);if(ms(s)){const l=s[1];48&s[2]?eh(l,s,l.template,s[8]):s[5]>0&&Ng(s)}}function Ng(n){for(let l=vr(n);null!==l;l=Ei(l))for(let d=10;d<l.length;d++){const g=l[d];if(ms(g))if(512&g[2]){const D=g[1];eh(D,g,D.template,g[8])}else g[5]>0&&Ng(g)}const s=n[1].components;if(null!==s)for(let l=0;l<s.length;l++){const d=gr(s[l],n);ms(d)&&d[5]>0&&Ng(d)}}function Sy(n,r){const s=gr(r,n),l=s[1];(function Ay(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(l,s),yg(l,s,s[8])}function hp(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function fp(n){for(;n;){n[2]|=32;const r=Gr(n);if(is(n)&&!r)return n;n=r}return null}function nh(n,r,s,l=!0){const d=r[10];d.begin&&d.begin();try{eh(n,r,n.template,s)}catch(D){throw l&&Mg(r,D),D}finally{d.end&&d.end()}}function Xh(n,r,s){Si(0),r(n,s)}function pp(n){return n[7]||(n[7]=[])}function ef(n){return n.cleanup||(n.cleanup=[])}function Mg(n,r){const s=n[9],l=s?s.get($d,null):null;l&&l.handleError(r)}function rh(n,r,s,l,d){for(let g=0;g<s.length;){const D=s[g++],A=s[g++],L=r[D],q=n.data[D];null!==q.setInput?q.setInput(L,d,l,A):L[A]=d}}function Nu(n,r,s){const l=hr(r,n);Vs(n[11],l,s)}function ih(n,r,s){let l=s?n.styles:null,d=s?n.classes:null,g=0;if(null!==r)for(let D=0;D<r.length;D++){const A=r[D];"number"==typeof A?g=A:1==g?d=We(d,A):2==g&&(l=We(l,A+": "+r[++D]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=d:n.classesWithoutHost=d}function tc(n,r,s,l,d=!1){for(;null!==s;){const g=r[s.index];if(null!==g&&l.push(pi(g)),li(g))for(let A=10;A<g.length;A++){const L=g[A],q=L[1].firstChild;null!==q&&tc(L[1],L,q,l)}const D=s.type;if(8&D)tc(n,r,s.child,l);else if(32&D){const A=xi(s,r);let L;for(;L=A();)l.push(L)}else if(16&D){const A=Ph(r,s);if(Array.isArray(A))l.push(...A);else{const L=Gr(r[16]);tc(L[1],L,A,l,!0)}}s=d?s.projectionNext:s.next}return l}class hd{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return tc(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(li(r)){const s=r[8],l=s?s.indexOf(this):-1;l>-1&&(nd(r,l),Vo(s,l))}this._attachedToViewContainer=!1}wc(this._lView[1],this._lView)}onDestroy(r){zm(this._lView[1],this._lView,null,r)}markForCheck(){fp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){nh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $a(n,r){Ec(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new nt(902,!1);this._appRef=r}}class My extends hd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;nh(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class xg extends m{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Tn(r);return new sh(s,this.ngModule)}}function e_(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class xy{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,l){const d=this.injector.get(r,Eu,l);return d!==Eu||s===Eu?d:this.parentInjector.get(r,s,l)}}class sh extends Zc{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function bm(n){return n.map(vm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return e_(this.componentDef.inputs)}get outputs(){return e_(this.componentDef.outputs)}create(r,s,l,d){let g=(d=d||this.ngModule)instanceof Ml?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const D=g?new xy(r,g):r,A=D.get(nn,null);if(null===A)throw new nt(407,!1);const L=D.get(Xn,null),q=A.createRenderer(null,this.componentDef),ae=this.componentDef.selectors[0][0]||"div",ve=l?function bg(n,r,s){return n.selectRootElement(r,s===un.ShadowDom)}(q,l,this.componentDef.encapsulation):wo(A.createRenderer(null,this.componentDef),ae,function t_(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ae)),et=this.componentDef.onPush?288:272,gt=Yh(0,null,null,1,0,null,null,null,null,null),Bt=Xd(null,gt,null,et,null,null,A,q,L,D,null);let rn,vn;io(Bt);try{const $n=function n_(n,r,s,l,d,g){const D=s[1];s[22]=n;const L=dd(D,22,2,"#host",null),q=L.mergedAttrs=r.hostAttrs;null!==q&&(ih(L,q,!0),null!==n&&(il(d,n,q),null!==L.classes&&Bh(d,n,L.classes),null!==L.styles&&Lh(d,n,L.styles)));const ae=l.createRenderer(n,r),ve=Xd(s,lp(r),null,r.onPush?32:16,s[22],L,l,ae,g||null,null,null);return D.firstCreatePass&&(zt($e(L,s),D,r.type),Ig(D,L),cp(L,s.length,1)),hp(s,ve),s[22]=ve}(ve,this.componentDef,Bt,A,q);if(ve)if(l)il(q,ve,["ng-version",Ja.full]);else{const{attrs:wr,classes:qt}=function wm(n){const r=[],s=[];let l=1,d=2;for(;l<n.length;){let g=n[l];if("string"==typeof g)2===d?""!==g&&r.push(g,n[++l]):8===d&&s.push(g);else{if(!Zl(d))break;d=g}l++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);wr&&il(q,ve,wr),qt&&qt.length>0&&Bh(q,ve,qt.join(" "))}if(vn=Co(gt,22),void 0!==s){const wr=vn.projection=[];for(let qt=0;qt<this.ngContentSelectors.length;qt++){const Br=s[qt];wr.push(null!=Br?Array.from(Br):null)}}rn=function Og(n,r,s,l){const d=s[1],g=function wy(n,r,s){const l=Ii();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Zm(n,l,r,Sc(n,r,1,null),s),up(n,l));const d=Ni(r,n,l.directiveStart,l);oa(d,r);const g=Ki(l,r);return g&&oa(g,r),d}(d,s,r);if(n[8]=s[8]=g,null!==l)for(const A of l)A(g,r);if(r.contentQueries){const A=Ii();r.contentQueries(1,g,A.directiveStart)}const D=Ii();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(pt(D.index),qm(s[1],D,0,D.directiveStart,D.directiveEnd,r),Cg(r,g)),g}($n,this.componentDef,Bt,[r_]),yg(gt,Bt,null)}finally{J()}return new Ry(this.componentType,rn,Y(vn,Bt),Bt,vn)}}class Ry extends class qc{}{constructor(r,s,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=s,this.hostView=this.changeDetectorRef=new My(d),this.componentType=r}setInput(r,s){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[r])){const g=this._rootLView;rh(g[1],g,d,r,s),Wm(g,this._tNode.index)}}get injector(){return new _n(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function r_(){const n=Ii();si(Lt()[1],n)}function mp(n){let r=function Rg(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;r;){let d;if(Wi(n))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new nt(903,!1);d=r.\u0275dir}if(d){if(s){l.push(d);const D=n;D.inputs=Ri(n.inputs),D.declaredInputs=Ri(n.declaredInputs),D.outputs=Ri(n.outputs);const A=d.hostBindings;A&&tf(n,A);const L=d.viewQuery,q=d.contentQueries;if(L&&i_(n,L),q&&s_(n,q),je(n.inputs,d.inputs),je(n.declaredInputs,d.declaredInputs),je(n.outputs,d.outputs),Wi(d)&&d.data.animation){const ae=n.data;ae.animation=(ae.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let D=0;D<g.length;D++){const A=g[D];A&&A.ngInherit&&A(n),A===mp&&(s=!1)}}r=Object.getPrototypeOf(r)}!function _p(n){let r=0,s=null;for(let l=n.length-1;l>=0;l--){const d=n[l];d.hostVars=r+=d.hostVars,d.hostAttrs=xa(d.hostAttrs,s=xa(s,d.hostAttrs))}}(l)}function Ri(n){return n===cn?{}:n===Dn?[]:n}function i_(n,r){const s=n.viewQuery;n.viewQuery=s?(l,d)=>{r(l,d),s(l,d)}:r}function s_(n,r){const s=n.contentQueries;n.contentQueries=s?(l,d,g)=>{r(l,d,g),s(l,d,g)}:r}function tf(n,r){const s=n.hostBindings;n.hostBindings=s?(l,d)=>{r(l,d),s(l,d)}:r}let Ol=null;function Ac(){if(!Ol){const n=ur.Symbol;if(n&&n.iterator)Ol=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const l=r[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Ol=l)}}}return Ol}function Nc(n){return!!Pg(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ac()in n)}function Pg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Mu(n,r,s){return n[r]=s}function yi(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function oh(n,r,s,l){const d=yi(n,r,s);return yi(n,r+1,l)||d}function yp(n,r,s,l){const d=Lt();return yi(d,Tt(),r)&&(sr(),function Yl(n,r,s,l,d,g){const D=Ki(n,r);Jh(r[11],D,g,n.value,s,l,d)}(Dt(),d,n,r,s,l)),yp}function lh(n,r,s,l){return yi(n,Tt(),s)?r+dt(s)+l:Xr}function af(n,r,s,l,d,g,D,A){const L=Lt(),q=sr(),ae=n+22,ve=q.firstCreatePass?function h_(n,r,s,l,d,g,D,A,L){const q=r.consts,ae=dd(r,n,4,D||null,ts(q,A));Qh(r,s,ae,ts(q,L)),si(r,ae);const ve=ae.tViews=Yh(2,ae,l,d,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,q);return null!==r.queries&&(r.queries.template(r,ae),ve.queries=r.queries.embeddedTView(ae)),ae}(ae,q,L,r,s,l,d,g,D):q.data[ae];Z(ve,!1);const et=L[11].createComment("");ql(q,L,et,ve),oa(et,L),hp(L,L[ae]=Qm(et,L,et,ve)),hi(ve)&&vg(q,L,ve),null!=D&&Zh(L,ve,A)}function xc(n){return Gs(function Xe(){return On.lFrame.contextLView}(),22+n)}function ph(n,r,s){const l=Lt();return yi(l,Tt(),r)&&Xa(sr(),Dt(),l,n,r,l[11],s,!1),ph}function pd(n,r,s,l,d){const D=d?"class":"style";rh(n,s,r.inputs[D],D,l)}function gh(n,r,s,l){const d=Lt(),g=sr(),D=22+n,A=d[11],L=d[D]=wo(A,r,function Pr(){return On.lFrame.currentNamespace}()),q=g.firstCreatePass?function f_(n,r,s,l,d,g,D){const A=r.consts,q=dd(r,n,2,d,ts(A,g));return Qh(r,s,q,ts(A,D)),null!==q.attrs&&ih(q,q.attrs,!1),null!==q.mergedAttrs&&ih(q,q.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,q),q}(D,g,d,0,r,s,l):g.data[D];Z(q,!0);const ae=q.mergedAttrs;null!==ae&&il(A,L,ae);const ve=q.classes;null!==ve&&Bh(A,L,ve);const et=q.styles;return null!==et&&Lh(A,L,et),64!=(64&q.flags)&&ql(g,d,L,q),0===function po(){return On.lFrame.elementDepthCount}()&&oa(L,d),function ko(){On.lFrame.elementDepthCount++}(),hi(q)&&(vg(g,d,q),ap(g,q,d)),null!==l&&Zh(d,q),gh}function vp(){let n=Ii();G()?ue():(n=n.parent,Z(n,!1));const r=n;!function ta(){On.lFrame.elementDepthCount--}();const s=sr();return s.firstCreatePass&&(si(s,n),Hs(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Xl(n){return 0!=(16&n.flags)}(r)&&pd(s,r,Lt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function eu(n){return 0!=(32&n.flags)}(r)&&pd(s,r,Lt(),r.stylesWithoutHost,!1),vp}function Bg(n,r,s,l){return gh(n,r,s,l),vp(),Bg}function mh(n,r,s){const l=Lt(),d=sr(),g=n+22,D=d.firstCreatePass?function Ly(n,r,s,l,d){const g=r.consts,D=ts(g,l),A=dd(r,n,8,"ng-container",D);return null!==D&&ih(A,D,!0),Qh(r,s,A,ts(g,d)),null!==r.queries&&r.queries.elementStart(r,A),A}(g,d,l,r,s):d.data[g];Z(D,!0);const A=l[g]=l[11].createComment("");return ql(d,l,A,D),oa(A,l),hi(D)&&(vg(d,l,D),ap(d,D,l)),null!=s&&Zh(l,D),mh}function _h(){let n=Ii();const r=sr();return G()?ue():(n=n.parent,Z(n,!1)),r.firstCreatePass&&(si(r,n),Hs(n)&&r.queries.elementEnd(n)),_h}function Oc(){return Lt()}function bp(n){return!!n&&"function"==typeof n.then}function Ug(n){return!!n&&"function"==typeof n.subscribe}const wp=Ug;function lf(n,r,s,l){const d=Lt(),g=sr(),D=Ii();return function uf(n,r,s,l,d,g,D,A){const L=hi(l),ae=n.firstCreatePass&&ef(n),ve=r[8],et=pp(r);let gt=!0;if(3&l.type||A){const vn=Ki(l,r),$n=A?A(vn):vn,wr=et.length,qt=A?Us=>A(pi(Us[l.index])):l.index;let Br=null;if(!A&&L&&(Br=function Dp(n,r,s,l){const d=n.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const D=d[g];if(D===s&&d[g+1]===l){const A=r[7],L=d[g+2];return A.length>L?A[L]:null}"string"==typeof D&&(g+=2)}return null}(n,r,d,l.index)),null!==Br)(Br.__ngLastListenerFn__||Br).__ngNextListenerFn__=g,Br.__ngLastListenerFn__=g,gt=!1;else{g=yh(l,r,ve,g,!1);const Us=s.listen($n,d,g);et.push(g,Us),ae&&ae.push(d,qt,wr,wr+1)}}else g=yh(l,r,ve,g,!1);const Bt=l.outputs;let rn;if(gt&&null!==Bt&&(rn=Bt[d])){const vn=rn.length;if(vn)for(let $n=0;$n<vn;$n+=2){const Jo=r[rn[$n]][rn[$n+1]].subscribe(g),vf=et.length;et.push(g,Jo),ae&&ae.push(d,l.index,vf,-(vf+1))}}}(g,d,d[11],D,n,r,0,l),lf}function jg(n,r,s,l){try{return!1!==s(l)}catch(d){return Mg(n,d),!1}}function yh(n,r,s,l,d){return function g(D){if(D===Function)return l;fp(2&n.flags?gr(n.index,r):r);let L=jg(r,0,l,D),q=g.__ngNextListenerFn__;for(;q;)L=jg(r,0,q,D)&&L,q=q.__ngNextListenerFn__;return d&&!1===L&&(D.preventDefault(),D.returnValue=!1),L}}function g_(n=1){return function j(n){return(On.lFrame.contextLView=function se(n,r){for(;n>0;)r=r[15],n--;return r}(n,On.lFrame.contextLView))[8]}(n)}function Ep(n,r){let s=null;const l=function uy(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let d=0;d<r.length;d++){const g=r[d];if("*"!==g){if(null===l?zp(n,g,!0):Wp(l,g))return d}else s=d}return s}function Rc(n){const r=Lt()[16][6];if(!r.projection){const l=r.projection=Ka(n?n.length:1,null),d=l.slice();let g=r.child;for(;null!==g;){const D=n?Ep(g,n):0;null!==D&&(d[D]?d[D].projectionNext=g:l[D]=g,d[D]=g),g=g.next}}}function Ou(n,r=0,s){const l=Lt(),d=sr(),g=dd(d,22+n,16,null,s||null);null===g.projection&&(g.projection=r),ue(),64!=(64&g.flags)&&function kh(n,r,s){ad(r[11],0,r,s,Yu(n,s,r),jf(s.parent||r[6],s,r))}(d,l,g)}function gd(n,r,s){return hu(n,"",r,"",s),gd}function hu(n,r,s,l,d){const g=Lt(),D=lh(g,r,s,l);return D!==Xr&&Xa(sr(),Dt(),g,n,D,g[11],d,!1),hu}function w_(n,r,s,l,d){const g=n[s+1],D=null===r;let A=l?za(g):Iu(g),L=!1;for(;0!==A&&(!1===L||D);){const ae=n[A+1];D_(n[A],r)&&(L=!0,n[A+1]=l?$h(ae):lg(ae)),A=l?za(ae):Iu(ae)}L&&(n[s+1]=l?lg(g):$h(g))}function D_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&De(n,r)>=0}const Aa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function E_(n){return n.substring(Aa.key,Aa.keyEnd)}function T_(n,r){const s=Aa.textEnd;return s===r?-1:(r=Aa.keyEnd=function Uy(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,Aa.key=r,s),md(n,r,s))}function md(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function qg(n,r,s){return fu(n,r,s,!1),qg}function rc(n,r){return fu(n,r,null,!0),rc}function S_(n){!function Ql(n,r,s,l){const d=sr(),g=Ln(2);d.firstUpdatePass&&A_(d,null,g,l);const D=Lt();if(s!==Xr&&yi(D,g,s)){const A=d.data[xe()];if(Ky(A,l)&&!Zg(d,g)){let L=l?A.classesWithoutHost:A.stylesWithoutHost;null!==L&&(s=We(L,s||"")),pd(d,A,D,s,l)}else!function Wy(n,r,s,l,d,g,D,A){d===Xr&&(d=Dn);let L=0,q=0,ae=0<d.length?d[0]:null,ve=0<g.length?g[0]:null;for(;null!==ae||null!==ve;){const et=L<d.length?d[L+1]:void 0,gt=q<g.length?g[q+1]:void 0;let rn,Bt=null;ae===ve?(L+=2,q+=2,et!==gt&&(Bt=ve,rn=gt)):null===ve||null!==ae&&ae<ve?(L+=2,Bt=ae):(q+=2,Bt=ve,rn=gt),null!==Bt&&x_(n,r,s,l,Bt,rn,D,A),ae=L<d.length?d[L]:null,ve=q<g.length?g[q]:null}}(d,A,D,D[11],D[g+1],D[g+1]=function zy(n,r,s){if(null==s||""===s)return Dn;const l=[],d=qa(s);if(Array.isArray(d))for(let g=0;g<d.length;g++)n(l,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&n(l,g,d[g]);else"string"==typeof d&&r(l,d);return l}(n,r,s),l,g)}}(re,Pu,n,!0)}function Pu(n,r){for(let s=function Vy(n){return function zg(n){Aa.key=0,Aa.keyEnd=0,Aa.value=0,Aa.valueEnd=0,Aa.textEnd=n.length}(n),T_(n,md(n,0,Aa.textEnd))}(r);s>=0;s=T_(r,s))re(n,E_(r),!0)}function fu(n,r,s,l){const d=Lt(),g=sr(),D=Ln(2);g.firstUpdatePass&&A_(g,n,D,l),r!==Xr&&yi(d,D,r)&&x_(g,g.data[xe()],d,d[11],n,d[D+1]=function r0(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ne(qa(n)))),n}(r,s),l,D)}function Zg(n,r){return r>=n.expandoStartIndex}function A_(n,r,s,l){const d=n.data;if(null===d[s+1]){const g=d[xe()],D=Zg(n,s);Ky(g,l)&&null===r&&!D&&(r=!1),r=function $y(n,r,s,l){const d=function Ui(n){const r=On.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let g=l?r.residualClasses:r.residualStyles;if(null===d)0===(l?r.classBindings:r.styleBindings)&&(s=hf(s=df(null,n,r,s,l),r.attrs,l),g=null);else{const D=r.directiveStylingLast;if(-1===D||n[D]!==d)if(s=df(d,n,r,s,l),null===g){let L=function N_(n,r,s){const l=s?r.classBindings:r.styleBindings;if(0!==Iu(l))return n[za(l)]}(n,r,l);void 0!==L&&Array.isArray(L)&&(L=df(null,n,r,L[1],l),L=hf(L,r.attrs,l),function Gy(n,r,s,l){n[za(s?r.classBindings:r.styleBindings)]=l}(n,r,l,L))}else g=function bh(n,r,s){let l;const d=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<d;g++)l=hf(l,n[g].hostAttrs,s);return hf(l,r.attrs,s)}(n,r,l)}return void 0!==g&&(l?r.residualClasses=g:r.residualStyles=g),s}(d,g,r,l),function b_(n,r,s,l,d,g){let D=g?r.classBindings:r.styleBindings,A=za(D),L=Iu(D);n[l]=s;let ae,q=!1;if(Array.isArray(s)){const ve=s;ae=ve[1],(null===ae||De(ve,ae)>0)&&(q=!0)}else ae=s;if(d)if(0!==L){const et=za(n[A+1]);n[l+1]=Hh(et,A),0!==et&&(n[et+1]=tp(n[et+1],l)),n[A+1]=function py(n,r){return 131071&n|r<<17}(n[A+1],l)}else n[l+1]=Hh(A,0),0!==A&&(n[A+1]=tp(n[A+1],l)),A=l;else n[l+1]=Hh(L,0),0===A?A=l:n[L+1]=tp(n[L+1],l),L=l;q&&(n[l+1]=lg(n[l+1])),w_(n,ae,l,!0),w_(n,ae,l,!1),function By(n,r,s,l,d){const g=d?n.residualClasses:n.residualStyles;null!=g&&"string"==typeof r&&De(g,r)>=0&&(s[l+1]=$h(s[l+1]))}(r,ae,n,l,g),D=Hh(A,L),g?r.classBindings=D:r.styleBindings=D}(d,g,r,s,D,l)}}function df(n,r,s,l,d){let g=null;const D=s.directiveEnd;let A=s.directiveStylingLast;for(-1===A?A=s.directiveStart:A++;A<D&&(g=r[A],l=hf(l,g.hostAttrs,d),g!==n);)A++;return null!==n&&(s.directiveStylingLast=A),l}function hf(n,r,s){const l=s?1:2;let d=-1;if(null!==r)for(let g=0;g<r.length;g++){const D=r[g];"number"==typeof D?d=D:d===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),re(n,D,!!s||r[++g]))}return void 0===n?null:n}function x_(n,r,s,l,d,g,D,A){if(!(3&r.type))return;const L=n.data,q=L[A+1];Cp(function Mm(n){return 1==(1&n)}(q)?O_(L,r,s,d,Iu(q),D):void 0)||(Cp(g)||function ep(n){return 2==(2&n)}(q)&&(g=O_(L,null,s,d,A,D)),function Fh(n,r,s,l,d){if(r)d?n.addClass(s,l):n.removeClass(s,l);else{let g=-1===l.indexOf("-")?void 0:an.DashCase;null==d?n.removeStyle(s,l,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=an.Important),n.setStyle(s,l,d,g))}}(l,D,hr(xe(),s),d,g))}function O_(n,r,s,l,d,g){const D=null===r;let A;for(;d>0;){const L=n[d],q=Array.isArray(L),ae=q?L[1]:L,ve=null===ae;let et=s[d+1];et===Xr&&(et=ve?Dn:void 0);let gt=ve?ye(et,l):ae===l?et:void 0;if(q&&!Cp(gt)&&(gt=ye(L,l)),Cp(gt)&&(A=gt,D))return A;const Bt=n[d+1];d=D?za(Bt):Iu(Bt)}if(null!==r){let L=g?r.residualClasses:r.residualStyles;null!=L&&(A=ye(L,l))}return A}function Cp(n){return void 0!==n}function Ky(n,r){return 0!=(n.flags&(r?16:32))}function Yg(n,r=""){const s=Lt(),l=sr(),d=n+22,g=l.firstCreatePass?dd(l,d,1,r,null):l.data[d],D=s[d]=Ss(s[11],r);ql(l,s,D,g),Z(g,!1)}function Qg(n){return Tp("",n,""),Qg}function Tp(n,r,s){const l=Lt(),d=lh(l,n,r,s);return d!==Xr&&Nu(l,xe(),d),Tp}function ff(n,r,s,l,d){const g=Lt(),D=function fd(n,r,s,l,d,g){const A=oh(n,X(),s,d);return Ln(2),A?r+dt(s)+l+dt(d)+g:Xr}(g,n,r,s,l,d);return D!==Xr&&Nu(g,xe(),D),ff}function mf(n,r,s){const l=Lt();return yi(l,Tt(),r)&&Xa(sr(),Dt(),l,n,r,l[11],s,!0),mf}const Pc=void 0;var im=["en",[["a","p"],["AM","PM"],Pc],[["AM","PM"],Pc,Pc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pc,"{1} 'at' {0}",Pc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Yy(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let Eh={};function Ap(n){const r=function ev(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=sm(r);if(s)return s;const l=r.split("-")[0];if(s=sm(l),s)return s;if("en"===l)return im;throw new nt(701,!1)}function W_(n){return Ap(n)[br.PluralCase]}function sm(n){return n in Eh||(Eh[n]=ur.ng&&ur.ng.common&&ur.ng.common.locales&&ur.ng.common.locales[n]),Eh[n]}var br=(()=>((br=br||{})[br.LocaleId=0]="LocaleId",br[br.DayPeriodsFormat=1]="DayPeriodsFormat",br[br.DayPeriodsStandalone=2]="DayPeriodsStandalone",br[br.DaysFormat=3]="DaysFormat",br[br.DaysStandalone=4]="DaysStandalone",br[br.MonthsFormat=5]="MonthsFormat",br[br.MonthsStandalone=6]="MonthsStandalone",br[br.Eras=7]="Eras",br[br.FirstDayOfWeek=8]="FirstDayOfWeek",br[br.WeekendRange=9]="WeekendRange",br[br.DateFormat=10]="DateFormat",br[br.TimeFormat=11]="TimeFormat",br[br.DateTimeFormat=12]="DateTimeFormat",br[br.NumberSymbols=13]="NumberSymbols",br[br.NumberFormats=14]="NumberFormats",br[br.CurrencyCode=15]="CurrencyCode",br[br.CurrencySymbol=16]="CurrencySymbol",br[br.CurrencyName=17]="CurrencyName",br[br.Currencies=18]="Currencies",br[br.Directionality=19]="Directionality",br[br.PluralCase=20]="PluralCase",br[br.ExtraData=21]="ExtraData",br))();const K_=["zero","one","two","few","many"],Ch="en-US",e={marker:"element"},t={marker:"ICU"};var o=(()=>((o=o||{})[o.SHIFT=2]="SHIFT",o[o.APPEND_EAGERLY=1]="APPEND_EAGERLY",o[o.COMMENT=2]="COMMENT",o))();let p=Ch;function v(n){(function en(n,r){null==n&&wt(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(p=n.toLowerCase().replace(/_/g,"-"))}function K(n,r,s){const l=r.insertBeforeIndex,d=Array.isArray(l)?l[0]:l;return null===d?Rh(n,0,s):pi(s[d])}function ee(n,r,s,l,d){const g=r.insertBeforeIndex;if(Array.isArray(g)){let D=l,A=null;if(3&r.type||(A=D,D=d),null!==D&&0==(2&r.flags))for(let L=1;L<g.length;L++)Ga(n,D,s[g[L]],A,!1)}}function ce(n,r){if(n.push(r),n.length>1)for(let s=n.length-2;s>=0;s--){const l=n[s];Ue(l)||mt(l,r)&&null===Ft(l)&&Vt(l,r.index)}}function Ue(n){return!(64&n.type)}function mt(n,r){return Ue(r)||n.index>r.index}function Ft(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function Vt(n,r){const s=n.insertBeforeIndex;Array.isArray(s)?s[0]=r:(Hf(K,ee),n.insertBeforeIndex=r)}function gn(n,r){const s=n.data[r];return null===s||"string"==typeof s?null:s.hasOwnProperty("currentCaseLViewIndex")?s:s.value}function Js(n,r,s){const l=_g(n,s,64,null,null);return ce(r,l),l}function Yi(n,r){const s=r[n.currentCaseLViewIndex];return null===s?s:s<0?~s:s}function Oo(n){return n>>>17}function rs(n){return(131070&n)>>>1}let sc=0,om=0;function s0(n,r,s,l){const d=s[11];let D,g=null;for(let A=0;A<r.length;A++){const L=r[A];if("string"==typeof L){const q=r[++A];null===s[q]&&(s[q]=Ss(d,L))}else if("number"==typeof L)switch(1&L){case 0:const q=Oo(L);let ae,ve;if(null===g&&(g=q,D=id(d,l)),q===g?(ae=l,ve=D):(ae=null,ve=pi(s[q])),null!==ve){const rn=rs(L);Ga(d,ve,s[rn],ae,!1);const $n=gn(n,rn);if(null!==$n&&"object"==typeof $n){const wr=Yi($n,s);null!==wr&&s0(n,$n.create[wr],s,s[$n.anchorIdx])}}break;case 1:const gt=r[++A],Bt=r[++A];Jh(d,hr(L>>>1,s),null,null,gt,Bt,null)}else switch(L){case t:const q=r[++A],ae=r[++A];null===s[ae]&&oa(s[ae]=_l(d,q),s);break;case e:const ve=r[++A],et=r[++A];null===s[et]&&oa(s[et]=wo(d,ve,null),s)}}}function o0(n,r,s,l,d){for(let g=0;g<s.length;g++){const D=s[g],A=s[++g];if(D&d){let L="";for(let q=g+1;q<=g+A;q++){const ae=s[q];if("string"==typeof ae)L+=ae;else if("number"==typeof ae)if(ae<0)L+=dt(r[l-ae]);else{const ve=ae>>>2;switch(3&ae){case 1:const et=s[++q],gt=s[++q],Bt=n.data[ve];"string"==typeof Bt?Jh(r[11],r[ve],null,Bt,et,L,gt):Xa(n,Bt,r,et,L,r[11],gt,!1);break;case 0:const rn=r[ve];null!==rn&&Vs(r[11],rn,L);break;case 2:rw(n,gn(n,ve),r,L);break;case 3:a0(n,gn(n,ve),l,r)}}}}else{const L=s[g+1];if(L>0&&3==(3&L)){const ae=gn(n,L>>>2);r[ae.currentCaseLViewIndex]<0&&a0(n,ae,l,r)}}g+=A}}function a0(n,r,s,l){let d=l[r.currentCaseLViewIndex];if(null!==d){let g=sc;d<0&&(d=l[r.currentCaseLViewIndex]=~d,g=-1),o0(n,l,r.update[d],s,g)}}function rw(n,r,s,l){const d=function iw(n,r){let s=n.cases.indexOf(r);if(-1===s)switch(n.type){case 1:{const l=function q_(n,r){const s=W_(r)(parseInt(n,10)),l=K_[s];return void 0!==l?l:"other"}(r,function x(){return p}());s=n.cases.indexOf(l),-1===s&&"other"!==l&&(s=n.cases.indexOf("other"));break}case 0:s=n.cases.indexOf("other")}return-1===s?null:s}(r,l);if(Yi(r,s)!==d&&(l0(n,r,s),s[r.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const D=s[r.anchorIdx];D&&s0(n,r.create[d],s,D)}}function l0(n,r,s){let l=Yi(r,s);if(null!==l){const d=r.remove[l];for(let g=0;g<d.length;g++){const D=d[g];if(D>0){const A=hr(D,s);null!==A&&Wd(s[11],A)}else l0(n,gn(n,~D),s)}}}function sw(){const n=[];let s,l,r=-1;function g(A,L){r=0;const q=Yi(A,L);l=null!==q?A.remove[q]:Dn}function D(){if(r<l.length){const A=l[r++];return A>0?s[A]:(n.push(r,l),g(s[1].data[~A],s),D())}return 0===n.length?null:(l=n.pop(),r=n.pop(),D())}return function d(A,L){for(s=L;n.length;)n.pop();return g(A.value,L),D}}const Z_=/\ufffd(\d+):?\d*\ufffd/gi,aw=/\ufffd(\d+)\ufffd/,c0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,lw=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,uw=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,cw=/\uE500/g;function d0(n,r,s,l,d,g,D){const A=Sc(n,l,1,null);let L=A<<o.SHIFT,q=ha();r===q&&(q=null),null===q&&(L|=o.APPEND_EAGERLY),D&&(L|=o.COMMENT,function or(n){void 0===Fn&&(Fn=n())}(sw)),d.push(L,null===g?"":g);const ae=_g(n,A,D?32:1,null===g?"":g,null);ce(s,ae);const ve=ae.index;return Z(ae,!1),null!==q&&r!==q&&function Zi(n,r){let s=n.insertBeforeIndex;null===s?(Hf(K,ee),s=n.insertBeforeIndex=[null,r]):(function Be(n,r,s){n!=r&&wt(s,n,r,"==")}(Array.isArray(s),!0,"Expecting array here"),s.push(r))}(q,ve),ae}function fw(n,r,s,l,d,g,D){const A=D.match(Z_),L=d0(n,r,s,g,l,A?null:D,!1);A&&lm(d,D,L.index,null,0,null)}function lm(n,r,s,l,d,g){const D=n.length,A=D+1;n.push(null,null);const L=D+2,q=r.split(Z_);let ae=0;for(let ve=0;ve<q.length;ve++){const et=q[ve];if(1&ve){const gt=d+parseInt(et,10);n.push(-1-gt),ae|=h0(gt)}else""!==et&&n.push(et)}return n.push(s<<2|(l?1:0)),l&&n.push(l,g),n[D]=ae,n[A]=n.length-L,ae}function h0(n){return 1<<Math.min(n,31)}function f0(n){let r,g,s="",l=0,d=!1;for(;null!==(r=lw.exec(n));)d?r[0]===`\ufffd/*${g}\ufffd`&&(l=r.index,d=!1):(s+=n.substring(l,r.index+r[0].length),g=r[1],d=!0);return s+=n.slice(l),s}function p0(n,r,s,l,d,g){let D=0;const A={type:d.type,currentCaseLViewIndex:Sc(n,r,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function ww(n,r,s){n.push(h0(r.mainBinding),2,-1-r.mainBinding,s<<2|2)})(s,d,g),function jn(n,r,s){const l=n.data[r];null===l?n.data[r]=s:l.value=s}(n,g,A);const L=d.values;for(let q=0;q<L.length;q++){const ae=L[q],ve=[];for(let et=0;et<ae.length;et++){const gt=ae[et];if("string"!=typeof gt){const Bt=ve.push(gt)-1;ae[et]=`\x3c!--\ufffd${Bt}\ufffd--\x3e`}}D=vw(n,A,r,s,l,d.cases[q],ae.join(""),ve)|D}D&&function Dw(n,r,s){n.push(r,1,s<<2|3)}(s,D,g)}function yw(n){const r=[],s=[];let l=1,d=0;const g=tv(n=n.replace(c0,function(D,A,L){return l="select"===L?0:1,d=parseInt(A.slice(1),10),""}));for(let D=0;D<g.length;){let A=g[D++].trim();1===l&&(A=A.replace(/\s*(?:=)?(\w+)\s*/,"$1")),A.length&&r.push(A);const L=tv(g[D++]);r.length>s.length&&s.push(L)}return{type:l,mainBinding:d,cases:r,values:s}}function tv(n){if(!n)return[];let r=0;const s=[],l=[],d=/[{}]/g;let g;for(d.lastIndex=0;g=d.exec(n);){const A=g.index;if("}"==g[0]){if(s.pop(),0==s.length){const L=n.substring(r,A);c0.test(L)?l.push(yw(L)):l.push(L),r=A+1}}else{if(0==s.length){const L=n.substring(r,A);l.push(L),r=A+1}s.push("{")}}const D=n.substring(r);return l.push(D),l}function vw(n,r,s,l,d,g,D,A){const L=[],q=[],ae=[];r.cases.push(g),r.create.push(L),r.remove.push(q),r.update.push(ae);const et=function Tl(n){const r=new Od(n);return function jl(){try{return!!(new window.DOMParser).parseFromString(gu(""),"text/html")}catch{return!1}}()?new jc(r):r}(function Bl(){return void 0!==Id?Id:typeof document<"u"?document:void 0}()).getInertBodyElement(D),gt=function Wc(n){return"content"in n&&function Uu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(et)||et;return gt?g0(n,r,s,l,L,q,ae,gt,d,A,0):0}function g0(n,r,s,l,d,g,D,A,L,q,ae){let ve=0,et=A.firstChild;for(;et;){const gt=Sc(n,s,1,null);switch(et.nodeType){case Node.ELEMENT_NODE:const Bt=et,rn=Bt.tagName.toLowerCase();if(Bi.hasOwnProperty(rn)){nv(d,e,rn,L,gt),n.data[gt]=rn;const qt=Bt.attributes;for(let Br=0;Br<qt.length;Br++){const Us=qt.item(Br),Jo=Us.name.toLowerCase();Us.value.match(Z_)?nu.hasOwnProperty(Jo)&&lm(D,Us.value,gt,Us.name,0,gl[Jo]?Bu:null):Ew(d,gt,Us)}ve=g0(n,r,s,l,d,g,D,et,gt,q,ae+1)|ve,m0(g,gt,ae)}break;case Node.TEXT_NODE:const vn=et.textContent||"",$n=vn.match(Z_);nv(d,null,$n?"":vn,L,gt),m0(g,gt,ae),$n&&(ve=lm(D,vn,gt,null,0,null)|ve);break;case Node.COMMENT_NODE:const wr=aw.exec(et.textContent||"");if(wr){const Br=q[parseInt(wr[1],10)];nv(d,t,"",L,gt),p0(n,s,l,L,Br,gt),bw(g,gt,ae)}}et=et.nextSibling}return ve}function m0(n,r,s){0===s&&n.push(r)}function bw(n,r,s){0===s&&(n.push(~r),n.push(r))}function nv(n,r,s,l,d){null!==r&&n.push(r),n.push(s,d,function Na(n,r,s){return n|r<<17|s<<1}(0,l,d))}function Ew(n,r,s){n.push(r<<1|1,s.name,s.value)}function y0(n,r,s=-1){const l=sr(),d=Lt(),g=22+n,D=ts(l.consts,r),A=ha();l.firstCreatePass&&function hw(n,r,s,l,d,g){const D=ha(),A=[],L=[],q=[[]];d=function _w(n,r){if(function mw(n){return-1===n}(r))return f0(n);{const s=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,l=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return f0(n.substring(s,l))}}(d,g);const ae=function dw(n){return n.replace(cw," ")}(d).split(uw);for(let ve=0;ve<ae.length;ve++){let et=ae[ve];if(0==(1&ve)){const gt=tv(et);for(let Bt=0;Bt<gt.length;Bt++){let rn=gt[Bt];if(0==(1&Bt)){const vn=rn;""!==vn&&fw(n,D,q[0],A,L,s,vn)}else{const vn=rn;if("object"!=typeof vn)throw new Error(`Unable to parse ICU expression in "${d}" message.`);p0(n,s,L,r,vn,d0(n,D,q[0],s,A,"",!0).index)}}}else{const gt=47===et.charCodeAt(0),rn=(et.charCodeAt(gt?1:0),22+Number.parseInt(et.substring(gt?2:1)));if(gt)q.shift(),Z(ha(),!1);else{const vn=Js(n,q[0],rn);q.unshift([]),Z(vn,!0)}}}n.data[l]={create:A,update:L}}(l,null===A?0:A.index,d,g,D,s);const L=l.data[g],ae=rd(l,A===d[6]?null:A,d);(function nw(n,r,s,l){const d=n[11];for(let g=0;g<r.length;g++){const D=r[g++],A=r[g],L=(D&o.COMMENT)===o.COMMENT,q=(D&o.APPEND_EAGERLY)===o.APPEND_EAGERLY,ae=D>>>o.SHIFT;let ve=n[ae];null===ve&&(ve=n[ae]=L?d.createComment(A):Ss(d,A)),q&&null!==s&&Ga(d,s,ve,l,!1)}})(d,L.create,ae,A&&8&A.type?d[A.index]:null),Kr(!0)}function b0(n,r,s){y0(n,r,s),function v0(){Kr(!1)}()}function rv(n){return function ew(n){n&&(sc|=1<<Math.min(om,31)),om++}(yi(Lt(),Tt(),n)),rv}function w0(n){!function tw(n,r,s){if(om>0){const l=n.data[s];o0(n,r,Array.isArray(l)?l:l.update,X()-om-1,sc)}sc=0,om=0}(sr(),Lt(),n+22)}function iv(n,r,s,l,d){if(n=Pe(n),Array.isArray(n))for(let g=0;g<n.length;g++)iv(n[g],r,s,l,d);else{const g=sr(),D=Lt();let A=su(n)?n:Pe(n.provide),L=wu(n);const q=Ii(),ae=1048575&q.providerIndexes,ve=q.directiveStart,et=q.providerIndexes>>20;if(su(n)||!n.multi){const gt=new Io(L,d,Tc),Bt=ov(A,r,d?ae:ae+et,ve);-1===Bt?(zt($e(q,D),g,A),sv(g,n,r.length),r.push(A),q.directiveStart++,q.directiveEnd++,d&&(q.providerIndexes+=1048576),s.push(gt),D.push(gt)):(s[Bt]=gt,D[Bt]=gt)}else{const gt=ov(A,r,ae+et,ve),Bt=ov(A,r,ae,ae+et),rn=gt>=0&&s[gt],vn=Bt>=0&&s[Bt];if(d&&!vn||!d&&!rn){zt($e(q,D),g,A);const $n=function Lw(n,r,s,l,d){const g=new Io(n,s,Tc);return g.multi=[],g.index=r,g.componentProviders=0,D0(g,d,l&&!s),g}(d?Fw:kw,s.length,d,l,L);!d&&vn&&(s[Bt].providerFactory=$n),sv(g,n,r.length,0),r.push(A),q.directiveStart++,q.directiveEnd++,d&&(q.providerIndexes+=1048576),s.push($n),D.push($n)}else sv(g,n,gt>-1?gt:Bt,D0(s[d?Bt:gt],L,!d&&l));!d&&l&&vn&&s[Bt].componentProviders++}}}function sv(n,r,s,l){const d=su(r),g=function Kc(n){return!!n.useClass}(r);if(d||g){const L=(g?Pe(r.useClass):r).prototype.ngOnDestroy;if(L){const q=n.destroyHooks||(n.destroyHooks=[]);if(!d&&r.multi){const ae=q.indexOf(s);-1===ae?q.push(s,[l,L]):q[ae+1].push(l,L)}else q.push(s,L)}}}function D0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function ov(n,r,s,l){for(let d=s;d<l;d++)if(r[d]===n)return d;return-1}function kw(n,r,s,l){return av(this.multi,[])}function Fw(n,r,s,l){const d=this.multi;let g;if(this.providerFactory){const D=this.providerFactory.componentProviders,A=Ni(s,s[1],this.providerFactory.index,l);g=A.slice(0,D),av(d,g);for(let L=D;L<A.length;L++)g.push(A[L])}else g=[],av(d,g);return g}function av(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function E0(n,r=[]){return s=>{s.providersResolver=(l,d)=>function Pw(n,r,s){const l=sr();if(l.firstCreatePass){const d=Wi(n);iv(s,l.data,l.blueprint,d,!0),iv(r,l.data,l.blueprint,d,!1)}}(l,d?d(n):n,r)}}class Np{}class C0{}function Bw(n,r){return new T0(n,r??null)}class T0 extends Np{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xg(this);const l=ai(r);this._bootstrapComponents=z(l.bootstrap),this._r3Injector=qp(r,s,[{provide:Np,useValue:this},{provide:m,useValue:this.componentFactoryResolver}],Ne(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class lv extends C0{constructor(r){super(),this.moduleType=r}create(r){return new T0(this.moduleType,r)}}class Vw extends Np{constructor(r,s,l){super(),this.componentFactoryResolver=new xg(this),this.instance=null;const d=new Gu([...r,{provide:Np,useValue:this},{provide:m,useValue:this.componentFactoryResolver}],s||zl(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function uv(n,r,s=null){return new Vw(n,r,s).injector}let Uw=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const l=ml(0,s.type),d=l.length>0?uv([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,d)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=$t({token:n,providedIn:"environment",factory:()=>new n(Ls(Ml))}),n})();function I0(n){n.getStandaloneInjector=r=>r.get(Uw).getOrCreateStandaloneInjector(n)}function R0(n,r,s,l){return F0(Lt(),N(),n,r,s,l)}function P0(n,r,s,l,d){return L0(Lt(),N(),n,r,s,l,d)}function k0(n,r,s,l,d,g){return function B0(n,r,s,l,d,g,D,A){const L=r+s;return function Fg(n,r,s,l,d){const g=oh(n,r,s,l);return yi(n,r+2,d)||g}(n,L,d,g,D)?Mu(n,L+3,A?l.call(A,d,g,D):l(d,g,D)):um(n,L+3)}(Lt(),N(),n,r,s,l,d,g)}function um(n,r){const s=n[r];return s===Xr?void 0:s}function F0(n,r,s,l,d,g){const D=r+s;return yi(n,D,d)?Mu(n,D+1,g?l.call(g,d):l(d)):um(n,D+1)}function L0(n,r,s,l,d,g,D){const A=r+s;return oh(n,A,d,g)?Mu(n,A+2,D?l.call(D,d,g):l(d,g)):um(n,A+2)}function j0(n,r){const s=sr();let l;const d=n+22;s.firstCreatePass?(l=function nD(n,r){if(r)for(let s=r.length-1;s>=0;s--){const l=r[s];if(n===l.name)return l}}(r,s.pipeRegistry),s.data[d]=l,l.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(d,l.onDestroy)):l=s.data[d];const g=l.factory||(l.factory=Ns(l.type)),D=ir(Tc);try{const A=W(!1),L=g();return W(A),function Fy(n,r,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=l}(s,Lt(),d,L),L}finally{ir(D)}}function H0(n,r,s){const l=n+22,d=Lt(),g=Gs(d,l);return cm(d,l)?F0(d,N(),r,g.transform,s,g):g.transform(s)}function $0(n,r,s,l){const d=n+22,g=Lt(),D=Gs(g,d);return cm(g,d)?L0(g,N(),r,D.transform,s,l,D):D.transform(s,l)}function cm(n,r){return n[1].data[r].pure}function dv(n){return r=>{setTimeout(n,void 0,r)}}const kc=class oD extends a.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,l){let d=r,g=s||(()=>null),D=l;if(r&&"object"==typeof r){const L=r;d=L.next?.bind(L),g=L.error?.bind(L),D=L.complete?.bind(L)}this.__isAsync&&(g=dv(g),d&&(d=dv(d)),D&&(D=dv(D)));const A=super.subscribe({next:d,error:g,complete:D});return r instanceof k.w0&&r.add(A),A}};function aD(){return this._results[Ac()]()}class hv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Ac(),l=hv.prototype;l[s]||(l[s]=aD)}get changes(){return this._changes||(this._changes=new kc)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const l=this;l.dirty=!1;const d=ia(r);(this._changesDetected=!function Da(n,r,s){if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++){let d=n[l],g=r[l];if(s&&(d=s(d),g=s(g)),g!==d)return!1}return!0}(l._results,d,s))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let dm=(()=>{class n{}return n.__NG_ELEMENT_ID__=cD,n})();const lD=dm,uD=class extends lD{constructor(r,s,l){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(r,s){const l=this._declarationTContainer.tViews,d=Xd(this._declarationLView,l,r,16,null,l.declTNode,null,null,null,null,s||null);d[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(d[19]=D.createEmbeddedView(l)),yg(l,d,r),new hd(d)}};function cD(){return Y_(Ii(),Lt())}function Y_(n,r){return 4&n.type?new uD(r,n,Y(n,r)):null}let Q_=(()=>{class n{}return n.__NG_ELEMENT_ID__=dD,n})();function dD(){return W0(Ii(),Lt())}const hD=Q_,G0=class extends hD{constructor(r,s,l){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=l}get element(){return Y(this._hostTNode,this._hostLView)}get injector(){return new _n(this._hostTNode,this._hostLView)}get parentInjector(){const r=at(this._hostTNode,this._hostLView);if(wl(r)){const s=Ko(r,this._hostLView),l=ri(r);return new _n(s[1].data[l+8],s)}return new _n(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=z0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,l){let d,g;"number"==typeof l?d=l:null!=l&&(d=l.index,g=l.injector);const D=r.createEmbeddedView(s||{},g);return this.insert(D,d),D}createComponent(r,s,l,d,g){const D=r&&!function sl(n){return"function"==typeof n}(r);let A;if(D)A=s;else{const ve=s||{};A=ve.index,l=ve.injector,d=ve.projectableNodes,g=ve.environmentInjector||ve.ngModuleRef}const L=D?r:new sh(Tn(r)),q=l||this.parentInjector;if(!g&&null==L.ngModule){const et=(D?q:this.parentInjector).get(Ml,null);et&&(g=et)}const ae=L.create(q,d,void 0,g);return this.insert(ae.hostView,A),ae}insert(r,s){const l=r._lView,d=l[1];if(function Po(n){return li(n[3])}(l)){const ae=this.indexOf(r);if(-1!==ae)this.detach(ae);else{const ve=l[3],et=new G0(ve,ve[6],ve[3]);et.detach(et.indexOf(r))}}const g=this._adjustIndex(s),D=this._lContainer;!function ed(n,r,s,l){const d=10+l,g=s.length;l>0&&(s[d-1][4]=r),l<g-10?(r[4]=s[d],tu(s,10+l,r)):(s.push(r),r[4]=null),r[3]=s;const D=r[17];null!==D&&s!==D&&function qu(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(D,r);const A=r[19];null!==A&&A.insertView(n),r[2]|=64}(d,l,D,g);const A=od(g,D),L=l[11],q=id(L,D[7]);return null!==q&&function yl(n,r,s,l,d,g){l[0]=d,l[6]=r,Ec(n,l,s,1,d,g)}(d,D[6],L,l,q,A),r.attachToViewContainerRef(),tu(fv(D),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=z0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),l=nd(this._lContainer,s);l&&(Vo(fv(this._lContainer),s),wc(l[1],l))}detach(r){const s=this._adjustIndex(r,-1),l=nd(this._lContainer,s);return l&&null!=Vo(fv(this._lContainer),s)?new hd(l):null}_adjustIndex(r,s=0){return r??this.length+s}};function z0(n){return n[8]}function fv(n){return n[8]||(n[8]=[])}function W0(n,r){let s;const l=r[n.index];if(li(l))s=l;else{let d;if(8&n.type)d=pi(l);else{const g=r[11];d=g.createComment("");const D=Ki(n,r);Ga(g,id(g,D),d,function Uf(n,r){return n.nextSibling(r)}(g,D),!1)}r[n.index]=s=Qm(l,r,d,n),hp(r,s)}return new G0(s,n,r)}class pv{constructor(r){this.queryList=r,this.matches=null}clone(){return new pv(this.queryList)}setDirty(){this.queryList.setDirty()}}class gv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const l=null!==r.contentQueries?r.contentQueries[0]:s.length,d=[];for(let g=0;g<l;g++){const D=s.getByIndex(g);d.push(this.queries[D.indexInDeclarationView].clone())}return new gv(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==tb(r,s).matches&&this.queries[s].setDirty()}}class K0{constructor(r,s,l=null){this.predicate=r,this.flags=s,this.read=l}}class mv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let l=0;l<this.length;l++){const d=null!==s?s.length:0,g=this.getByIndex(l).embeddedTView(r,d);g&&(g.indexInDeclarationView=l,null!==s?s.push(g):s=[g])}return null!==s?new mv(s):null}template(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class _v{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new _v(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=r.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(r,s,gD(s,g)),this.matchTNodeWithReadOption(r,s,Sr(s,r,g,!1,!1))}else l===dm?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Sr(s,r,l,!1,!1))}matchTNodeWithReadOption(r,s,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===le||d===Q_||d===dm&&4&s.type)this.addMatch(s.index,-2);else{const g=Sr(s,r,d,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,l)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function gD(n,r){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===r)return s[l+1];return null}function _D(n,r,s,l){return-1===s?function mD(n,r){return 11&n.type?Y(n,r):4&n.type?Y_(n,r):null}(r,n):-2===s?function yD(n,r,s){return s===le?Y(r,n):s===dm?Y_(r,n):s===Q_?W0(r,n):void 0}(n,r,l):Ni(n,n[1],s,r)}function q0(n,r,s,l){const d=r[19].queries[l];if(null===d.matches){const g=n.data,D=s.matches,A=[];for(let L=0;L<D.length;L+=2){const q=D[L];A.push(q<0?null:_D(r,g[q],D[L+1],s.metadata.read))}d.matches=A}return d.matches}function yv(n,r,s,l){const d=n.queries.getByIndex(s),g=d.matches;if(null!==g){const D=q0(n,r,d,s);for(let A=0;A<g.length;A+=2){const L=g[A];if(L>0)l.push(D[A/2]);else{const q=g[A+1],ae=r[-L];for(let ve=10;ve<ae.length;ve++){const et=ae[ve];et[17]===et[3]&&yv(et[1],et,q,l)}if(null!==ae[9]){const ve=ae[9];for(let et=0;et<ve.length;et++){const gt=ve[et];yv(gt[1],gt,q,l)}}}}}return l}function Z0(n){const r=Lt(),s=sr(),l=Is();Si(l+1);const d=tb(s,l);if(n.dirty&&function zo(n){return 4==(4&n[2])}(r)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const g=d.crossesNgTemplate?yv(s,r,l,[]):q0(s,r,d,l);n.reset(g,rt),n.notifyOnChanges()}return!0}return!1}function Y0(n,r,s){const l=sr();l.firstCreatePass&&(eb(l,new K0(n,r,s),-1),2==(2&r)&&(l.staticViewQueries=!0)),X0(l,Lt(),r)}function Q0(n,r,s,l){const d=sr();if(d.firstCreatePass){const g=Ii();eb(d,new K0(r,s,l),g.index),function bD(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}X0(d,Lt(),s)}function J0(){return function vD(n,r){return n[19].queries[r].queryList}(Lt(),Is())}function X0(n,r,s){const l=new hv(4==(4&s));zm(n,r,l,l.destroy),null===r[19]&&(r[19]=new gv),r[19].queries.push(new pv(l))}function eb(n,r,s){null===n.queries&&(n.queries=new mv),n.queries.track(new _v(r,s))}function tb(n,r){return n.queries.getByIndex(r)}function nb(n,r){return Y_(n,r)}function X_(...n){}const wb=new Mr("Application Initializer");let ey=(()=>{class n{constructor(s){this.appInits=s,this.resolve=X_,this.reject=X_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(bp(g))s.push(g);else if(wp(g)){const D=new Promise((A,L)=>{g.subscribe({complete:A,error:L})});s.push(D)}}Promise.all(s).then(()=>{l()}).catch(d=>{this.reject(d)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Ls(wb,8))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Db=new Mr("AppId",{providedIn:"root",factory:function Eb(){return`${Ev()}${Ev()}${Ev()}`}});function Ev(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cb=new Mr("Platform Initializer"),UD=new Mr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Tb=new Mr("appBootstrapListener"),jD=new Mr("AnimationModuleType");let HD=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ty=new Mr("LocaleId",{providedIn:"root",factory:()=>B(ty,xt.Optional|xt.SkipSelf)||function $D(){return typeof $localize<"u"&&$localize.locale||Ch}()}),GD=new Mr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zD{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let WD=(()=>{class n{compileModuleSync(s){return new lv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),g=z(ai(s).declarations).reduce((D,A)=>{const L=Tn(A);return L&&D.push(new sh(L)),D},[]);return new zD(l,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZD=(()=>Promise.resolve(0))();function Cv(n){typeof Zone>"u"?ZD.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ku{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kc(!1),this.onMicrotaskEmpty=new kc(!1),this.onStable=new kc(!1),this.onError=new kc(!1),typeof Zone>"u")throw new nt(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&s,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function YD(){let n=ur.requestAnimationFrame,r=ur.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function XD(n){const r=()=>{!function JD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ur,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Iv(n),n.isCheckStableRunning=!0,Tv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Iv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,d,g,D,A)=>{try{return Ab(n),s.invokeTask(d,g,D,A)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||n.shouldCoalesceRunChangeDetection)&&r(),Nb(n)}},onInvoke:(s,l,d,g,D,A,L)=>{try{return Ab(n),s.invoke(d,g,D,A,L)}finally{n.shouldCoalesceRunChangeDetection&&r(),Nb(n)}},onHasTask:(s,l,d,g)=>{s.hasTask(d,g),l===d&&("microTask"==g.change?(n._hasPendingMicrotasks=g.microTask,Iv(n),Tv(n)):"macroTask"==g.change&&(n.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,l,d,g)=>(s.handleError(d,g),n.runOutsideAngular(()=>n.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ku.isInAngularZone())throw new nt(909,!1)}static assertNotInAngularZone(){if(ku.isInAngularZone())throw new nt(909,!1)}run(r,s,l){return this._inner.run(r,s,l)}runTask(r,s,l,d){const g=this._inner,D=g.scheduleEventTask("NgZoneEvent: "+d,r,QD,X_,X_);try{return g.runTask(D,s,l)}finally{g.cancelTask(D)}}runGuarded(r,s,l){return this._inner.runGuarded(r,s,l)}runOutsideAngular(r){return this._outer.run(r)}}const QD={};function Tv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Iv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Ab(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Nb(n){n._nesting--,Tv(n)}class eE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kc,this.onMicrotaskEmpty=new kc,this.onStable=new kc,this.onError=new kc}run(r,s,l){return r.apply(s,l)}runGuarded(r,s,l){return r.apply(s,l)}runOutsideAngular(r){return r()}runTask(r,s,l,d){return r.apply(s,l)}}const Mb=new Mr(""),xb=new Mr("");let Sv,tE=(()=>{class n{constructor(s,l,d){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sv||(function nE(n){Sv=n}(d),d.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ku.assertNotInAngularZone(),Cv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==g),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:d})}whenStable(s,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(Ls(ku),Ls(Ob),Ls(xb))},n.\u0275prov=$t({token:n,factory:n.\u0275fac}),n})(),Ob=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return Sv?.findTestabilityInTree(this,s,l)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Th=null;const Rb=new Mr("AllowMultipleToken"),Av=new Mr("PlatformDestroyListeners");class sE{constructor(r,s){this.name=r,this.token=s}}function kb(n,r,s=[]){const l=`Platform: ${r}`,d=new Mr(l);return(g=[])=>{let D=Nv();if(!D||D.injector.get(Rb,!1)){const A=[...s,...g,{provide:d,useValue:!0}];n?n(A):function oE(n){if(Th&&!Th.get(Rb,!1))throw new nt(400,!1);Th=n;const r=n.get(Lb);(function Pb(n){const r=n.get(Cb,null);r&&r.forEach(s=>s())})(n)}(function Fb(n=[],r){return ld.create({name:r,providers:[{provide:pc,useValue:"platform"},{provide:Av,useValue:new Set([()=>Th=null])},...n]})}(A,l))}return function lE(n){const r=Nv();if(!r)throw new nt(401,!1);return r}()}}function Nv(){return Th?.get(Lb)??null}let Lb=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const d=function Vb(n,r){let s;return s="noop"===n?new eE:("zone.js"===n?void 0:n)||new ku(r),s}(l?.ngZone,function Bb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:ku,useValue:d}];return d.run(()=>{const D=ld.create({providers:g,parent:this.injector,name:s.moduleType.name}),A=s.create(D),L=A.injector.get($d,null);if(!L)throw new nt(402,!1);return d.runOutsideAngular(()=>{const q=d.onError.subscribe({next:ae=>{L.handleError(ae)}});A.onDestroy(()=>{ry(this._modules,A),q.unsubscribe()})}),function Ub(n,r,s){try{const l=s();return bp(l)?l.catch(d=>{throw r.runOutsideAngular(()=>n.handleError(d)),d}):l}catch(l){throw r.runOutsideAngular(()=>n.handleError(l)),l}}(L,d,()=>{const q=A.injector.get(ey);return q.runInitializers(),q.donePromise.then(()=>(v(A.injector.get(ty,Ch)||Ch),this._moduleDoBootstrap(A),A))})})}bootstrapModule(s,l=[]){const d=jb({},l);return function rE(n,r,s){const l=new lv(s);return Promise.resolve(l)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(s){const l=s.injector.get(ny);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new nt(403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(Av,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Ls(ld))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function jb(n,r){return Array.isArray(r)?r.reduce(jb,n):{...n,...r}}let ny=(()=>{class n{constructor(s,l,d){this._zone=s,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new Q.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),D=new Q.y(A=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{ku.assertNotInAngularZone(),Cv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{ku.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{L.unsubscribe(),q.unsubscribe()}});this.isStable=(0,ge.T)(g,D.pipe((0,Oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,l){const d=s instanceof Zc;if(!this._injector.get(ey).done)throw!d&&zr(s),new nt(405,false);let D;D=d?s:this._injector.get(m).resolveComponentFactory(s),this.componentTypes.push(D.componentType);const A=function iE(n){return n.isBoundToModule}(D)?void 0:this._injector.get(Np),q=D.create(ld.NULL,[],l||D.selector,A),ae=q.location.nativeElement,ve=q.injector.get(Mb,null);return ve?.registerApplication(ae),q.onDestroy(()=>{this.detachView(q.hostView),ry(this.components,q),ve?.unregisterApplication(ae)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new nt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;ry(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Tb,[]).concat(this._bootstrapListeners).forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>ry(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new nt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(Ls(ku),Ls(Ml),Ls($d))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ry(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let $b=!0,Gb=!1;function cE(){return Gb=!0,$b}function dE(){if(Gb)throw new Error("Cannot enable prod mode after platform setup.");$b=!1}let hE=(()=>{class n{}return n.__NG_ELEMENT_ID__=fE,n})();function fE(n){return function pE(n,r,s){if(As(n)&&!s){const l=gr(n.index,r);return new hd(l,l)}return 47&n.type?new hd(r[16],r):null}(Ii(),Lt(),16==(16&n))}class qb{constructor(){}supports(r){return Nc(r)}create(r){return new bE(r)}}const vE=(n,r)=>r;class bE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vE}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,l=this._removalsHead,d=0,g=null;for(;s||l;){const D=!l||s&&s.currentIndex<Yb(l,d,g)?s:l,A=Yb(D,d,g),L=D.currentIndex;if(D===l)d--,l=l._nextRemoved;else if(s=s._next,null==D.previousIndex)d++;else{g||(g=[]);const q=A-d,ae=L-d;if(q!=ae){for(let et=0;et<q;et++){const gt=et<g.length?g[et]:g[et]=0,Bt=gt+et;ae<=Bt&&Bt<q&&(g[et]=gt+1)}g[D.previousIndex]=ae-q}}A!==L&&r(D,A,L)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Nc(r))throw new nt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,g,D,s=this._itHead,l=!1;if(Array.isArray(r)){this.length=r.length;for(let A=0;A<this.length;A++)g=r[A],D=this._trackByFn(A,g),null!==s&&Object.is(s.trackById,D)?(l&&(s=this._verifyReinsertion(s,g,D,A)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,D,A),l=!0),s=s._next}else d=0,function a_(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Ac()]();let l;for(;!(l=s.next()).done;)r(l.value)}}(r,A=>{D=this._trackByFn(d,A),null!==s&&Object.is(s.trackById,D)?(l&&(s=this._verifyReinsertion(s,A,D,d)),Object.is(s.item,A)||this._addIdentityChange(s,A)):(s=this._mismatch(s,A,D,d),l=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,l,d){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,g,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,g,d)):r=this._addAfter(new wE(s,l),g,d),r}_verifyReinsertion(r,s,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?r=this._reinsertAfter(g,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,g=r._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(r,s,l),this._addToMoves(r,l),r}_moveAfter(r,s,l){return this._unlink(r),this._insertAfter(r,s,l),this._addToMoves(r,l),r}_addAfter(r,s,l){return this._insertAfter(r,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,l){const d=null===s?this._itHead:s._next;return r._next=d,r._prev=s,null===d?this._itTail=r:d._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Zb),this._linkedRecords.put(r),r.currentIndex=l,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,l=r._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class wE{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,r))return l;return null}remove(r){const s=r._prevDup,l=r._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class Zb{constructor(){this.map=new Map}put(r){const s=r.trackById;let l=this.map.get(s);l||(l=new DE,this.map.set(s,l)),l.add(r)}get(r,s){const d=this.map.get(r);return d?d.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yb(n,r,s){const l=n.previousIndex;if(null===l)return l;let d=0;return s&&l<s.length&&(d=s[l]),l+r+d}class Qb{constructor(){}supports(r){return r instanceof Map||Pg(r)}create(){return new EE}}class EE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Pg(r)))throw new nt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(l,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(d,l);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const l=r._prev;return s._next=r,s._prev=l,r._prev=s,l&&(l._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,s);const g=d._prev,D=d._next;return g&&(g._next=D),D&&(D._prev=g),d._next=null,d._prev=null,d}const l=new CE(r);return this._records.set(r,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(l=>s(r[l],l))}}class CE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jb(){return new Pv([new qb])}let Pv=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const d=l.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||Jb()),deps:[[n,new qn,new dn]]}}find(s){const l=this.factories.find(d=>d.supports(s));if(null!=l)return l;throw new nt(901,!1)}}return n.\u0275prov=$t({token:n,providedIn:"root",factory:Jb}),n})();function Xb(){return new kv([new Qb])}let kv=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const d=l.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||Xb()),deps:[[n,new qn,new dn]]}}find(s){const l=this.factories.find(d=>d.supports(s));if(l)return l;throw new nt(901,!1)}}return n.\u0275prov=$t({token:n,providedIn:"root",factory:Xb}),n})();const SE=kb(null,"core",[]);let AE=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Ls(ny))},n.\u0275mod=on({type:n}),n.\u0275inj=Rt({}),n})();function NE(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function xE(n,r){const s=Tn(n),l=r.elementInjector||zl();return new sh(s).create(l,r.projectableNodes,r.hostElement,r.environmentInjector)}},433:(Xt,st,V)=>{"use strict";V.d(st,{Fj:()=>ft,NI:()=>As,u:()=>gs,cw:()=>Se,sg:()=>Ts,u5:()=>no,wO:()=>ca,JU:()=>nt,JJ:()=>Dr,JL:()=>Gn,On:()=>Mt,j3:()=>ue,wV:()=>xn,UX:()=>ro,Q7:()=>ts,kI:()=>fe,_Y:()=>Zt});var a=V(4650),k=V(6895),Q=V(8996),ge=V(9751),Oe=V(4742),be=V(8421),je=V(3269),Ne=V(5403),We=V(3268),de=V(1810),Pe=V(4004);let yt=(()=>{class O{constructor(N,X){this._renderer=N,this._elementRef=X,this.onChange=it=>{},this.onTouched=()=>{}}setProperty(N,X){this._renderer.setProperty(this._elementRef.nativeElement,N,X)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}}return O.\u0275fac=function(N){return new(N||O)(a.Y36(a.Qsj),a.Y36(a.SBq))},O.\u0275dir=a.lG2({type:O}),O})(),ot=(()=>{class O extends yt{}return O.\u0275fac=function(){let R;return function(X){return(R||(R=a.n5z(O)))(X||O)}}(),O.\u0275dir=a.lG2({type:O,features:[a.qOj]}),O})();const nt=new a.OlP("NgValueAccessor"),ut={provide:nt,useExisting:(0,a.Gpc)(()=>ft),multi:!0},Gt=new a.OlP("CompositionEventMode");let ft=(()=>{class O extends yt{constructor(N,X,it){super(N,X),this._compositionMode=it,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ze(){const O=(0,k.q)()?(0,k.q)().getUserAgent():"";return/android (\d+)/.test(O.toLowerCase())}())}writeValue(N){this.setProperty("value",N??"")}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}}return O.\u0275fac=function(N){return new(N||O)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Gt,8))},O.\u0275dir=a.lG2({type:O,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(N,X){1&N&&a.NdJ("input",function(Tt){return X._handleInput(Tt.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(Tt){return X._compositionEnd(Tt.target.value)})},features:[a._Bn([ut]),a.qOj]}),O})();function ke(O){return null==O||("string"==typeof O||Array.isArray(O))&&0===O.length}function me(O){return null!=O&&"number"==typeof O.length}const Ae=new a.OlP("NgValidators"),ie=new a.OlP("NgAsyncValidators"),Be=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class fe{static min(R){return function Fe(O){return R=>{if(ke(R.value)||ke(O))return null;const N=parseFloat(R.value);return!isNaN(N)&&N<O?{min:{min:O,actual:R.value}}:null}}(R)}static max(R){return function qe(O){return R=>{if(ke(R.value)||ke(O))return null;const N=parseFloat(R.value);return!isNaN(N)&&N>O?{max:{max:O,actual:R.value}}:null}}(R)}static required(R){return Qe(R)}static requiredTrue(R){return function Ot(O){return!0===O.value?null:{required:!0}}(R)}static email(R){return function Pt(O){return ke(O.value)||Be.test(O.value)?null:{email:!0}}(R)}static minLength(R){return jt(R)}static maxLength(R){return function Jt(O){return R=>me(R.value)&&R.value.length>O?{maxlength:{requiredLength:O,actualLength:R.value.length}}:null}(R)}static pattern(R){return function en(O){if(!O)return wt;let R,N;return"string"==typeof O?(N="","^"!==O.charAt(0)&&(N+="^"),N+=O,"$"!==O.charAt(O.length-1)&&(N+="$"),R=new RegExp(N)):(N=O.toString(),R=O),X=>{if(ke(X.value))return null;const it=X.value;return R.test(it)?null:{pattern:{requiredPattern:N,actualValue:it}}}}(R)}static nullValidator(R){return null}static compose(R){return Cn(R)}static composeAsync(R){return fn(R)}}function Qe(O){return ke(O.value)?{required:!0}:null}function jt(O){return R=>ke(R.value)||!me(R.value)?null:R.value.length<O?{minlength:{requiredLength:O,actualLength:R.value.length}}:null}function wt(O){return null}function ln(O){return null!=O}function Wt(O){return(0,a.QGY)(O)?(0,Q.D)(O):O}function Yt(O){let R={};return O.forEach(N=>{R=null!=N?{...R,...N}:R}),0===Object.keys(R).length?null:R}function $t(O,R){return R.map(N=>N(O))}function Rt(O){return O.map(R=>function bn(O){return!O.validate}(R)?R:N=>R.validate(N))}function Cn(O){if(!O)return null;const R=O.filter(ln);return 0==R.length?null:function(N){return Yt($t(N,R))}}function ei(O){return null!=O?Cn(Rt(O)):null}function fn(O){if(!O)return null;const R=O.filter(ln);return 0==R.length?null:function(N){return function he(...O){const R=(0,je.jO)(O),{args:N,keys:X}=(0,Oe.D)(O),it=new ge.y(Tt=>{const{length:Ln}=N;if(!Ln)return void Tt.complete();const Or=new Array(Ln);let Kr=Ln,gi=Ln;for(let Yr=0;Yr<Ln;Yr++){let Jr=!1;(0,be.Xf)(N[Yr]).subscribe((0,Ne.x)(Tt,Ui=>{Jr||(Jr=!0,gi--),Or[Yr]=Ui},()=>Kr--,void 0,()=>{(!Kr||!Jr)&&(gi||Tt.next(X?(0,de.n)(X,Or):Or),Tt.complete())}))}});return R?it.pipe((0,We.Z)(R)):it}($t(N,R).map(Wt)).pipe((0,Pe.U)(Yt))}}function Rn(O){return null!=O?fn(Rt(O)):null}function er(O,R){return null===O?[R]:Array.isArray(O)?[...O,R]:[O,R]}function pr(O){return O._rawValidators}function Vr(O){return O._rawAsyncValidators}function Ur(O){return O?Array.isArray(O)?O:[O]:[]}function Ar(O,R){return Array.isArray(O)?O.includes(R):O===R}function di(O,R){const N=Ur(R);return Ur(O).forEach(it=>{Ar(N,it)||N.push(it)}),N}function xt(O,R){return Ur(R).filter(N=>!Ar(O,N))}class rr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=ei(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=Rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,N){return!!this.control&&this.control.hasError(R,N)}getError(R,N){return this.control?this.control.getError(R,N):null}}class Pn extends rr{get formDirective(){return null}get path(){return null}}class ir extends rr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ci{constructor(R){this._cd=R}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Dr=(()=>{class O extends Ci{constructor(N){super(N)}}return O.\u0275fac=function(N){return new(N||O)(a.Y36(ir,2))},O.\u0275dir=a.lG2({type:O,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(N,X){2&N&&a.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)},features:[a.qOj]}),O})(),Gn=(()=>{class O extends Ci{constructor(N){super(N)}}return O.\u0275fac=function(N){return new(N||O)(a.Y36(Pn,10))},O.\u0275dir=a.lG2({type:O,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(N,X){2&N&&a.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)("ng-submitted",X.isSubmitted)},features:[a.qOj]}),O})();const on="VALID",dr="INVALID",nr="PENDING",kn="DISABLED";function An(O){return(zr(O)?O.validators:O)||null}function Tn(O){return Array.isArray(O)?ei(O):O||null}function Er(O,R){return(zr(R)?R.asyncValidators:O)||null}function Cr(O){return Array.isArray(O)?Rn(O):O||null}function zr(O){return null!=O&&!Array.isArray(O)&&"object"==typeof O}function ai(O,R,N){const X=O.controls;if(!(R?Object.keys(X):X).length)throw new a.vHH(1e3,"");if(!X[N])throw new a.vHH(1001,"")}function xr(O,R,N){O._forEachChild((X,it)=>{if(void 0===N[it])throw new a.vHH(1002,"")})}class Re{constructor(R,N){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=R,this._rawAsyncValidators=N,this._composedValidatorFn=Tn(this._rawValidators),this._composedAsyncValidatorFn=Cr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===on}get invalid(){return this.status===dr}get pending(){return this.status==nr}get disabled(){return this.status===kn}get enabled(){return this.status!==kn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._rawValidators=R,this._composedValidatorFn=Tn(R)}setAsyncValidators(R){this._rawAsyncValidators=R,this._composedAsyncValidatorFn=Cr(R)}addValidators(R){this.setValidators(di(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(di(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(xt(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(xt(R,this._rawAsyncValidators))}hasValidator(R){return Ar(this._rawValidators,R)}hasAsyncValidator(R){return Ar(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=nr,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const N=this._parentMarkedDirty(R.onlySelf);this.status=kn,this.errors=null,this._forEachChild(X=>{X.disable({...R,onlySelf:!0})}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...R,skipPristineCheck:N}),this._onDisabledChange.forEach(X=>X(!0))}enable(R={}){const N=this._parentMarkedDirty(R.onlySelf);this.status=on,this._forEachChild(X=>{X.enable({...R,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors({...R,skipPristineCheck:N}),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}getRawValue(){return this.value}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===on||this.status===nr)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kn:on}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=nr,this._hasOwnPendingAsyncValidator=!0;const N=Wt(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,N={}){this.errors=R,this._updateControlsErrors(!1!==N.emitEvent)}get(R){let N=R;return null==N||(Array.isArray(N)||(N=N.split(".")),0===N.length)?null:N.reduce((X,it)=>X&&X._find(it),this)}getError(R,N){const X=N?this.get(N):this;return X&&X.errors?X.errors[R]:null}hasError(R,N){return!!this.getError(R,N)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?kn:this.errors?dr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nr)?nr:this._anyControlsHaveStatus(dr)?dr:on}_anyControlsHaveStatus(R){return this._anyControls(N=>N.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){zr(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(R){return null}}class Se extends Re{constructor(R,N,X){super(An(N),Er(X,N)),this.controls=R,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,N){return this.controls[R]?this.controls[R]:(this.controls[R]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(R,N,X={}){this.registerControl(R,N),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(R,N={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(R,N,X={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],N&&this.registerControl(R,N),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,N={}){xr(this,0,R),Object.keys(R).forEach(X=>{ai(this,!0,X),this.controls[X].setValue(R[X],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(R,N={}){null!=R&&(Object.keys(R).forEach(X=>{const it=this.controls[X];it&&it.patchValue(R[X],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(R={},N={}){this._forEachChild((X,it)=>{X.reset(R[it],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(R,N,X)=>(R[X]=N.getRawValue(),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(N,X)=>!!X._syncPendingControls()||N);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(N=>{const X=this.controls[N];X&&R(X,N)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const[N,X]of Object.entries(this.controls))if(this.contains(N)&&R(X))return!0;return!1}_reduceValue(){return this._reduceChildren({},(N,X,it)=>((X.enabled||this.disabled)&&(N[it]=X.value),N))}_reduceChildren(R,N){let X=R;return this._forEachChild((it,Tt)=>{X=N(X,it,Tt)}),X}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(R){return this.controls.hasOwnProperty(R)?this.controls[R]:null}}class St extends Se{}function Qt(O,R){return[...R.path,O]}function Mn(O,R){ar(O,R),R.valueAccessor.writeValue(O.value),O.disabled&&R.valueAccessor.setDisabledState?.(!0),function uo(O,R){R.valueAccessor.registerOnChange(N=>{O._pendingValue=N,O._pendingChange=!0,O._pendingDirty=!0,"change"===O.updateOn&&ti(O,R)})}(O,R),function hs(O,R){const N=(X,it)=>{R.valueAccessor.writeValue(X),it&&R.viewToModelUpdate(X)};O.registerOnChange(N),R._registerOnDestroy(()=>{O._unregisterOnChange(N)})}(O,R),function Xi(O,R){R.valueAccessor.registerOnTouched(()=>{O._pendingTouched=!0,"blur"===O.updateOn&&O._pendingChange&&ti(O,R),"submit"!==O.updateOn&&O.markAsTouched()})}(O,R),function En(O,R){if(R.valueAccessor.setDisabledState){const N=X=>{R.valueAccessor.setDisabledState(X)};O.registerOnDisabledChange(N),R._registerOnDestroy(()=>{O._unregisterOnDisabledChange(N)})}}(O,R)}function yr(O,R,N=!0){const X=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(X),R.valueAccessor.registerOnTouched(X)),vi(O,R),O&&(R._invokeOnDestroyCallbacks(),O._registerOnCollectionChange(()=>{}))}function Ji(O,R){O.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(R)})}function ar(O,R){const N=pr(O);null!==R.validator?O.setValidators(er(N,R.validator)):"function"==typeof N&&O.setValidators([N]);const X=Vr(O);null!==R.asyncValidator?O.setAsyncValidators(er(X,R.asyncValidator)):"function"==typeof X&&O.setAsyncValidators([X]);const it=()=>O.updateValueAndValidity();Ji(R._rawValidators,it),Ji(R._rawAsyncValidators,it)}function vi(O,R){let N=!1;if(null!==O){if(null!==R.validator){const it=pr(O);if(Array.isArray(it)&&it.length>0){const Tt=it.filter(Ln=>Ln!==R.validator);Tt.length!==it.length&&(N=!0,O.setValidators(Tt))}}if(null!==R.asyncValidator){const it=Vr(O);if(Array.isArray(it)&&it.length>0){const Tt=it.filter(Ln=>Ln!==R.asyncValidator);Tt.length!==it.length&&(N=!0,O.setAsyncValidators(Tt))}}}const X=()=>{};return Ji(R._rawValidators,X),Ji(R._rawAsyncValidators,X),N}function ti(O,R){O._pendingDirty&&O.markAsDirty(),O.setValue(O._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(O._pendingValue),O._pendingChange=!1}function ki(O,R){if(!O.hasOwnProperty("model"))return!1;const N=O.model;return!!N.isFirstChange()||!Object.is(R,N.currentValue)}function zi(O,R){if(!R)return null;let N,X,it;return Array.isArray(R),R.forEach(Tt=>{Tt.constructor===ft?N=Tt:function ws(O){return Object.getPrototypeOf(O.constructor)===ot}(Tt)?X=Tt:it=Tt}),it||X||N||null}function li(O,R){const N=O.indexOf(R);N>-1&&O.splice(N,1)}function Hs(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}const As=class extends Re{constructor(R=null,N,X){super(An(N),Er(X,N)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zr(N)&&(N.nonNullable||N.initialValueIsDefault)&&(this.defaultValue=Hs(R)?R.value:R)}setValue(R,N={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(R,N={}){this.setValue(R,N)}reset(R=this.defaultValue,N={}){this._applyFormState(R),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){li(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){li(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){Hs(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}},Je={provide:ir,useExisting:(0,a.Gpc)(()=>Mt)},ht=(()=>Promise.resolve())();let Mt=(()=>{class O extends ir{constructor(N,X,it,Tt,Ln){super(),this._changeDetectorRef=Ln,this.control=new As,this._registered=!1,this.update=new a.vpe,this._parent=N,this._setValidators(X),this._setAsyncValidators(it),this.valueAccessor=zi(0,Tt)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const X=N.name.previousValue;this.formDirective.removeControl({name:X,path:this._getPath(X)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),ki(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){ht.then(()=>{this.control.setValue(N,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(N){const X=N.isDisabled.currentValue,it=0!==X&&(0,a.D6c)(X);ht.then(()=>{it&&!this.control.disabled?this.control.disable():!it&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(N){return this._parent?Qt(N,this._parent):[N]}}return O.\u0275fac=function(N){return new(N||O)(a.Y36(Pn,9),a.Y36(Ae,10),a.Y36(ie,10),a.Y36(nt,10),a.Y36(a.sBO,8))},O.\u0275dir=a.lG2({type:O,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Je]),a.qOj,a.TTD]}),O})(),Zt=(()=>{class O{}return O.\u0275fac=function(N){return new(N||O)},O.\u0275dir=a.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),O})();const pn={provide:nt,useExisting:(0,a.Gpc)(()=>xn),multi:!0};let xn=(()=>{class O extends ot{writeValue(N){this.setProperty("value",N??"")}registerOnChange(N){this.onChange=X=>{N(""==X?null:parseFloat(X))}}}return O.\u0275fac=function(){let R;return function(X){return(R||(R=a.n5z(O)))(X||O)}}(),O.\u0275dir=a.lG2({type:O,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(N,X){1&N&&a.NdJ("input",function(Tt){return X.onChange(Tt.target.value)})("blur",function(){return X.onTouched()})},features:[a._Bn([pn]),a.qOj]}),O})(),Ds=(()=>{class O{}return O.\u0275fac=function(N){return new(N||O)},O.\u0275mod=a.oAB({type:O}),O.\u0275inj=a.cJS({}),O})();const Xo=new a.OlP("NgModelWithFormControlWarning"),Ns={provide:Pn,useExisting:(0,a.Gpc)(()=>Ts)};let Ts=(()=>{class O extends Pn{constructor(N,X){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(N),this._setAsyncValidators(X)}ngOnChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const X=this.form.get(N.path);return Mn(X,N),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),X}getControl(N){return this.form.get(N.path)}removeControl(N){yr(N.control||null,N,!1),function fs(O,R){const N=O.indexOf(R);N>-1&&O.splice(N,1)}(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,X){this.form.get(N.path).setValue(X)}onSubmit(N){return this.submitted=!0,function Fi(O,R){O._syncPendingControls(),R.forEach(N=>{const X=N.control;"submit"===X.updateOn&&X._pendingChange&&(N.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(N),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_updateDomValue(){this.directives.forEach(N=>{const X=N.control,it=this.form.get(N.path);X!==it&&(yr(X||null,N),(O=>O instanceof As)(it)&&(Mn(it,N),N.control=it))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const X=this.form.get(N.path);(function Gi(O,R){ar(O,R)})(X,N),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const X=this.form.get(N.path);X&&function Ti(O,R){return vi(O,R)}(X,N)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ar(this.form,this),this._oldForm&&vi(this._oldForm,this)}_checkFormPresent(){}}return O.\u0275fac=function(N){return new(N||O)(a.Y36(Ae,10),a.Y36(ie,10))},O.\u0275dir=a.lG2({type:O,selectors:[["","formGroup",""]],hostBindings:function(N,X){1&N&&a.NdJ("submit",function(Tt){return X.onSubmit(Tt)})("reset",function(){return X.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Ns]),a.qOj,a.TTD]}),O})();const Ro={provide:ir,useExisting:(0,a.Gpc)(()=>gs)};let gs=(()=>{class O extends ir{constructor(N,X,it,Tt,Ln){super(),this._ngModelWarningConfig=Ln,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=N,this._setValidators(X),this._setAsyncValidators(it),this.valueAccessor=zi(0,Tt)}set isDisabled(N){}ngOnChanges(N){this._added||this._setUpControl(),ki(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return Qt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return O._ngModelWarningSentOnce=!1,O.\u0275fac=function(N){return new(N||O)(a.Y36(Pn,13),a.Y36(Ae,10),a.Y36(ie,10),a.Y36(nt,10),a.Y36(Xo,8))},O.\u0275dir=a.lG2({type:O,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Ro]),a.qOj,a.TTD]}),O})();let os=(()=>{class O{constructor(){this._validator=wt}ngOnChanges(N){if(this.inputName in N){const X=this.normalizeInput(N[this.inputName].currentValue);this._enabled=this.enabled(X),this._validator=this._enabled?this.createValidator(X):wt,this._onChange&&this._onChange()}}validate(N){return this._validator(N)}registerOnValidatorChange(N){this._onChange=N}enabled(N){return null!=N}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275dir=a.lG2({type:O,features:[a.TTD]}),O})();const ms={provide:Ae,useExisting:(0,a.Gpc)(()=>ts),multi:!0};let ts=(()=>{class O extends os{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=N=>Qe}enabled(N){return N}}return O.\u0275fac=function(){let R;return function(X){return(R||(R=a.n5z(O)))(X||O)}}(),O.\u0275dir=a.lG2({type:O,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(N,X){2&N&&a.uIk("required",X._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([ms]),a.qOj]}),O})();const ua={provide:Ae,useExisting:(0,a.Gpc)(()=>ca),multi:!0};let ca=(()=>{class O extends os{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=N=>function hr(O){return"number"==typeof O?O:parseInt(O,10)}(N),this.createValidator=N=>jt(N)}}return O.\u0275fac=function(){let R;return function(X){return(R||(R=a.n5z(O)))(X||O)}}(),O.\u0275dir=a.lG2({type:O,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(N,X){2&N&&a.uIk("minlength",X._enabled?X.minlength:null)},inputs:{minlength:"minlength"},features:[a._Bn([ua]),a.qOj]}),O})(),sr=(()=>{class O{}return O.\u0275fac=function(N){return new(N||O)},O.\u0275mod=a.oAB({type:O}),O.\u0275inj=a.cJS({imports:[Ds]}),O})(),no=(()=>{class O{}return O.\u0275fac=function(N){return new(N||O)},O.\u0275mod=a.oAB({type:O}),O.\u0275inj=a.cJS({imports:[sr]}),O})(),ro=(()=>{class O{static withConfig(N){return{ngModule:O,providers:[{provide:Xo,useValue:N.warnOnNgModelWithFormControl}]}}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275mod=a.oAB({type:O}),O.\u0275inj=a.cJS({imports:[sr]}),O})();class Ii extends Re{constructor(R,N,X){super(An(N),Er(X,N)),this.controls=R,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[this._adjustIndex(R)]}push(R,N={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(R,N,X={}){this.controls.splice(R,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:X.emitEvent})}removeAt(R,N={}){let X=this._adjustIndex(R);X<0&&(X=0),this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),this.controls.splice(X,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(R,N,X={}){let it=this._adjustIndex(R);it<0&&(it=0),this.controls[it]&&this.controls[it]._registerOnCollectionChange(()=>{}),this.controls.splice(it,1),N&&(this.controls.splice(it,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,N={}){xr(this,0,R),R.forEach((X,it)=>{ai(this,!1,it),this.at(it).setValue(X,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(R,N={}){null!=R&&(R.forEach((X,it)=>{this.at(it)&&this.at(it).patchValue(X,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(R=[],N={}){this._forEachChild((X,it)=>{X.reset(R[it],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(R=>R.getRawValue())}clear(R={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_adjustIndex(R){return R<0?R+this.length:R}_syncPendingControls(){let R=this.controls.reduce((N,X)=>!!X._syncPendingControls()||N,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){this.controls.forEach((N,X)=>{R(N,X)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(N=>N.enabled&&R(N))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}_find(R){return this.at(R)??null}}function Z(O){return!!O&&(void 0!==O.asyncValidators||void 0!==O.validators||void 0!==O.updateOn)}let G=(()=>{class O{constructor(){this.useNonNullable=!1}get nonNullable(){const N=new O;return N.useNonNullable=!0,N}group(N,X=null){const it=this._reduceControls(N);let Tt={};return Z(X)?Tt=X:null!==X&&(Tt.validators=X.validator,Tt.asyncValidators=X.asyncValidator),new Se(it,Tt)}record(N,X=null){const it=this._reduceControls(N);return new St(it,X)}control(N,X,it){let Tt={};return this.useNonNullable?(Z(X)?Tt=X:(Tt.validators=X,Tt.asyncValidators=it),new As(N,{...Tt,nonNullable:!0})):new As(N,X,it)}array(N,X,it){const Tt=N.map(Ln=>this._createControl(Ln));return new Ii(Tt,X,it)}_reduceControls(N){const X={};return Object.keys(N).forEach(it=>{X[it]=this._createControl(N[it])}),X}_createControl(N){return N instanceof As||N instanceof Re?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=a.Yz7({token:O,factory:O.\u0275fac,providedIn:ro}),O})(),ue=(()=>{class O{}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=a.Yz7({token:O,factory:function(){return(0,a.f3M)(G).nonNullable},providedIn:ro}),O})()},1481:(Xt,st,V)=>{"use strict";V.d(st,{Dx:()=>Dr,b2:()=>Pn,q6:()=>Ar,se:()=>Qe});var a=V(6895),k=V(4650);class Q extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ge extends Q{static makeCurrent(){(0,a.HT)(new ge)}onAndCancel(Se,pe,ct){return Se.addEventListener(pe,ct,!1),()=>{Se.removeEventListener(pe,ct,!1)}}dispatchEvent(Se,pe){Se.dispatchEvent(pe)}remove(Se){Se.parentNode&&Se.parentNode.removeChild(Se)}createElement(Se,pe){return(pe=pe||this.getDefaultDocument()).createElement(Se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Se){return Se.nodeType===Node.ELEMENT_NODE}isShadowRoot(Se){return Se instanceof DocumentFragment}getGlobalEventTarget(Se,pe){return"window"===pe?window:"document"===pe?Se:"body"===pe?Se.body:null}getBaseHref(Se){const pe=function be(){return Oe=Oe||document.querySelector("base"),Oe?Oe.getAttribute("href"):null}();return null==pe?null:function Ne(Re){je=je||document.createElement("a"),je.setAttribute("href",Re);const Se=je.pathname;return"/"===Se.charAt(0)?Se:`/${Se}`}(pe)}resetBaseElement(){Oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(Se){return(0,a.Mx)(document.cookie,Se)}}let je,Oe=null;const We=new k.OlP("TRANSITION_ID"),he=[{provide:k.ip1,useFactory:function de(Re,Se,pe){return()=>{pe.get(k.CZH).donePromise.then(()=>{const ct=(0,a.q)(),St=Se.querySelectorAll(`style[ng-transition="${Re}"]`);for(let Ut=0;Ut<St.length;Ut++)ct.remove(St[Ut])})}},deps:[We,a.K0,k.zs3],multi:!0}];let yt=(()=>{class Re{build(){return new XMLHttpRequest}}return Re.\u0275fac=function(pe){return new(pe||Re)},Re.\u0275prov=k.Yz7({token:Re,factory:Re.\u0275fac}),Re})();const ot=new k.OlP("EventManagerPlugins");let nt=(()=>{class Re{constructor(pe,ct){this._zone=ct,this._eventNameToPlugin=new Map,pe.forEach(St=>St.manager=this),this._plugins=pe.slice().reverse()}addEventListener(pe,ct,St){return this._findPluginFor(ct).addEventListener(pe,ct,St)}addGlobalEventListener(pe,ct,St){return this._findPluginFor(ct).addGlobalEventListener(pe,ct,St)}getZone(){return this._zone}_findPluginFor(pe){const ct=this._eventNameToPlugin.get(pe);if(ct)return ct;const St=this._plugins;for(let Ut=0;Ut<St.length;Ut++){const Qt=St[Ut];if(Qt.supports(pe))return this._eventNameToPlugin.set(pe,Qt),Qt}throw new Error(`No event manager plugin found for event ${pe}`)}}return Re.\u0275fac=function(pe){return new(pe||Re)(k.LFG(ot),k.LFG(k.R0b))},Re.\u0275prov=k.Yz7({token:Re,factory:Re.\u0275fac}),Re})();class At{constructor(Se){this._doc=Se}addGlobalEventListener(Se,pe,ct){const St=(0,a.q)().getGlobalEventTarget(this._doc,Se);if(!St)throw new Error(`Unsupported event target ${St} for event ${pe}`);return this.addEventListener(St,pe,ct)}}let dt=(()=>{class Re{constructor(){this._stylesSet=new Set}addStyles(pe){const ct=new Set;pe.forEach(St=>{this._stylesSet.has(St)||(this._stylesSet.add(St),ct.add(St))}),this.onStylesAdded(ct)}onStylesAdded(pe){}getAllStyles(){return Array.from(this._stylesSet)}}return Re.\u0275fac=function(pe){return new(pe||Re)},Re.\u0275prov=k.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),ut=(()=>{class Re extends dt{constructor(pe){super(),this._doc=pe,this._hostNodes=new Map,this._hostNodes.set(pe.head,[])}_addStylesToHost(pe,ct,St){pe.forEach(Ut=>{const Qt=this._doc.createElement("style");Qt.textContent=Ut,St.push(ct.appendChild(Qt))})}addHost(pe){const ct=[];this._addStylesToHost(this._stylesSet,pe,ct),this._hostNodes.set(pe,ct)}removeHost(pe){const ct=this._hostNodes.get(pe);ct&&ct.forEach(ze),this._hostNodes.delete(pe)}onStylesAdded(pe){this._hostNodes.forEach((ct,St)=>{this._addStylesToHost(pe,St,ct)})}ngOnDestroy(){this._hostNodes.forEach(pe=>pe.forEach(ze))}}return Re.\u0275fac=function(pe){return new(pe||Re)(k.LFG(a.K0))},Re.\u0275prov=k.Yz7({token:Re,factory:Re.\u0275fac}),Re})();function ze(Re){(0,a.q)().remove(Re)}const Gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ft=/%COMP%/g;function fe(Re,Se,pe){for(let ct=0;ct<Se.length;ct++){let St=Se[ct];Array.isArray(St)?fe(Re,St,pe):(St=St.replace(ft,Re),pe.push(St))}return pe}function Fe(Re){return Se=>{if("__ngUnwrap__"===Se)return Re;!1===Re(Se)&&(Se.preventDefault(),Se.returnValue=!1)}}let Qe=(()=>{class Re{constructor(pe,ct,St){this.eventManager=pe,this.sharedStylesHost=ct,this.appId=St,this.rendererByCompId=new Map,this.defaultRenderer=new Ot(pe)}createRenderer(pe,ct){if(!pe||!ct)return this.defaultRenderer;switch(ct.encapsulation){case k.ifc.Emulated:{let St=this.rendererByCompId.get(ct.id);return St||(St=new en(this.eventManager,this.sharedStylesHost,ct,this.appId),this.rendererByCompId.set(ct.id,St)),St.applyToHost(pe),St}case 1:case k.ifc.ShadowDom:return new wt(this.eventManager,this.sharedStylesHost,pe,ct);default:if(!this.rendererByCompId.has(ct.id)){const St=fe(ct.id,ct.styles,[]);this.sharedStylesHost.addStyles(St),this.rendererByCompId.set(ct.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Re.\u0275fac=function(pe){return new(pe||Re)(k.LFG(nt),k.LFG(ut),k.LFG(k.AFp))},Re.\u0275prov=k.Yz7({token:Re,factory:Re.\u0275fac}),Re})();class Ot{constructor(Se){this.eventManager=Se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Se,pe){return pe?document.createElementNS(Gt[pe]||pe,Se):document.createElement(Se)}createComment(Se){return document.createComment(Se)}createText(Se){return document.createTextNode(Se)}appendChild(Se,pe){(Jt(Se)?Se.content:Se).appendChild(pe)}insertBefore(Se,pe,ct){Se&&(Jt(Se)?Se.content:Se).insertBefore(pe,ct)}removeChild(Se,pe){Se&&Se.removeChild(pe)}selectRootElement(Se,pe){let ct="string"==typeof Se?document.querySelector(Se):Se;if(!ct)throw new Error(`The selector "${Se}" did not match any elements`);return pe||(ct.textContent=""),ct}parentNode(Se){return Se.parentNode}nextSibling(Se){return Se.nextSibling}setAttribute(Se,pe,ct,St){if(St){pe=St+":"+pe;const Ut=Gt[St];Ut?Se.setAttributeNS(Ut,pe,ct):Se.setAttribute(pe,ct)}else Se.setAttribute(pe,ct)}removeAttribute(Se,pe,ct){if(ct){const St=Gt[ct];St?Se.removeAttributeNS(St,pe):Se.removeAttribute(`${ct}:${pe}`)}else Se.removeAttribute(pe)}addClass(Se,pe){Se.classList.add(pe)}removeClass(Se,pe){Se.classList.remove(pe)}setStyle(Se,pe,ct,St){St&(k.JOm.DashCase|k.JOm.Important)?Se.style.setProperty(pe,ct,St&k.JOm.Important?"important":""):Se.style[pe]=ct}removeStyle(Se,pe,ct){ct&k.JOm.DashCase?Se.style.removeProperty(pe):Se.style[pe]=""}setProperty(Se,pe,ct){Se[pe]=ct}setValue(Se,pe){Se.nodeValue=pe}listen(Se,pe,ct){return"string"==typeof Se?this.eventManager.addGlobalEventListener(Se,pe,Fe(ct)):this.eventManager.addEventListener(Se,pe,Fe(ct))}}function Jt(Re){return"TEMPLATE"===Re.tagName&&void 0!==Re.content}class en extends Ot{constructor(Se,pe,ct,St){super(Se),this.component=ct;const Ut=fe(St+"-"+ct.id,ct.styles,[]);pe.addStyles(Ut),this.contentAttr=function ie(Re){return"_ngcontent-%COMP%".replace(ft,Re)}(St+"-"+ct.id),this.hostAttr=function Be(Re){return"_nghost-%COMP%".replace(ft,Re)}(St+"-"+ct.id)}applyToHost(Se){super.setAttribute(Se,this.hostAttr,"")}createElement(Se,pe){const ct=super.createElement(Se,pe);return super.setAttribute(ct,this.contentAttr,""),ct}}class wt extends Ot{constructor(Se,pe,ct,St){super(Se),this.sharedStylesHost=pe,this.hostEl=ct,this.shadowRoot=ct.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ut=fe(St.id,St.styles,[]);for(let Qt=0;Qt<Ut.length;Qt++){const Mn=document.createElement("style");Mn.textContent=Ut[Qt],this.shadowRoot.appendChild(Mn)}}nodeOrShadowRoot(Se){return Se===this.hostEl?this.shadowRoot:Se}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Se,pe){return super.appendChild(this.nodeOrShadowRoot(Se),pe)}insertBefore(Se,pe,ct){return super.insertBefore(this.nodeOrShadowRoot(Se),pe,ct)}removeChild(Se,pe){return super.removeChild(this.nodeOrShadowRoot(Se),pe)}parentNode(Se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Se)))}}let ln=(()=>{class Re extends At{constructor(pe){super(pe)}supports(pe){return!0}addEventListener(pe,ct,St){return pe.addEventListener(ct,St,!1),()=>this.removeEventListener(pe,ct,St)}removeEventListener(pe,ct,St){return pe.removeEventListener(ct,St)}}return Re.\u0275fac=function(pe){return new(pe||Re)(k.LFG(a.K0))},Re.\u0275prov=k.Yz7({token:Re,factory:Re.\u0275fac}),Re})();const Wt=["alt","control","meta","shift"],Yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$t={alt:Re=>Re.altKey,control:Re=>Re.ctrlKey,meta:Re=>Re.metaKey,shift:Re=>Re.shiftKey};let bn=(()=>{class Re extends At{constructor(pe){super(pe)}supports(pe){return null!=Re.parseEventName(pe)}addEventListener(pe,ct,St){const Ut=Re.parseEventName(ct),Qt=Re.eventCallback(Ut.fullKey,St,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(pe,Ut.domEventName,Qt))}static parseEventName(pe){const ct=pe.toLowerCase().split("."),St=ct.shift();if(0===ct.length||"keydown"!==St&&"keyup"!==St)return null;const Ut=Re._normalizeKey(ct.pop());let Qt="",Mn=ct.indexOf("code");if(Mn>-1&&(ct.splice(Mn,1),Qt="code."),Wt.forEach(Ji=>{const En=ct.indexOf(Ji);En>-1&&(ct.splice(En,1),Qt+=Ji+".")}),Qt+=Ut,0!=ct.length||0===Ut.length)return null;const yr={};return yr.domEventName=St,yr.fullKey=Qt,yr}static matchEventFullKeyCode(pe,ct){let St=Yt[pe.key]||pe.key,Ut="";return ct.indexOf("code.")>-1&&(St=pe.code,Ut="code."),!(null==St||!St)&&(St=St.toLowerCase()," "===St?St="space":"."===St&&(St="dot"),Wt.forEach(Qt=>{Qt!==St&&(0,$t[Qt])(pe)&&(Ut+=Qt+".")}),Ut+=St,Ut===ct)}static eventCallback(pe,ct,St){return Ut=>{Re.matchEventFullKeyCode(Ut,pe)&&St.runGuarded(()=>ct(Ut))}}static _normalizeKey(pe){return"esc"===pe?"escape":pe}}return Re.\u0275fac=function(pe){return new(pe||Re)(k.LFG(a.K0))},Re.\u0275prov=k.Yz7({token:Re,factory:Re.\u0275fac}),Re})();const Ar=(0,k.eFA)(k._c5,"browser",[{provide:k.Lbi,useValue:a.bD},{provide:k.g9A,useValue:function er(){ge.makeCurrent()},multi:!0},{provide:a.K0,useFactory:function Vr(){return(0,k.RDi)(document),document},deps:[]}]),di=new k.OlP(""),xt=[{provide:k.rWj,useClass:class Pe{addToWindow(Se){k.dqk.getAngularTestability=(ct,St=!0)=>{const Ut=Se.findTestabilityInTree(ct,St);if(null==Ut)throw new Error("Could not find testability for element.");return Ut},k.dqk.getAllAngularTestabilities=()=>Se.getAllTestabilities(),k.dqk.getAllAngularRootElements=()=>Se.getAllRootElements(),k.dqk.frameworkStabilizers||(k.dqk.frameworkStabilizers=[]),k.dqk.frameworkStabilizers.push(ct=>{const St=k.dqk.getAllAngularTestabilities();let Ut=St.length,Qt=!1;const Mn=function(yr){Qt=Qt||yr,Ut--,0==Ut&&ct(Qt)};St.forEach(function(yr){yr.whenStable(Mn)})})}findTestabilityInTree(Se,pe,ct){return null==pe?null:Se.getTestability(pe)??(ct?(0,a.q)().isShadowRoot(pe)?this.findTestabilityInTree(Se,pe.host,!0):this.findTestabilityInTree(Se,pe.parentElement,!0):null)}},deps:[]},{provide:k.lri,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]},{provide:k.dDg,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]}],rr=[{provide:k.zSh,useValue:"root"},{provide:k.qLn,useFactory:function pr(){return new k.qLn},deps:[]},{provide:ot,useClass:ln,multi:!0,deps:[a.K0,k.R0b,k.Lbi]},{provide:ot,useClass:bn,multi:!0,deps:[a.K0]},{provide:Qe,useClass:Qe,deps:[nt,ut,k.AFp]},{provide:k.FYo,useExisting:Qe},{provide:dt,useExisting:ut},{provide:ut,useClass:ut,deps:[a.K0]},{provide:nt,useClass:nt,deps:[ot,k.R0b]},{provide:a.JF,useClass:yt,deps:[]},[]];let Pn=(()=>{class Re{constructor(pe){}static withServerTransition(pe){return{ngModule:Re,providers:[{provide:k.AFp,useValue:pe.appId},{provide:We,useExisting:k.AFp},he]}}}return Re.\u0275fac=function(pe){return new(pe||Re)(k.LFG(di,12))},Re.\u0275mod=k.oAB({type:Re}),Re.\u0275inj=k.cJS({providers:[...rr,...xt],imports:[a.ez,k.hGG]}),Re})(),Dr=(()=>{class Re{constructor(pe){this._doc=pe}getTitle(){return this._doc.title}setTitle(pe){this._doc.title=pe||""}}return Re.\u0275fac=function(pe){return new(pe||Re)(k.LFG(a.K0))},Re.\u0275prov=k.Yz7({token:Re,factory:function(pe){let ct=null;return ct=pe?new pe:function mr(){return new Dr((0,k.LFG)(a.K0))}(),ct},providedIn:"root"}),Re})();typeof window<"u"&&window},9062:(Xt,st,V)=>{"use strict";V.d(st,{F0:()=>Sr,rH:()=>ra,Od:()=>_n,yS:()=>ks,Bz:()=>sl,lC:()=>$s});var a=V(4650),k=V(8996),Q=V(9646),ge=V(1135),Oe=V(6805),be=V(9841),je=V(7272),Ne=V(9751),We=V(8421);function de(T){return new Ne.y(S=>{(0,We.Xf)(T()).subscribe(S)})}var he=V(9635),Pe=V(576);function yt(T,S){const E=(0,Pe.m)(T)?T:()=>T,P=H=>H.error(E());return new Ne.y(S?H=>S.schedule(P,0,H):P)}var ot=V(515),nt=V(727),At=V(4482),dt=V(5403);function ut(){return(0,At.e)((T,S)=>{let E=null;T._refCount++;const P=(0,dt.x)(S,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(E=null);const H=T._connection,re=E;E=null,H&&(!re||H===re)&&H.unsubscribe(),S.unsubscribe()});T.subscribe(P),P.closed||(E=T.connect())})}class ze extends Ne.y{constructor(S,E){super(),this.source=S,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,At.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new nt.w0;const E=this.getSubject();S.add(this.source.subscribe((0,dt.x)(E,void 0,()=>{this._teardown(),E.complete()},P=>{this._teardown(),E.error(P)},()=>this._teardown()))),S.closed&&(this._connection=null,S=nt.w0.EMPTY)}return S}refCount(){return ut()(this)}}var Gt=V(7579),ft=V(6895),Ce=V(4004),ke=V(3900),me=V(5698),Ae=V(8675),ie=V(9300),Be=V(5577),fe=V(590);function Fe(T,S){return(0,Pe.m)(S)?(0,Be.z)(T,S,1):(0,Be.z)(T,1)}var qe=V(8505);function Qe(T){return(0,At.e)((S,E)=>{let re,P=null,H=!1;P=S.subscribe((0,dt.x)(E,void 0,void 0,ye=>{re=(0,We.Xf)(T(ye,Qe(T)(S))),P?(P.unsubscribe(),P=null,re.subscribe(E)):H=!0})),H&&(P.unsubscribe(),P=null,re.subscribe(E))})}var Ot=V(5026);function Pt(T){return T<=0?()=>ot.E:(0,At.e)((S,E)=>{let P=[];S.subscribe((0,dt.x)(E,H=>{P.push(H),T<P.length&&P.shift()},()=>{for(const H of P)E.next(H);E.complete()},void 0,()=>{P=null}))})}var jt=V(8068),Jt=V(6590),en=V(4671);function wt(T,S){const E=arguments.length>=2;return P=>P.pipe(T?(0,ie.h)((H,re)=>T(H,re,P)):en.y,Pt(1),E?(0,Jt.d)(S):(0,jt.T)(()=>new Oe.K))}var Wt=V(9718);function Yt(T){return(0,At.e)((S,E)=>{try{S.subscribe(E)}finally{E.add(T)}})}var $t=V(8189),bn=V(1481);const Rt="primary",Cn=Symbol("RouteTitle");class ei{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const E=this.params[S];return Array.isArray(E)?E[0]:E}return null}getAll(S){if(this.has(S)){const E=this.params[S];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function fn(T){return new ei(T)}function Rn(T,S,E){const P=E.path.split("/");if(P.length>T.length||"full"===E.pathMatch&&(S.hasChildren()||P.length<T.length))return null;const H={};for(let re=0;re<P.length;re++){const ye=P[re],De=T[re];if(ye.startsWith(":"))H[ye.substring(1)]=De;else if(ye!==De.path)return null}return{consumed:T.slice(0,P.length),posParams:H}}function pr(T,S){const E=T?Object.keys(T):void 0,P=S?Object.keys(S):void 0;if(!E||!P||E.length!=P.length)return!1;let H;for(let re=0;re<E.length;re++)if(H=E[re],!Vr(T[H],S[H]))return!1;return!0}function Vr(T,S){if(Array.isArray(T)&&Array.isArray(S)){if(T.length!==S.length)return!1;const E=[...T].sort(),P=[...S].sort();return E.every((H,re)=>P[re]===H)}return T===S}function Ur(T){return Array.prototype.concat.apply([],T)}function Ar(T){return T.length>0?T[T.length-1]:null}function xt(T,S){for(const E in T)T.hasOwnProperty(E)&&S(T[E],E)}function rr(T){return(0,a.CqO)(T)?T:(0,a.QGY)(T)?(0,k.D)(Promise.resolve(T)):(0,Q.of)(T)}const Ci={exact:function Gn(T,S,E){if(!Vn(T.segments,S.segments)||!_r(T.segments,S.segments,E)||T.numberOfChildren!==S.numberOfChildren)return!1;for(const P in S.children)if(!T.children[P]||!Gn(T.children[P],S.children[P],E))return!1;return!0},subset:un},Qi={exact:function Dr(T,S){return pr(T,S)},subset:function sn(T,S){return Object.keys(S).length<=Object.keys(T).length&&Object.keys(S).every(E=>Vr(T[E],S[E]))},ignored:()=>!0};function mr(T,S,E){return Ci[E.paths](T.root,S.root,E.matrixParams)&&Qi[E.queryParams](T.queryParams,S.queryParams)&&!("exact"===E.fragment&&T.fragment!==S.fragment)}function un(T,S,E){return ur(T,S,S.segments,E)}function ur(T,S,E,P){if(T.segments.length>E.length){const H=T.segments.slice(0,E.length);return!(!Vn(H,E)||S.hasChildren()||!_r(H,E,P))}if(T.segments.length===E.length){if(!Vn(T.segments,E)||!_r(T.segments,E,P))return!1;for(const H in S.children)if(!T.children[H]||!un(T.children[H],S.children[H],P))return!1;return!0}{const H=E.slice(0,T.segments.length),re=E.slice(T.segments.length);return!!(Vn(T.segments,H)&&_r(T.segments,H,P)&&T.children[Rt])&&ur(T.children[Rt],S,re,P)}}function _r(T,S,E){return S.every((P,H)=>Qi[E](T[H].parameters,P.parameters))}class cr{constructor(S,E,P){this.root=S,this.queryParams=E,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fn(this.queryParams)),this._queryParamMap}toString(){return Ge.serialize(this)}}class cn{constructor(S,E){this.segments=S,this.children=E,this.parent=null,xt(E,(P,H)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Me(this)}}class Dn{constructor(S,E){this.path=S,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=fn(this.parameters)),this._parameterMap}toString(){return kn(this)}}function Vn(T,S){return T.length===S.length&&T.every((E,P)=>E.path===S[P].path)}let tr=(()=>{class T{}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=a.Yz7({token:T,factory:function(){return new Ke},providedIn:"root"}),T})();class Ke{parse(S){const E=new Se(S);return new cr(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(S){const E=`/${He(S.root,!0)}`,P=function Tn(T){const S=Object.keys(T).map(E=>{const P=T[E];return Array.isArray(P)?P.map(H=>`${Nt(E)}=${Nt(H)}`).join("&"):`${Nt(E)}=${Nt(P)}`}).filter(E=>!!E);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${E}${P}${"string"==typeof S.fragment?`#${function Kt(T){return encodeURI(T)}(S.fragment)}`:""}`}}const Ge=new Ke;function Me(T){return T.segments.map(S=>kn(S)).join("/")}function He(T,S){if(!T.hasChildren())return Me(T);if(S){const E=T.children[Rt]?He(T.children[Rt],!1):"",P=[];return xt(T.children,(H,re)=>{re!==Rt&&P.push(`${re}:${He(H,!1)}`)}),P.length>0?`${E}(${P.join("//")})`:E}{const E=function ds(T,S){let E=[];return xt(T.children,(P,H)=>{H===Rt&&(E=E.concat(S(P,H)))}),xt(T.children,(P,H)=>{H!==Rt&&(E=E.concat(S(P,H)))}),E}(T,(P,H)=>H===Rt?[He(T.children[Rt],!1)]:[`${H}:${He(P,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Rt]?`${Me(T)}/${E[0]}`:`${Me(T)}/(${E.join("//")})`}}function Ve(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nt(T){return Ve(T).replace(/%3B/gi,";")}function on(T){return Ve(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dr(T){return decodeURIComponent(T)}function nr(T){return dr(T.replace(/\+/g,"%20"))}function kn(T){return`${on(T.path)}${function An(T){return Object.keys(T).map(S=>`;${on(S)}=${on(T[S])}`).join("")}(T.parameters)}`}const Er=/^[^\/()?;=#]+/;function Cr(T){const S=T.match(Er);return S?S[0]:""}const zr=/^[^=?&#]+/,xr=/^[^&#]+/;class Se{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(S.length>0||Object.keys(E).length>0)&&(P[Rt]=new cn(S,E)),P}parseSegment(){const S=Cr(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(S),new Dn(dr(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const E=Cr(this.remaining);if(!E)return;this.capture(E);let P="";if(this.consumeOptional("=")){const H=Cr(this.remaining);H&&(P=H,this.capture(P))}S[dr(E)]=dr(P)}parseQueryParam(S){const E=function ai(T){const S=T.match(zr);return S?S[0]:""}(this.remaining);if(!E)return;this.capture(E);let P="";if(this.consumeOptional("=")){const ye=function Re(T){const S=T.match(xr);return S?S[0]:""}(this.remaining);ye&&(P=ye,this.capture(P))}const H=nr(E),re=nr(P);if(S.hasOwnProperty(H)){let ye=S[H];Array.isArray(ye)||(ye=[ye],S[H]=ye),ye.push(re)}else S[H]=re}parseParens(S){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Cr(this.remaining),H=this.remaining[P.length];if("/"!==H&&")"!==H&&";"!==H)throw new a.vHH(4010,!1);let re;P.indexOf(":")>-1?(re=P.slice(0,P.indexOf(":")),this.capture(re),this.capture(":")):S&&(re=Rt);const ye=this.parseChildren();E[re]=1===Object.keys(ye).length?ye[Rt]:new cn([],ye),this.consumeOptional("//")}return E}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new a.vHH(4011,!1)}}function pe(T){return T.segments.length>0?new cn([],{[Rt]:T}):T}function ct(T){const S={};for(const P of Object.keys(T.children)){const re=ct(T.children[P]);(re.segments.length>0||re.hasChildren())&&(S[P]=re)}return function St(T){if(1===T.numberOfChildren&&T.children[Rt]){const S=T.children[Rt];return new cn(T.segments.concat(S.segments),S.children)}return T}(new cn(T.segments,S))}function Ut(T){return T instanceof cr}function En(T,S,E,P,H){if(0===E.length)return uo(S.root,S.root,S.root,P,H);const re=function hs(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new ti(!0,0,T);let S=0,E=!1;const P=T.reduce((H,re,ye)=>{if("object"==typeof re&&null!=re){if(re.outlets){const De={};return xt(re.outlets,(Ct,tn)=>{De[tn]="string"==typeof Ct?Ct.split("/"):Ct}),[...H,{outlets:De}]}if(re.segmentPath)return[...H,re.segmentPath]}return"string"!=typeof re?[...H,re]:0===ye?(re.split("/").forEach((De,Ct)=>{0==Ct&&"."===De||(0==Ct&&""===De?E=!0:".."===De?S++:""!=De&&H.push(De))}),H):[...H,re]},[]);return new ti(E,S,P)}(E);return re.toRoot()?uo(S.root,S.root,new cn([],{}),P,H):function ye(Ct){const tn=function bi(T,S,E,P){if(T.isAbsolute)return new Gi(S.root,!0,0);if(-1===P)return new Gi(E,E===S.root,0);return function bs(T,S,E){let P=T,H=S,re=E;for(;re>H;){if(re-=H,P=P.parent,!P)throw new a.vHH(4005,!1);H=P.segments.length}return new Gi(P,!1,H-re)}(E,P+(ar(T.commands[0])?0:1),T.numberOfDoubleDots)}(re,S,T.snapshot?._urlSegment,Ct),Wn=tn.processChildren?ki(tn.segmentGroup,tn.index,re.commands):co(tn.segmentGroup,tn.index,re.commands);return uo(S.root,tn.segmentGroup,Wn,P,H)}(T.snapshot?._lastPathIndex)}function ar(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function vi(T){return"object"==typeof T&&null!=T&&T.outlets}function uo(T,S,E,P,H){let ye,re={};P&&xt(P,(Ct,tn)=>{re[tn]=Array.isArray(Ct)?Ct.map(Wn=>`${Wn}`):`${Ct}`}),ye=T===S?E:Xi(T,S,E);const De=pe(ct(ye));return new cr(De,re,H)}function Xi(T,S,E){const P={};return xt(T.children,(H,re)=>{P[re]=H===S?E:Xi(H,S,E)}),new cn(T.segments,P)}class ti{constructor(S,E,P){if(this.isAbsolute=S,this.numberOfDoubleDots=E,this.commands=P,S&&P.length>0&&ar(P[0]))throw new a.vHH(4003,!1);const H=P.find(vi);if(H&&H!==Ar(P))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gi{constructor(S,E,P){this.segmentGroup=S,this.processChildren=E,this.index=P}}function co(T,S,E){if(T||(T=new cn([],{})),0===T.segments.length&&T.hasChildren())return ki(T,S,E);const P=function ws(T,S,E){let P=0,H=S;const re={match:!1,pathIndex:0,commandIndex:0};for(;H<T.segments.length;){if(P>=E.length)return re;const ye=T.segments[H],De=E[P];if(vi(De))break;const Ct=`${De}`,tn=P<E.length-1?E[P+1]:null;if(H>0&&void 0===Ct)break;if(Ct&&tn&&"object"==typeof tn&&void 0===tn.outlets){if(!Wr(Ct,tn,ye))return re;P+=2}else{if(!Wr(Ct,{},ye))return re;P++}H++}return{match:!0,pathIndex:H,commandIndex:P}}(T,S,E),H=E.slice(P.commandIndex);if(P.match&&P.pathIndex<T.segments.length){const re=new cn(T.segments.slice(0,P.pathIndex),{});return re.children[Rt]=new cn(T.segments.slice(P.pathIndex),T.children),ki(re,0,H)}return P.match&&0===H.length?new cn(T.segments,{}):P.match&&!T.hasChildren()?Fi(T,S,E):P.match?ki(T,0,H):Fi(T,S,E)}function ki(T,S,E){if(0===E.length)return new cn(T.segments,{});{const P=function Tr(T){return vi(T[0])?T[0].outlets:{[Rt]:T}}(E),H={};return xt(P,(re,ye)=>{"string"==typeof re&&(re=[re]),null!==re&&(H[ye]=co(T.children[ye],S,re))}),xt(T.children,(re,ye)=>{void 0===P[ye]&&(H[ye]=re)}),new cn(T.segments,H)}}function Fi(T,S,E){const P=T.segments.slice(0,S);let H=0;for(;H<E.length;){const re=E[H];if(vi(re)){const Ct=zi(re.outlets);return new cn(P,Ct)}if(0===H&&ar(E[0])){P.push(new Dn(T.segments[S].path,fs(E[0]))),H++;continue}const ye=vi(re)?re.outlets[Rt]:`${re}`,De=H<E.length-1?E[H+1]:null;ye&&De&&ar(De)?(P.push(new Dn(ye,fs(De))),H+=2):(P.push(new Dn(ye,{})),H++)}return new cn(P,{})}function zi(T){const S={};return xt(T,(E,P)=>{"string"==typeof E&&(E=[E]),null!==E&&(S[P]=Fi(new cn([],{}),0,E))}),S}function fs(T){const S={};return xt(T,(E,P)=>S[P]=`${E}`),S}function Wr(T,S,E){return T==E.path&&pr(S,E.parameters)}class Kn{constructor(S,E){this.id=S,this.url=E}}class js extends Kn{constructor(S,E,P="imperative",H=null){super(S,E),this.type=0,this.navigationTrigger=P,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ir extends Kn{constructor(S,E,P){super(S,E),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class li extends Kn{constructor(S,E,P,H){super(S,E),this.reason=P,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hs extends Kn{constructor(S,E,P,H){super(S,E),this.error=P,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class As extends Kn{constructor(S,E,P,H){super(S,E),this.urlAfterRedirects=P,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends Kn{constructor(S,E,P,H){super(S,E),this.urlAfterRedirects=P,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wi extends Kn{constructor(S,E,P,H,re){super(S,E),this.urlAfterRedirects=P,this.state=H,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class is extends Kn{constructor(S,E,P,H){super(S,E),this.urlAfterRedirects=P,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aa extends Kn{constructor(S,E,P,H){super(S,E),this.urlAfterRedirects=P,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Go{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ps{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zr{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ui{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tt{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Je{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ht{constructor(S,E,P){this.routerEvent=S,this.position=E,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zt{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const E=this.pathFromRoot(S);return E.length>1?E[E.length-2]:null}children(S){const E=pn(S,this._root);return E?E.children.map(P=>P.value):[]}firstChild(S){const E=pn(S,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(S){const E=xn(S,this._root);return E.length<2?[]:E[E.length-2].children.map(H=>H.value).filter(H=>H!==S)}pathFromRoot(S){return xn(S,this._root).map(E=>E.value)}}function pn(T,S){if(T===S.value)return S;for(const E of S.children){const P=pn(T,E);if(P)return P}return null}function xn(T,S){if(T===S.value)return[S];for(const E of S.children){const P=xn(T,E);if(P.length)return P.unshift(S),P}return[]}class ni{constructor(S,E){this.value=S,this.children=E}toString(){return`TreeNode(${this.value})`}}function lr(T){const S={};return T&&T.children.forEach(E=>S[E.value.outlet]=E),S}class Ds extends Zt{constructor(S,E){super(S),this.snapshot=E,Ns(this,S)}toString(){return this.snapshot.toString()}}function Li(T,S){const E=function Xs(T,S){const ye=new Cs([],{},{},"",{},Rt,S,null,T.root,-1,{});return new ea("",new ni(ye,[]))}(T,S),P=new ge.X([new Dn("",{})]),H=new ge.X({}),re=new ge.X({}),ye=new ge.X({}),De=new ge.X(""),Ct=new fi(P,H,ye,De,re,Rt,S,E.root);return Ct.snapshot=E.root,new Ds(new ni(Ct,[]),E)}class fi{constructor(S,E,P,H,re,ye,De,Ct){this.url=S,this.params=E,this.queryParams=P,this.fragment=H,this.data=re,this.outlet=ye,this.component=De,this.title=this.data?.pipe((0,Ce.U)(tn=>tn[Cn]))??(0,Q.of)(void 0),this._futureSnapshot=Ct}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ce.U)(S=>fn(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ce.U)(S=>fn(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Es(T,S="emptyOnly"){const E=T.pathFromRoot;let P=0;if("always"!==S)for(P=E.length-1;P>=1;){const H=E[P],re=E[P-1];if(H.routeConfig&&""===H.routeConfig.path)P--;else{if(re.component)break;P--}}return function Xo(T){return T.reduce((S,E)=>({params:{...S.params,...E.params},data:{...S.data,...E.data},resolve:{...E.data,...S.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(P))}class Cs{constructor(S,E,P,H,re,ye,De,Ct,tn,Wn,wn,Jn){this.url=S,this.params=E,this.queryParams=P,this.fragment=H,this.data=re,this.outlet=ye,this.component=De,this.title=this.data?.[Cn],this.routeConfig=Ct,this._urlSegment=tn,this._lastPathIndex=Wn,this._correctedLastPathIndex=Jn??Wn,this._resolve=wn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ea extends Zt{constructor(S,E){super(E),this.url=S,Ns(this,E)}toString(){return Ts(this._root)}}function Ns(T,S){S.value._routerState=T,S.children.forEach(E=>Ns(T,E))}function Ts(T){const S=T.children.length>0?` { ${T.children.map(Ts).join(", ")} } `:"";return`${T.value}${S}`}function es(T){if(T.snapshot){const S=T.snapshot,E=T._futureSnapshot;T.snapshot=E,pr(S.queryParams,E.queryParams)||T.queryParams.next(E.queryParams),S.fragment!==E.fragment&&T.fragment.next(E.fragment),pr(S.params,E.params)||T.params.next(E.params),function er(T,S){if(T.length!==S.length)return!1;for(let E=0;E<T.length;++E)if(!pr(T[E],S[E]))return!1;return!0}(S.url,E.url)||T.url.next(E.url),pr(S.data,E.data)||T.data.next(E.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function Ms(T,S){const E=pr(T.params,S.params)&&function Pi(T,S){return Vn(T,S)&&T.every((E,P)=>pr(E.parameters,S[P].parameters))}(T.url,S.url);return E&&!(!T.parent!=!S.parent)&&(!T.parent||Ms(T.parent,S.parent))}function xs(T,S,E){if(E&&T.shouldReuseRoute(S.value,E.value.snapshot)){const P=E.value;P._futureSnapshot=S.value;const H=function _o(T,S,E){return S.children.map(P=>{for(const H of E.children)if(T.shouldReuseRoute(P.value,H.value.snapshot))return xs(T,P,H);return xs(T,P)})}(T,S,E);return new ni(P,H)}{if(T.shouldAttach(S.value)){const re=T.retrieve(S.value);if(null!==re){const ye=re.route;return ye.value._futureSnapshot=S.value,ye.children=S.children.map(De=>xs(T,De)),ye}}const P=function Ro(T){return new fi(new ge.X(T.url),new ge.X(T.params),new ge.X(T.queryParams),new ge.X(T.fragment),new ge.X(T.data),T.outlet,T.component,T)}(S.value),H=S.children.map(re=>xs(T,re));return new ni(P,H)}}const gs="ngNavigationCancelingError";function Os(T,S){const{redirectTo:E,navigationBehaviorOptions:P}=Ut(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,H=Rs(!1,0,S);return H.url=E,H.navigationBehaviorOptions=P,H}function Rs(T,S,E){const P=new Error("NavigationCancelingError: "+(T||""));return P[gs]=!0,P.cancellationCode=S,E&&(P.url=E),P}function ss(T){return eo(T)&&Ut(T.url)}function eo(T){return T&&T[gs]}class la{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vi,this.attachRef=null}}let Vi=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(E,P){const H=this.getOrCreateContext(E);H.outlet=P,this.contexts.set(E,H)}onChildOutletDestroyed(E){const P=this.getContext(E);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let P=this.getContext(E);return P||(P=new la,this.contexts.set(E,P)),P}getContext(E){return this.contexts.get(E)||null}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const to=!1;let $s=(()=>{class T{constructor(E,P,H,re,ye){this.parentContexts=E,this.location=P,this.changeDetector=re,this.environmentInjector=ye,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=H||Rt,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,to);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,to);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,to);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,P){this.activated=E,this._activatedRoute=P,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,P){if(this.isActivated)throw new a.vHH(4013,to);this._activatedRoute=E;const H=this.location,ye=E._futureSnapshot.component,De=this.parentContexts.getOrCreateContext(this.name).children,Ct=new pi(E,De,H.injector);if(P&&function Eo(T){return!!T.resolveComponentFactory}(P)){const tn=P.resolveComponentFactory(ye);this.activated=H.createComponent(tn,H.length,Ct)}else this.activated=H.createComponent(ye,{index:H.length,injector:Ct,environmentInjector:P??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(E){return new(E||T)(a.Y36(Vi),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},T.\u0275dir=a.lG2({type:T,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),T})();class pi{constructor(S,E,P){this.route=S,this.childContexts=E,this.parent=P}get(S,E){return S===fi?this.route:S===Vi?this.childContexts:this.parent.get(S,E)}}let fo=(()=>{class T{}return T.\u0275fac=function(E){return new(E||T)},T.\u0275cmp=a.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(E,P){1&E&&a._UZ(0,"router-outlet")},dependencies:[$s],encapsulation:2}),T})();function hr(T,S){return T.providers&&!T._injector&&(T._injector=(0,a.MMx)(T.providers,S,`Route: ${T.path}`)),T._injector??S}function ts(T){const S=T.children&&T.children.map(ts),E=S?{...T,children:S}:{...T};return!E.component&&!E.loadComponent&&(S||E.loadChildren)&&E.outlet&&E.outlet!==Rt&&(E.component=fo),E}function wi(T){return T.outlet||Rt}function jr(T,S){const E=T.filter(P=>wi(P)===S);return E.push(...T.filter(P=>wi(P)!==S)),E}function On(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let S=T.parent;S;S=S.parent){const E=S.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class ca{constructor(S,E,P,H){this.routeReuseStrategy=S,this.futureState=E,this.currState=P,this.forwardEvent=H}activate(S){const E=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,P,S),es(this.futureState.root),this.activateChildRoutes(E,P,S)}deactivateChildRoutes(S,E,P){const H=lr(E);S.children.forEach(re=>{const ye=re.value.outlet;this.deactivateRoutes(re,H[ye],P),delete H[ye]}),xt(H,(re,ye)=>{this.deactivateRouteAndItsChildren(re,P)})}deactivateRoutes(S,E,P){const H=S.value,re=E?E.value:null;if(H===re)if(H.component){const ye=P.getContext(H.outlet);ye&&this.deactivateChildRoutes(S,E,ye.children)}else this.deactivateChildRoutes(S,E,P);else re&&this.deactivateRouteAndItsChildren(E,P)}deactivateRouteAndItsChildren(S,E){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,E):this.deactivateRouteAndOutlet(S,E)}detachAndStoreRouteSubtree(S,E){const P=E.getContext(S.value.outlet),H=P&&S.value.component?P.children:E,re=lr(S);for(const ye of Object.keys(re))this.deactivateRouteAndItsChildren(re[ye],H);if(P&&P.outlet){const ye=P.outlet.detach(),De=P.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:ye,route:S,contexts:De})}}deactivateRouteAndOutlet(S,E){const P=E.getContext(S.value.outlet),H=P&&S.value.component?P.children:E,re=lr(S);for(const ye of Object.keys(re))this.deactivateRouteAndItsChildren(re[ye],H);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(S,E,P){const H=lr(E);S.children.forEach(re=>{this.activateRoutes(re,H[re.value.outlet],P),this.forwardEvent(new Je(re.value.snapshot))}),S.children.length&&this.forwardEvent(new ui(S.value.snapshot))}activateRoutes(S,E,P){const H=S.value,re=E?E.value:null;if(es(H),H===re)if(H.component){const ye=P.getOrCreateContext(H.outlet);this.activateChildRoutes(S,E,ye.children)}else this.activateChildRoutes(S,E,P);else if(H.component){const ye=P.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const De=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),ye.children.onOutletReAttached(De.contexts),ye.attachRef=De.componentRef,ye.route=De.route.value,ye.outlet&&ye.outlet.attach(De.componentRef,De.route.value),es(De.route.value),this.activateChildRoutes(S,null,ye.children)}else{const De=On(H.snapshot),Ct=De?.get(a._Vd)??null;ye.attachRef=null,ye.route=H,ye.resolver=Ct,ye.injector=De,ye.outlet&&ye.outlet.activateWith(H,ye.injector),this.activateChildRoutes(S,null,ye.children)}}else this.activateChildRoutes(S,null,P)}}class po{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class ko{constructor(S,E){this.component=S,this.route=E}}function ta(T,S,E){const P=T._root;return To(P,S?S._root:null,E,[P.value])}function yo(T,S){const E=Symbol(),P=S.get(T,E);return P===E?"function"!=typeof T||(0,a.Z0I)(T)?S.get(T):T:P}function To(T,S,E,P,H={canDeactivateChecks:[],canActivateChecks:[]}){const re=lr(S);return T.children.forEach(ye=>{(function Lt(T,S,E,P,H={canDeactivateChecks:[],canActivateChecks:[]}){const re=T.value,ye=S?S.value:null,De=E?E.getContext(T.value.outlet):null;if(ye&&re.routeConfig===ye.routeConfig){const Ct=function sr(T,S,E){if("function"==typeof E)return E(T,S);switch(E){case"pathParamsChange":return!Vn(T.url,S.url);case"pathParamsOrQueryParamsChange":return!Vn(T.url,S.url)||!pr(T.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ms(T,S)||!pr(T.queryParams,S.queryParams);default:return!Ms(T,S)}}(ye,re,re.routeConfig.runGuardsAndResolvers);Ct?H.canActivateChecks.push(new po(P)):(re.data=ye.data,re._resolvedData=ye._resolvedData),To(T,S,re.component?De?De.children:null:E,P,H),Ct&&De&&De.outlet&&De.outlet.isActivated&&H.canDeactivateChecks.push(new ko(De.outlet.component,ye))}else ye&&no(S,De,H),H.canActivateChecks.push(new po(P)),To(T,null,re.component?De?De.children:null:E,P,H)})(ye,re[ye.value.outlet],E,P.concat([ye.value]),H),delete re[ye.value.outlet]}),xt(re,(ye,De)=>no(ye,E.getContext(De),H)),H}function no(T,S,E){const P=lr(T),H=T.value;xt(P,(re,ye)=>{no(re,H.component?S?S.children.getContext(ye):null:S,E)}),E.canDeactivateChecks.push(new ko(H.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,H))}function ro(T){return"function"==typeof T}function O(T){return T instanceof Oe.K||"EmptyError"===T?.name}const R=Symbol("INITIAL_VALUE");function N(){return(0,ke.w)(T=>(0,be.a)(T.map(S=>S.pipe((0,me.q)(1),(0,Ae.O)(R)))).pipe((0,Ce.U)(S=>{for(const E of S)if(!0!==E){if(E===R)return R;if(!1===E||E instanceof cr)return E}return!0}),(0,ie.h)(S=>S!==R),(0,me.q)(1)))}function Ui(T){return(0,he.z)((0,qe.b)(S=>{if(Ut(S))throw Os(0,S)}),(0,Ce.U)(S=>!0===S))}const Si={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ii(T,S,E,P,H){const re=zs(T,S,E);return re.matched?function Is(T,S,E,P){const H=S.canMatch;if(!H||0===H.length)return(0,Q.of)(!0);const re=H.map(ye=>{const De=yo(ye,T);return rr(function ue(T){return T&&ro(T.canMatch)}(De)?De.canMatch(S,E):T.runInContext(()=>De(S,E)))});return(0,Q.of)(re).pipe(N(),Ui())}(P=hr(S,P),S,E).pipe((0,Ce.U)(ye=>!0===ye?re:{...Si})):(0,Q.of)(re)}function zs(T,S,E){if(""===S.path)return"full"===S.pathMatch&&(T.hasChildren()||E.length>0)?{...Si}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const H=(S.matcher||Rn)(E,T,S);if(!H)return{...Si};const re={};xt(H.posParams,(De,Ct)=>{re[Ct]=De.path});const ye=H.consumed.length>0?{...re,...H.consumed[H.consumed.length-1].parameters}:re;return{matched:!0,consumedSegments:H.consumed,remainingSegments:E.slice(H.consumed.length),parameters:ye,positionalParamSegments:H.posParams??{}}}function io(T,S,E,P,H="corrected"){if(E.length>0&&function fa(T,S,E){return E.some(P=>J(T,S,P)&&wi(P)!==Rt)}(T,E,P)){const ye=new cn(S,function Ws(T,S,E,P){const H={};H[Rt]=P,P._sourceSegment=T,P._segmentIndexShift=S.length;for(const re of E)if(""===re.path&&wi(re)!==Rt){const ye=new cn([],{});ye._sourceSegment=T,ye._segmentIndexShift=S.length,H[wi(re)]=ye}return H}(T,S,P,new cn(E,T.children)));return ye._sourceSegment=T,ye._segmentIndexShift=S.length,{segmentGroup:ye,slicedSegments:[]}}if(0===E.length&&function F(T,S,E){return E.some(P=>J(T,S,P))}(T,E,P)){const ye=new cn(T.segments,function na(T,S,E,P,H,re){const ye={};for(const De of P)if(J(T,E,De)&&!H[wi(De)]){const Ct=new cn([],{});Ct._sourceSegment=T,Ct._segmentIndexShift="legacy"===re?T.segments.length:S.length,ye[wi(De)]=Ct}return{...H,...ye}}(T,S,E,P,T.children,H));return ye._sourceSegment=T,ye._segmentIndexShift=S.length,{segmentGroup:ye,slicedSegments:E}}const re=new cn(T.segments,T.children);return re._sourceSegment=T,re._segmentIndexShift=S.length,{segmentGroup:re,slicedSegments:E}}function J(T,S,E){return(!(T.hasChildren()||S.length>0)||"full"!==E.pathMatch)&&""===E.path}function j(T,S,E,P){return!!(wi(T)===P||P!==Rt&&J(S,E,T))&&("**"===T.path||zs(S,T,E).matched)}function se(T,S,E){return 0===S.length&&!T.children[E]}const xe=!1;class pt{constructor(S){this.segmentGroup=S||null}}class Dt{constructor(S){this.urlTree=S}}function hn(T){return yt(new pt(T))}function qr(T){return yt(new Dt(T))}class as{constructor(S,E,P,H,re){this.injector=S,this.configLoader=E,this.urlSerializer=P,this.urlTree=H,this.config=re,this.allowRedirects=!0}apply(){const S=io(this.urlTree.root,[],[],this.config).segmentGroup,E=new cn(S.segments,S.children);return this.expandSegmentGroup(this.injector,this.config,E,Rt).pipe((0,Ce.U)(re=>this.createUrlTree(ct(re),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qe(re=>{if(re instanceof Dt)return this.allowRedirects=!1,this.match(re.urlTree);throw re instanceof pt?this.noMatchError(re):re}))}match(S){return this.expandSegmentGroup(this.injector,this.config,S.root,Rt).pipe((0,Ce.U)(H=>this.createUrlTree(ct(H),S.queryParams,S.fragment))).pipe(Qe(H=>{throw H instanceof pt?this.noMatchError(H):H}))}noMatchError(S){return new a.vHH(4002,xe)}createUrlTree(S,E,P){const H=pe(S);return new cr(H,E,P)}expandSegmentGroup(S,E,P,H){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(S,E,P).pipe((0,Ce.U)(re=>new cn([],re))):this.expandSegment(S,P,E,P.segments,H,!0)}expandChildren(S,E,P){const H=[];for(const re of Object.keys(P.children))"primary"===re?H.unshift(re):H.push(re);return(0,k.D)(H).pipe(Fe(re=>{const ye=P.children[re],De=jr(E,re);return this.expandSegmentGroup(S,De,ye,re).pipe((0,Ce.U)(Ct=>({segment:Ct,outlet:re})))}),(0,Ot.R)((re,ye)=>(re[ye.outlet]=ye.segment,re),{}),wt())}expandSegment(S,E,P,H,re,ye){return(0,k.D)(P).pipe(Fe(De=>this.expandSegmentAgainstRoute(S,E,P,De,H,re,ye).pipe(Qe(tn=>{if(tn instanceof pt)return(0,Q.of)(null);throw tn}))),(0,fe.P)(De=>!!De),Qe((De,Ct)=>{if(O(De))return se(E,H,re)?(0,Q.of)(new cn([],{})):hn(E);throw De}))}expandSegmentAgainstRoute(S,E,P,H,re,ye,De){return j(H,E,re,ye)?void 0===H.redirectTo?this.matchSegmentAgainstRoute(S,E,H,re,ye):De&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,E,P,H,re,ye):hn(E):hn(E)}expandSegmentAgainstRouteUsingRedirect(S,E,P,H,re,ye){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,P,H,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(S,E,P,H,re,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,E,P,H){const re=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?qr(re):this.lineralizeSegments(P,re).pipe((0,Be.z)(ye=>{const De=new cn(ye,{});return this.expandSegment(S,De,E,ye,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,E,P,H,re,ye){const{matched:De,consumedSegments:Ct,remainingSegments:tn,positionalParamSegments:Wn}=zs(E,H,re);if(!De)return hn(E);const wn=this.applyRedirectCommands(Ct,H.redirectTo,Wn);return H.redirectTo.startsWith("/")?qr(wn):this.lineralizeSegments(H,wn).pipe((0,Be.z)(Jn=>this.expandSegment(S,E,P,Jn.concat(tn),ye,!1)))}matchSegmentAgainstRoute(S,E,P,H,re){return"**"===P.path?(S=hr(P,S),P.loadChildren?(P._loadedRoutes?(0,Q.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):this.configLoader.loadChildren(S,P)).pipe((0,Ce.U)(De=>(P._loadedRoutes=De.routes,P._loadedInjector=De.injector,new cn(H,{})))):(0,Q.of)(new cn(H,{}))):ii(E,P,H,S).pipe((0,ke.w)(({matched:ye,consumedSegments:De,remainingSegments:Ct})=>ye?this.getChildConfig(S=P._injector??S,P,H).pipe((0,Be.z)(Wn=>{const wn=Wn.injector??S,Jn=Wn.routes,{segmentGroup:_a,slicedSegments:No}=io(E,De,Ct,Jn),$i=new cn(_a.segments,_a.children);if(0===No.length&&$i.hasChildren())return this.expandChildren(wn,Jn,$i).pipe((0,Ce.U)(sa=>new cn(De,sa)));if(0===Jn.length&&0===No.length)return(0,Q.of)(new cn(De,{}));const Fs=wi(P)===re;return this.expandSegment(wn,$i,Jn,No,Fs?Rt:re,!0).pipe((0,Ce.U)(Fa=>new cn(De.concat(Fa.segments),Fa.children)))})):hn(E)))}getChildConfig(S,E,P){return E.children?(0,Q.of)({routes:E.children,injector:S}):E.loadChildren?void 0!==E._loadedRoutes?(0,Q.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function Jr(T,S,E,P){const H=S.canLoad;if(void 0===H||0===H.length)return(0,Q.of)(!0);const re=H.map(ye=>{const De=yo(ye,T);return rr(function da(T){return T&&ro(T.canLoad)}(De)?De.canLoad(S,E):T.runInContext(()=>De(S,E)))});return(0,Q.of)(re).pipe(N(),Ui())}(S,E,P).pipe((0,Be.z)(H=>H?this.configLoader.loadChildren(S,E).pipe((0,qe.b)(re=>{E._loadedRoutes=re.routes,E._loadedInjector=re.injector})):function Rr(T){return yt(Rs(xe,3))}())):(0,Q.of)({routes:[],injector:S})}lineralizeSegments(S,E){let P=[],H=E.root;for(;;){if(P=P.concat(H.segments),0===H.numberOfChildren)return(0,Q.of)(P);if(H.numberOfChildren>1||!H.children[Rt])return yt(new a.vHH(4e3,xe));H=H.children[Rt]}}applyRedirectCommands(S,E,P){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),S,P)}applyRedirectCreateUrlTree(S,E,P,H){const re=this.createSegmentGroup(S,E.root,P,H);return new cr(re,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(S,E){const P={};return xt(S,(H,re)=>{if("string"==typeof H&&H.startsWith(":")){const De=H.substring(1);P[re]=E[De]}else P[re]=H}),P}createSegmentGroup(S,E,P,H){const re=this.createSegments(S,E.segments,P,H);let ye={};return xt(E.children,(De,Ct)=>{ye[Ct]=this.createSegmentGroup(S,De,P,H)}),new cn(re,ye)}createSegments(S,E,P,H){return E.map(re=>re.path.startsWith(":")?this.findPosParam(S,re,H):this.findOrReturn(re,P))}findPosParam(S,E,P){const H=P[E.path.substring(1)];if(!H)throw new a.vHH(4001,xe);return H}findOrReturn(S,E){let P=0;for(const H of E){if(H.path===S.path)return E.splice(P),H;P++}return S}}class so{}class pa{constructor(S,E,P,H,re,ye,De,Ct){this.injector=S,this.rootComponentType=E,this.config=P,this.urlTree=H,this.url=re,this.paramsInheritanceStrategy=ye,this.relativeLinkResolution=De,this.urlSerializer=Ct}recognize(){const S=io(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,Rt).pipe((0,Ce.U)(E=>{if(null===E)return null;const P=new Cs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),H=new ni(P,E),re=new ea(this.url,H);return this.inheritParamsAndData(re._root),re}))}inheritParamsAndData(S){const E=S.value,P=Es(E,this.paramsInheritanceStrategy);E.params=Object.freeze(P.params),E.data=Object.freeze(P.data),S.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(S,E,P,H){return 0===P.segments.length&&P.hasChildren()?this.processChildren(S,E,P):this.processSegment(S,E,P,P.segments,H)}processChildren(S,E,P){return(0,k.D)(Object.keys(P.children)).pipe(Fe(H=>{const re=P.children[H],ye=jr(E,H);return this.processSegmentGroup(S,ye,re,H)}),(0,Ot.R)((H,re)=>H&&re?(H.push(...re),H):null),function ln(T,S=!1){return(0,At.e)((E,P)=>{let H=0;E.subscribe((0,dt.x)(P,re=>{const ye=T(re,H++);(ye||S)&&P.next(re),!ye&&P.complete()}))})}(H=>null!==H),(0,Jt.d)(null),wt(),(0,Ce.U)(H=>{if(null===H)return null;const re=ka(H);return function Wo(T){T.sort((S,E)=>S.value.outlet===Rt?-1:E.value.outlet===Rt?1:S.value.outlet.localeCompare(E.value.outlet))}(re),re}))}processSegment(S,E,P,H,re){return(0,k.D)(E).pipe(Fe(ye=>this.processSegmentAgainstRoute(ye._injector??S,ye,P,H,re)),(0,fe.P)(ye=>!!ye),Qe(ye=>{if(O(ye))return se(P,H,re)?(0,Q.of)([]):(0,Q.of)(null);throw ye}))}processSegmentAgainstRoute(S,E,P,H,re){if(E.redirectTo||!j(E,P,H,re))return(0,Q.of)(null);let ye;if("**"===E.path){const De=H.length>0?Ar(H).parameters:{},Ct=Xl(P)+H.length,tn=new Cs(H,De,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nl(E),wi(E),E.component??E._loadedComponent??null,E,ga(P),Ct,rl(E),Ct);ye=(0,Q.of)({snapshot:tn,consumedSegments:[],remainingSegments:[]})}else ye=ii(P,E,H,S).pipe((0,Ce.U)(({matched:De,consumedSegments:Ct,remainingSegments:tn,parameters:Wn})=>{if(!De)return null;const wn=Xl(P)+Ct.length;return{snapshot:new Cs(Ct,Wn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nl(E),wi(E),E.component??E._loadedComponent??null,E,ga(P),wn,rl(E),wn),consumedSegments:Ct,remainingSegments:tn}}));return ye.pipe((0,ke.w)(De=>{if(null===De)return(0,Q.of)(null);const{snapshot:Ct,consumedSegments:tn,remainingSegments:Wn}=De;S=E._injector??S;const wn=E._loadedInjector??S,Jn=function Io(T){return T.children?T.children:T.loadChildren?T._loadedRoutes:[]}(E),{segmentGroup:_a,slicedSegments:No}=io(P,tn,Wn,Jn.filter(Fs=>void 0===Fs.redirectTo),this.relativeLinkResolution);if(0===No.length&&_a.hasChildren())return this.processChildren(wn,Jn,_a).pipe((0,Ce.U)(Fs=>null===Fs?null:[new ni(Ct,Fs)]));if(0===Jn.length&&0===No.length)return(0,Q.of)([new ni(Ct,[])]);const $i=wi(E)===re;return this.processSegment(wn,Jn,_a,No,$i?Rt:re).pipe((0,Ce.U)(Fs=>null===Fs?null:[new ni(Ct,Fs)]))}))}}function ji(T){const S=T.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function ka(T){const S=[],E=new Set;for(const P of T){if(!ji(P)){S.push(P);continue}const H=S.find(re=>P.value.routeConfig===re.value.routeConfig);void 0!==H?(H.children.push(...P.children),E.add(H)):S.push(P)}for(const P of E){const H=ka(P.children);S.push(new ni(P.value,H))}return S.filter(P=>!E.has(P))}function ga(T){let S=T;for(;S._sourceSegment;)S=S._sourceSegment;return S}function Xl(T){let S=T,E=S._segmentIndexShift??0;for(;S._sourceSegment;)S=S._sourceSegment,E+=S._segmentIndexShift??0;return E-1}function nl(T){return T.data||{}}function rl(T){return T.resolve||{}}function ri(T){return"string"==typeof T.title||null===T.title}function ba(T){return(0,ke.w)(S=>{const E=T(S);return E?(0,k.D)(E).pipe((0,Ce.U)(()=>S)):(0,Q.of)(S)})}let Ko=(()=>{class T{buildTitle(E){let P,H=E.root;for(;void 0!==H;)P=this.getResolvedTitleForRoute(H)??P,H=H.children.find(re=>re.outlet===Rt);return P}getResolvedTitleForRoute(E){return E.data[Cn]}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=a.Yz7({token:T,factory:function(){return(0,a.f3M)(qo)},providedIn:"root"}),T})(),qo=(()=>{class T extends Ko{constructor(E){super(),this.title=E}updateTitle(E){const P=this.buildTitle(E);void 0!==P&&this.title.setTitle(P)}}return T.\u0275fac=function(E){return new(E||T)(a.LFG(bn.Dx))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class y{}class U extends class C{shouldDetach(S){return!1}store(S,E){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,E){return S.routeConfig===E.routeConfig}}{}const ne=new a.OlP("",{providedIn:"root",factory:()=>({})}),$e=new a.OlP("ROUTES");let Le=(()=>{class T{constructor(E,P){this.injector=E,this.compiler=P,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,Q.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const P=rr(E.loadComponent()).pipe((0,qe.b)(re=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=re}),Yt(()=>{this.componentLoaders.delete(E)})),H=new ze(P,()=>new Gt.x).pipe(ut());return this.componentLoaders.set(E,H),H}loadChildren(E,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,Q.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const re=this.loadModuleFactoryOrRoutes(P.loadChildren).pipe((0,Ce.U)(De=>{this.onLoadEndListener&&this.onLoadEndListener(P);let Ct,tn,Wn=!1;Array.isArray(De)?tn=De:(Ct=De.create(E).injector,tn=Ur(Ct.get($e,[],a.XFs.Self|a.XFs.Optional)));return{routes:tn.map(ts),injector:Ct}}),Yt(()=>{this.childrenLoaders.delete(P)})),ye=new ze(re,()=>new Gt.x).pipe(ut());return this.childrenLoaders.set(P,ye),ye}loadModuleFactoryOrRoutes(E){return rr(E()).pipe((0,Be.z)(P=>P instanceof a.YKP||Array.isArray(P)?(0,Q.of)(P):(0,k.D)(this.compiler.compileModuleAsync(P))))}}return T.\u0275fac=function(E){return new(E||T)(a.LFG(a.zs3),a.LFG(a.Sil))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class Te{}class at{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,E){return S}}function Nr(T){throw T}function Hn(T,S,E){return S.parse("/")}const Un={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Di(){const T=(0,a.f3M)(tr),S=(0,a.f3M)(Vi),E=(0,a.f3M)(ft.Ye),P=(0,a.f3M)(a.zs3),H=(0,a.f3M)(a.Sil),re=(0,a.f3M)($e,{optional:!0})??[],ye=(0,a.f3M)(ne,{optional:!0})??{},De=(0,a.f3M)(qo),Ct=(0,a.f3M)(Ko,{optional:!0}),tn=(0,a.f3M)(Te,{optional:!0}),Wn=(0,a.f3M)(y,{optional:!0}),wn=new Sr(null,T,S,E,P,H,Ur(re));return tn&&(wn.urlHandlingStrategy=tn),Wn&&(wn.routeReuseStrategy=Wn),wn.titleStrategy=Ct??De,function oi(T,S){T.errorHandler&&(S.errorHandler=T.errorHandler),T.malformedUriErrorHandler&&(S.malformedUriErrorHandler=T.malformedUriErrorHandler),T.onSameUrlNavigation&&(S.onSameUrlNavigation=T.onSameUrlNavigation),T.paramsInheritanceStrategy&&(S.paramsInheritanceStrategy=T.paramsInheritanceStrategy),T.relativeLinkResolution&&(S.relativeLinkResolution=T.relativeLinkResolution),T.urlUpdateStrategy&&(S.urlUpdateStrategy=T.urlUpdateStrategy),T.canceledNavigationResolution&&(S.canceledNavigationResolution=T.canceledNavigationResolution)}(ye,wn),wn}let Sr=(()=>{class T{constructor(E,P,H,re,ye,De,Ct){this.rootComponentType=E,this.urlSerializer=P,this.rootContexts=H,this.location=re,this.config=Ct,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Gt.x,this.errorHandler=Nr,this.malformedUriErrorHandler=Hn,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Q.of)(void 0),this.urlHandlingStrategy=new at,this.routeReuseStrategy=new U,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ye.get(Le),this.configLoader.onLoadEndListener=Jn=>this.triggerEvent(new ps(Jn)),this.configLoader.onLoadStartListener=Jn=>this.triggerEvent(new Go(Jn)),this.ngModule=ye.get(a.h0i),this.console=ye.get(a.c2e);const wn=ye.get(a.R0b);this.isNgZoneEnabled=wn instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(Ct),this.currentUrlTree=function ir(){return new cr(new cn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Li(this.currentUrlTree,this.rootComponentType),this.transitions=new ge.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(E){const P=this.events;return E.pipe((0,ie.h)(H=>0!==H.id),(0,Ce.U)(H=>({...H,extractedUrl:this.urlHandlingStrategy.extract(H.rawUrl)})),(0,ke.w)(H=>{let re=!1,ye=!1;return(0,Q.of)(H).pipe((0,qe.b)(De=>{this.currentNavigation={id:De.id,initialUrl:De.rawUrl,extractedUrl:De.extractedUrl,trigger:De.source,extras:De.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ke.w)(De=>{const Ct=this.browserUrlTree.toString(),tn=!this.navigated||De.extractedUrl.toString()!==Ct||Ct!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||tn)&&this.urlHandlingStrategy.shouldProcessUrl(De.rawUrl))return Ps(De.source)&&(this.browserUrlTree=De.extractedUrl),(0,Q.of)(De).pipe((0,ke.w)(wn=>{const Jn=this.transitions.getValue();return P.next(new js(wn.id,this.serializeUrl(wn.extractedUrl),wn.source,wn.restoredState)),Jn!==this.transitions.getValue()?ot.E:Promise.resolve(wn)}),function si(T,S,E,P){return(0,ke.w)(H=>function Pr(T,S,E,P,H){return new as(T,S,E,P,H).apply()}(T,S,E,H.extractedUrl,P).pipe((0,Ce.U)(re=>({...H,urlAfterRedirects:re}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qe.b)(wn=>{this.currentNavigation={...this.currentNavigation,finalUrl:wn.urlAfterRedirects},H.urlAfterRedirects=wn.urlAfterRedirects}),function il(T,S,E,P,H,re){return(0,Be.z)(ye=>function Lo(T,S,E,P,H,re,ye="emptyOnly",De="legacy"){return new pa(T,S,E,P,H,ye,De,re).recognize().pipe((0,ke.w)(Ct=>null===Ct?function Fo(T){return new Ne.y(S=>S.error(T))}(new so):(0,Q.of)(Ct)))}(T,S,E,ye.urlAfterRedirects,P.serialize(ye.urlAfterRedirects),P,H,re).pipe((0,Ce.U)(De=>({...ye,targetSnapshot:De}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qe.b)(wn=>{if(H.targetSnapshot=wn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!wn.extras.skipLocationChange){const _a=this.urlHandlingStrategy.merge(wn.urlAfterRedirects,wn.rawUrl);this.setBrowserUrl(_a,wn)}this.browserUrlTree=wn.urlAfterRedirects}const Jn=new As(wn.id,this.serializeUrl(wn.extractedUrl),this.serializeUrl(wn.urlAfterRedirects),wn.targetSnapshot);P.next(Jn)}));if(tn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Jn,extractedUrl:_a,source:No,restoredState:$i,extras:Fs}=De,Va=new js(Jn,this.serializeUrl(_a),No,$i);P.next(Va);const Fa=Li(_a,this.rootComponentType).snapshot;return H={...De,targetSnapshot:Fa,urlAfterRedirects:_a,extras:{...Fs,skipLocationChange:!1,replaceUrl:!1}},(0,Q.of)(H)}return this.rawUrlTree=De.rawUrl,De.resolve(null),ot.E}),(0,qe.b)(De=>{const Ct=new hi(De.id,this.serializeUrl(De.extractedUrl),this.serializeUrl(De.urlAfterRedirects),De.targetSnapshot);this.triggerEvent(Ct)}),(0,Ce.U)(De=>H={...De,guards:ta(De.targetSnapshot,De.currentSnapshot,this.rootContexts)}),function X(T,S){return(0,Be.z)(E=>{const{targetSnapshot:P,currentSnapshot:H,guards:{canActivateChecks:re,canDeactivateChecks:ye}}=E;return 0===ye.length&&0===re.length?(0,Q.of)({...E,guardsResult:!0}):function it(T,S,E,P){return(0,k.D)(T).pipe((0,Be.z)(H=>function Yr(T,S,E,P,H){const re=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,Q.of)(!0);const ye=re.map(De=>{const Ct=On(S)??H,tn=yo(De,Ct);return rr(function G(T){return T&&ro(T.canDeactivate)}(tn)?tn.canDeactivate(T,S,E,P):Ct.runInContext(()=>tn(T,S,E,P))).pipe((0,fe.P)())});return(0,Q.of)(ye).pipe(N())}(H.component,H.route,E,S,P)),(0,fe.P)(H=>!0!==H,!0))}(ye,P,H,T).pipe((0,Be.z)(De=>De&&function Ii(T){return"boolean"==typeof T}(De)?function Tt(T,S,E,P){return(0,k.D)(S).pipe(Fe(H=>(0,je.z)(function Or(T,S){return null!==T&&S&&S(new Zr(T)),(0,Q.of)(!0)}(H.route.parent,P),function Ln(T,S){return null!==T&&S&&S(new tt(T)),(0,Q.of)(!0)}(H.route,P),function gi(T,S,E){const P=S[S.length-1],re=S.slice(0,S.length-1).reverse().map(ye=>function go(T){const S=T.routeConfig?T.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:T,guards:S}:null}(ye)).filter(ye=>null!==ye).map(ye=>de(()=>{const De=ye.guards.map(Ct=>{const tn=On(ye.node)??E,Wn=yo(Ct,tn);return rr(function Z(T){return T&&ro(T.canActivateChild)}(Wn)?Wn.canActivateChild(P,T):tn.runInContext(()=>Wn(P,T))).pipe((0,fe.P)())});return(0,Q.of)(De).pipe(N())}));return(0,Q.of)(re).pipe(N())}(T,H.path,E),function Kr(T,S,E){const P=S.routeConfig?S.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Q.of)(!0);const H=P.map(re=>de(()=>{const ye=On(S)??E,De=yo(re,ye);return rr(function ha(T){return T&&ro(T.canActivate)}(De)?De.canActivate(S,T):ye.runInContext(()=>De(S,T))).pipe((0,fe.P)())}));return(0,Q.of)(H).pipe(N())}(T,H.route,E))),(0,fe.P)(H=>!0!==H,!0))}(P,re,T,S):(0,Q.of)(De)),(0,Ce.U)(De=>({...E,guardsResult:De})))})}(this.ngModule.injector,De=>this.triggerEvent(De)),(0,qe.b)(De=>{if(H.guardsResult=De.guardsResult,Ut(De.guardsResult))throw Os(0,De.guardsResult);const Ct=new Wi(De.id,this.serializeUrl(De.extractedUrl),this.serializeUrl(De.urlAfterRedirects),De.targetSnapshot,!!De.guardsResult);this.triggerEvent(Ct)}),(0,ie.h)(De=>!!De.guardsResult||(this.restoreHistory(De),this.cancelNavigationTransition(De,"",3),!1)),ba(De=>{if(De.guards.canActivateChecks.length)return(0,Q.of)(De).pipe((0,qe.b)(Ct=>{const tn=new is(Ct.id,this.serializeUrl(Ct.extractedUrl),this.serializeUrl(Ct.urlAfterRedirects),Ct.targetSnapshot);this.triggerEvent(tn)}),(0,ke.w)(Ct=>{let tn=!1;return(0,Q.of)(Ct).pipe(function Ma(T,S){return(0,Be.z)(E=>{const{targetSnapshot:P,guards:{canActivateChecks:H}}=E;if(!H.length)return(0,Q.of)(E);let re=0;return(0,k.D)(H).pipe(Fe(ye=>function vl(T,S,E,P){const H=T.routeConfig,re=T._resolve;return void 0!==H?.title&&!ri(H)&&(re[Cn]=H.title),function xa(T,S,E,P){const H=function bl(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===H.length)return(0,Q.of)({});const re={};return(0,k.D)(H).pipe((0,Be.z)(ye=>function wl(T,S,E,P){const H=On(S)??P,re=yo(T,H);return rr(re.resolve?re.resolve(S,E):H.runInContext(()=>re(S,E)))}(T[ye],S,E,P).pipe((0,fe.P)(),(0,qe.b)(De=>{re[ye]=De}))),Pt(1),(0,Wt.h)(re),Qe(ye=>O(ye)?ot.E:yt(ye)))}(re,T,S,P).pipe((0,Ce.U)(ye=>(T._resolvedData=ye,T.data=Es(T,E).resolve,H&&ri(H)&&(T.data[Cn]=H.title),null)))}(ye.route,P,T,S)),(0,qe.b)(()=>re++),Pt(1),(0,Be.z)(ye=>re===H.length?(0,Q.of)(E):ot.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qe.b)({next:()=>tn=!0,complete:()=>{tn||(this.restoreHistory(Ct),this.cancelNavigationTransition(Ct,"",2))}}))}),(0,qe.b)(Ct=>{const tn=new aa(Ct.id,this.serializeUrl(Ct.extractedUrl),this.serializeUrl(Ct.urlAfterRedirects),Ct.targetSnapshot);this.triggerEvent(tn)}))}),ba(De=>{const Ct=tn=>{const Wn=[];tn.routeConfig?.loadComponent&&!tn.routeConfig._loadedComponent&&Wn.push(this.configLoader.loadComponent(tn.routeConfig).pipe((0,qe.b)(wn=>{tn.component=wn}),(0,Ce.U)(()=>{})));for(const wn of tn.children)Wn.push(...Ct(wn));return Wn};return(0,be.a)(Ct(De.targetSnapshot.root)).pipe((0,Jt.d)(),(0,me.q)(1))}),ba(()=>this.afterPreactivation()),(0,Ce.U)(De=>{const Ct=function ho(T,S,E){const P=xs(T,S._root,E?E._root:void 0);return new Ds(P,S)}(this.routeReuseStrategy,De.targetSnapshot,De.currentRouterState);return H={...De,targetRouterState:Ct}}),(0,qe.b)(De=>{this.currentUrlTree=De.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(De.urlAfterRedirects,De.rawUrl),this.routerState=De.targetRouterState,"deferred"===this.urlUpdateStrategy&&(De.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,De),this.browserUrlTree=De.urlAfterRedirects)}),((T,S,E)=>(0,Ce.U)(P=>(new ca(S,P.targetRouterState,P.currentRouterState,E).activate(T),P)))(this.rootContexts,this.routeReuseStrategy,De=>this.triggerEvent(De)),(0,qe.b)({next(){re=!0},complete(){re=!0}}),Yt(()=>{re||ye||this.cancelNavigationTransition(H,"",1),this.currentNavigation?.id===H.id&&(this.currentNavigation=null)}),Qe(De=>{if(ye=!0,eo(De)){ss(De)||(this.navigated=!0,this.restoreHistory(H,!0));const Ct=new li(H.id,this.serializeUrl(H.extractedUrl),De.message,De.cancellationCode);if(P.next(Ct),ss(De)){const tn=this.urlHandlingStrategy.merge(De.url,this.rawUrlTree),Wn={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ps(H.source)};this.scheduleNavigation(tn,"imperative",null,Wn,{resolve:H.resolve,reject:H.reject,promise:H.promise})}else H.resolve(!1)}else{this.restoreHistory(H,!0);const Ct=new Hs(H.id,this.serializeUrl(H.extractedUrl),De,H.targetSnapshot??void 0);P.next(Ct);try{H.resolve(this.errorHandler(De))}catch(tn){H.reject(tn)}}return ot.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next({...this.transitions.value,...E})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const P="popstate"===E.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{const H={replaceUrl:!0},re=E.state?.navigationId?E.state:null;if(re){const De={...re};delete De.navigationId,delete De.\u0275routerPageId,0!==Object.keys(De).length&&(H.state=De)}const ye=this.parseUrl(E.url);this.scheduleNavigation(ye,P,re,H)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){this.config=E.map(ts),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,P={}){const{relativeTo:H,queryParams:re,fragment:ye,queryParamsHandling:De,preserveFragment:Ct}=P,tn=H||this.routerState.root,Wn=Ct?this.currentUrlTree.fragment:ye;let wn=null;switch(De){case"merge":wn={...this.currentUrlTree.queryParams,...re};break;case"preserve":wn=this.currentUrlTree.queryParams;break;default:wn=re||null}return null!==wn&&(wn=this.removeEmptyProps(wn)),En(tn,this.currentUrlTree,E,wn,Wn??null)}navigateByUrl(E,P={skipLocationChange:!1}){const H=Ut(E)?E:this.parseUrl(E),re=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(re,"imperative",null,P)}navigate(E,P={skipLocationChange:!1}){return function Ni(T){for(let S=0;S<T.length;S++){if(null==T[S])throw new a.vHH(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,P),P)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let P;try{P=this.urlSerializer.parse(E)}catch(H){P=this.malformedUriErrorHandler(H,this.urlSerializer,E)}return P}isActive(E,P){let H;if(H=!0===P?{...Un}:!1===P?{...zn}:P,Ut(E))return mr(this.currentUrlTree,E,H);const re=this.parseUrl(E);return mr(this.currentUrlTree,re,H)}removeEmptyProps(E){return Object.keys(E).reduce((P,H)=>{const re=E[H];return null!=re&&(P[H]=re),P},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new Ir(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,P,H,re,ye){if(this.disposed)return Promise.resolve(!1);let De,Ct,tn;ye?(De=ye.resolve,Ct=ye.reject,tn=ye.promise):tn=new Promise((Jn,_a)=>{De=Jn,Ct=_a});const Wn=++this.navigationId;let wn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(H=this.location.getState()),wn=H&&H.\u0275routerPageId?H.\u0275routerPageId:re.replaceUrl||re.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):wn=0,this.setTransition({id:Wn,targetPageId:wn,source:P,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:re,resolve:De,reject:Ct,promise:tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),tn.catch(Jn=>Promise.reject(Jn))}setBrowserUrl(E,P){const H=this.urlSerializer.serialize(E),re={...P.extras.state,...this.generateNgRouterState(P.id,P.targetPageId)};this.location.isCurrentPathEqualTo(H)||P.extras.replaceUrl?this.location.replaceState(H,"",re):this.location.go(H,"",re)}restoreHistory(E,P=!1){if("computed"===this.canceledNavigationResolution){const H=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===H?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===H&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(H)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,P,H){const re=new li(E.id,this.serializeUrl(E.extractedUrl),P,H);this.triggerEvent(re),E.resolve(!1)}generateNgRouterState(E,P){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:P}:{navigationId:E}}}return T.\u0275fac=function(E){a.$Z()},T.\u0275prov=a.Yz7({token:T,factory:function(){return Di()},providedIn:"root"}),T})();function Ps(T){return"imperative"!==T}let ra=(()=>{class T{constructor(E,P,H,re,ye){this.router=E,this.route=P,this.tabIndexAttribute=H,this.renderer=re,this.el=ye,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Gt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(E){this._preserveFragment=(0,a.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,a.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,a.D6c)(E)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(E){if(null!=this.tabIndexAttribute)return;const P=this.renderer,H=this.el.nativeElement;null!==E?P.setAttribute(H,"tabindex",E):P.removeAttribute(H,"tabindex")}ngOnChanges(E){this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return T.\u0275fac=function(E){return new(E||T)(a.Y36(Sr),a.Y36(fi),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},T.\u0275dir=a.lG2({type:T,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,P){1&E&&a.NdJ("click",function(){return P.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),T})(),ks=(()=>{class T{constructor(E,P,H){this.router=E,this.route=P,this.locationStrategy=H,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Gt.x,this.subscription=E.events.subscribe(re=>{re instanceof Ir&&this.updateTargetUrlAndHref()})}set preserveFragment(E){this._preserveFragment=(0,a.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,a.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,a.D6c)(E)}get replaceUrl(){return this._replaceUrl}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,P,H,re,ye){return!!(0!==E||P||H||re||ye||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return T.\u0275fac=function(E){return new(E||T)(a.Y36(Sr),a.Y36(fi),a.Y36(ft.S$))},T.\u0275dir=a.lG2({type:T,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,P){1&E&&a.NdJ("click",function(re){return P.onClick(re.button,re.ctrlKey,re.shiftKey,re.altKey,re.metaKey)}),2&E&&a.uIk("target",P.target)("href",P.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),T})(),_n=(()=>{class T{constructor(E,P,H,re,ye,De){this.router=E,this.element=P,this.renderer=H,this.cdr=re,this.link=ye,this.linkWithHref=De,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=E.events.subscribe(Ct=>{Ct instanceof Ir&&this.update()})}ngAfterContentInit(){(0,Q.of)(this.links.changes,this.linksWithHrefs.changes,(0,Q.of)(null)).pipe((0,$t.J)()).subscribe(E=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const E=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(P=>!!P).map(P=>P.onChanges);this.linkInputChangesSubscription=(0,k.D)(E).pipe((0,$t.J)()).subscribe(P=>{this.isActive!==this.isLinkActive(this.router)(P)&&this.update()})}set routerLinkActive(E){const P=Array.isArray(E)?E:E.split(" ");this.classes=P.filter(H=>!!H)}ngOnChanges(E){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const E=this.hasActiveLinks();this.isActive!==E&&(this.isActive=E,this.cdr.markForCheck(),this.classes.forEach(P=>{E?this.renderer.addClass(this.element.nativeElement,P):this.renderer.removeClass(this.element.nativeElement,P)}),E&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(E))})}isLinkActive(E){const P=function vo(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&E.isActive(H.urlTree,P)}hasActiveLinks(){const E=this.isLinkActive(this.router);return this.link&&E(this.link)||this.linkWithHref&&E(this.linkWithHref)||this.links.some(E)||this.linksWithHrefs.some(E)}}return T.\u0275fac=function(E){return new(E||T)(a.Y36(Sr),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(ra,8),a.Y36(ks,8))},T.\u0275dir=a.lG2({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(E,P,H){if(1&E&&(a.Suo(H,ra,5),a.Suo(H,ks,5)),2&E){let re;a.iGM(re=a.CRH())&&(P.links=re),a.iGM(re=a.CRH())&&(P.linksWithHrefs=re)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),T})();class Zo{}let Yo=(()=>{class T{constructor(E,P,H,re,ye){this.router=E,this.injector=H,this.preloadingStrategy=re,this.loader=ye}setUpPreloading(){this.subscription=this.router.events.pipe((0,ie.h)(E=>E instanceof Ir),Fe(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,P){const H=[];for(const re of P){re.providers&&!re._injector&&(re._injector=(0,a.MMx)(re.providers,E,`Route: ${re.path}`));const ye=re._injector??E,De=re._loadedInjector??ye;re.loadChildren&&!re._loadedRoutes&&void 0===re.canLoad||re.loadComponent&&!re._loadedComponent?H.push(this.preloadConfig(ye,re)):(re.children||re._loadedRoutes)&&H.push(this.processRoutes(De,re.children??re._loadedRoutes))}return(0,k.D)(H).pipe((0,$t.J)())}preloadConfig(E,P){return this.preloadingStrategy.preload(P,()=>{let H;H=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(E,P):(0,Q.of)(null);const re=H.pipe((0,Be.z)(ye=>null===ye?(0,Q.of)(void 0):(P._loadedRoutes=ye.routes,P._loadedInjector=ye.injector,this.processRoutes(ye.injector??E,ye.routes))));if(P.loadComponent&&!P._loadedComponent){const ye=this.loader.loadComponent(P);return(0,k.D)([re,ye]).pipe((0,$t.J)())}return re})}}return T.\u0275fac=function(E){return new(E||T)(a.LFG(Sr),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(Zo),a.LFG(Le))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const fr=new a.OlP("");let oo=(()=>{class T{constructor(E,P,H={}){this.router=E,this.viewportScroller=P,this.options=H,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},H.scrollPositionRestoration=H.scrollPositionRestoration||"disabled",H.anchorScrolling=H.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof js?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Ir&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof ht&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,P){this.router.triggerEvent(new ht(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return T.\u0275fac=function(E){a.$Z()},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac}),T})();function Sn(T,S){return{\u0275kind:T,\u0275providers:S}}function Qn(T){return[{provide:$e,multi:!0,useValue:T}]}function _s(){const T=(0,a.f3M)(a.zs3);return S=>{const E=T.get(a.z2F);if(S!==E.components[0])return;const P=T.get(Sr),H=T.get(Mr);1===T.get(So)&&P.initialNavigation(),T.get(ao,null,a.XFs.Optional)?.setUpPreloading(),T.get(fr,null,a.XFs.Optional)?.init(),P.resetRootComponentType(E.componentTypes[0]),H.next(),H.complete()}}const Mr=new a.OlP("",{factory:()=>new Gt.x}),So=new a.OlP("",{providedIn:"root",factory:()=>1});const ao=new a.OlP("");function Oa(T){return Sn(0,[{provide:ao,useExisting:Yo},{provide:Zo,useExisting:T}])}const _t=new a.OlP("ROUTER_FORROOT_GUARD"),ns=[ft.Ye,{provide:tr,useClass:Ke},{provide:Sr,useFactory:Di},Vi,{provide:fi,useFactory:function In(T){return T.routerState.root},deps:[Sr]},Le];function Ao(){return new a.PXZ("Router",Sr)}let sl=(()=>{class T{constructor(E){}static forRoot(E,P){return{ngModule:T,providers:[ns,[],Qn(E),{provide:_t,useFactory:mo,deps:[[Sr,new a.FiY,new a.tp0]]},{provide:ne,useValue:P||{}},P?.useHash?{provide:ft.S$,useClass:ft.Do}:{provide:ft.S$,useClass:ft.b0},{provide:fr,useFactory:()=>{const T=(0,a.f3M)(Sr),S=(0,a.f3M)(ft.EM),E=(0,a.f3M)(ne);return E.scrollOffset&&S.setOffset(E.scrollOffset),new oo(T,S,E)}},P?.preloadingStrategy?Oa(P.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Ao},P?.initialNavigation?tu(P):[],[{provide:Vo,useFactory:_s},{provide:a.tb,multi:!0,useExisting:Vo}]]}}static forChild(E){return{ngModule:T,providers:[Qn(E)]}}}return T.\u0275fac=function(E){return new(E||T)(a.LFG(_t,8))},T.\u0275mod=a.oAB({type:T}),T.\u0275inj=a.cJS({imports:[fo]}),T})();function mo(T){return"guarded"}function tu(T){return["disabled"===T.initialNavigation?Sn(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const S=(0,a.f3M)(Sr);return()=>{S.setUpLocationChangeListener()}}},{provide:So,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Sn(2,[{provide:So,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:S=>{const E=S.get(ft.V_,Promise.resolve());let P=!1;return()=>E.then(()=>new Promise(re=>{const ye=S.get(Sr),De=S.get(Mr);(function H(re){S.get(Sr).events.pipe((0,ie.h)(De=>De instanceof Ir||De instanceof li||De instanceof Hs),(0,Ce.U)(De=>De instanceof Ir||De instanceof li&&(0===De.code||1===De.code)&&null),(0,ie.h)(De=>null!==De),(0,me.q)(1)).subscribe(()=>{re()})})(()=>{re(!0),P=!0}),ye.afterPreactivation=()=>(re(!0),P||De.closed?(0,Q.of)(void 0):De),ye.initialNavigation()}))}}]).\u0275providers:[]]}const Vo=new a.OlP("")},3942:(Xt,st,V)=>{"use strict";V.d(st,{Z:()=>nt});var a=V(2090),k=V(4859),Q=V(9681),ge=V(1877);class Oe{constructor(dt,ut){this._delegate=dt,this.firebase=ut,(0,Q._addComponent)(dt,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=dt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(dt){this._delegate.automaticDataCollectionEnabled=dt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(dt=>{this._delegate.checkDestroyed(),dt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Q.deleteApp)(this._delegate)))}_getService(dt,ut=Q._DEFAULT_ENTRY_NAME){var ze;this._delegate.checkDestroyed();const Gt=this._delegate.container.getProvider(dt);return!Gt.isInitialized()&&"EXPLICIT"===(null===(ze=Gt.getComponent())||void 0===ze?void 0:ze.instantiationMode)&&Gt.initialize(),Gt.getImmediate({identifier:ut})}_removeServiceInstance(dt,ut=Q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(dt).clearInstance(ut)}_addComponent(dt){(0,Q._addComponent)(this._delegate,dt)}_addOrOverwriteComponent(dt){(0,Q._addOrOverwriteComponent)(this._delegate,dt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const je=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function We(){const At=function Ne(At){const dt={},ut={__esModule:!0,initializeApp:function ft(Ae,ie={}){const Be=Q.initializeApp(Ae,ie);if((0,a.r3)(dt,Be.name))return dt[Be.name];const fe=new At(Be,ut);return dt[Be.name]=fe,fe},app:Gt,registerVersion:Q.registerVersion,setLogLevel:Q.setLogLevel,onLog:Q.onLog,apps:null,SDK_VERSION:Q.SDK_VERSION,INTERNAL:{registerComponent:function ke(Ae){const ie=Ae.name,Be=ie.replace("-compat","");if(Q._registerComponent(Ae)&&"PUBLIC"===Ae.type){const fe=(Fe=Gt())=>{if("function"!=typeof Fe[Be])throw je.create("invalid-app-argument",{appName:ie});return Fe[Be]()};void 0!==Ae.serviceProps&&(0,a.ZB)(fe,Ae.serviceProps),ut[Be]=fe,At.prototype[Be]=function(...Fe){return this._getService.bind(this,ie).apply(this,Ae.multipleInstances?Fe:[])}}return"PUBLIC"===Ae.type?ut[Be]:null},removeApp:function ze(Ae){delete dt[Ae]},useAsService:function me(Ae,ie){return"serverAuth"===ie?null:ie},modularAPIs:Q}};function Gt(Ae){if(!(0,a.r3)(dt,Ae=Ae||Q._DEFAULT_ENTRY_NAME))throw je.create("no-app",{appName:Ae});return dt[Ae]}return ut.default=ut,Object.defineProperty(ut,"apps",{get:function Ce(){return Object.keys(dt).map(Ae=>dt[Ae])}}),Gt.App=At,ut}(Oe);return At.INTERNAL=Object.assign(Object.assign({},At.INTERNAL),{createFirebaseNamespace:We,extendNamespace:function dt(ut){(0,a.ZB)(At,ut)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),At}(),he=new ge.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const At=self.firebase.SDK_VERSION;At&&At.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=de;!function ot(At){(0,Q.registerVersion)("@firebase/app-compat","0.1.34",At)}()},9681:(Xt,st,V)=>{"use strict";V.r(st),V.d(st,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>pr,_DEFAULT_ENTRY_NAME:()=>en,_addComponent:()=>Yt,_addOrOverwriteComponent:()=>$t,_apps:()=>ln,_clearComponents:()=>ei,_components:()=>Wt,_getProvider:()=>Rt,_registerComponent:()=>bn,_removeServiceInstance:()=>Cn,deleteApp:()=>di,getApp:()=>Ur,getApps:()=>Ar,initializeApp:()=>Vr,onLog:()=>Pn,registerVersion:()=>rr,setLogLevel:()=>ir});var a=V(5861),k=V(4859),Q=V(1877),ge=V(2090),Oe=V(8766);class be{constructor(He){this.container=He}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function je(Me){return"VERSION"===Me.getComponent()?.type}(Ve)){const Nt=Ve.getImmediate();return`${Nt.library}/${Nt.version}`}return null}).filter(Ve=>Ve).join(" ")}}const Ne="@firebase/app",de=new Q.Yd("@firebase/app"),en="[DEFAULT]",wt={[Ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ln=new Map,Wt=new Map;function Yt(Me,He){try{Me.container.addComponent(He)}catch(Ve){de.debug(`Component ${He.name} failed to register with FirebaseApp ${Me.name}`,Ve)}}function $t(Me,He){Me.container.addOrOverwriteComponent(He)}function bn(Me){const He=Me.name;if(Wt.has(He))return de.debug(`There were multiple attempts to register component ${He}.`),!1;Wt.set(He,Me);for(const Ve of ln.values())Yt(Ve,Me);return!0}function Rt(Me,He){const Ve=Me.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),Me.container.getProvider(He)}function Cn(Me,He,Ve=en){Rt(Me,He).clearInstance(Ve)}function ei(){Wt.clear()}const Rn=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class er{constructor(He,Ve,Nt){this._isDeleted=!1,this._options=Object.assign({},He),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=Nt,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this.checkDestroyed(),this._automaticDataCollectionEnabled=He}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(He){this._isDeleted=He}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const pr="9.10.0";function Vr(Me,He={}){"object"!=typeof He&&(He={name:He});const Ve=Object.assign({name:en,automaticDataCollectionEnabled:!1},He),Nt=Ve.name;if("string"!=typeof Nt||!Nt)throw Rn.create("bad-app-name",{appName:String(Nt)});const Kt=ln.get(Nt);if(Kt){if((0,ge.vZ)(Me,Kt.options)&&(0,ge.vZ)(Ve,Kt.config))return Kt;throw Rn.create("duplicate-app",{appName:Nt})}const on=new k.H0(Nt);for(const nr of Wt.values())on.addComponent(nr);const dr=new er(Me,Ve,on);return ln.set(Nt,dr),dr}function Ur(Me=en){const He=ln.get(Me);if(!He)throw Rn.create("no-app",{appName:Me});return He}function Ar(){return Array.from(ln.values())}function di(Me){return xt.apply(this,arguments)}function xt(){return(xt=(0,a.Z)(function*(Me){const He=Me.name;ln.has(He)&&(ln.delete(He),yield Promise.all(Me.container.getProviders().map(Ve=>Ve.delete())),Me.isDeleted=!0)})).apply(this,arguments)}function rr(Me,He,Ve){var Nt;let Kt=null!==(Nt=wt[Me])&&void 0!==Nt?Nt:Me;Ve&&(Kt+=`-${Ve}`);const on=Kt.match(/\s|\//),dr=He.match(/\s|\//);if(on||dr){const nr=[`Unable to register library "${Kt}" with version "${He}":`];return on&&nr.push(`library name "${Kt}" contains illegal characters (whitespace or "/")`),on&&dr&&nr.push("and"),dr&&nr.push(`version name "${He}" contains illegal characters (whitespace or "/")`),void de.warn(nr.join(" "))}bn(new k.wA(`${Kt}-version`,()=>({library:Kt,version:He}),"VERSION"))}function Pn(Me,He){if(null!==Me&&"function"!=typeof Me)throw Rn.create("invalid-log-argument");(0,Q.Am)(Me,He)}function ir(Me){(0,Q.Ub)(Me)}const mr="firebase-heartbeat-store";let Dr=null;function Gn(){return Dr||(Dr=(0,Oe.X3)("firebase-heartbeat-database",1,{upgrade:(Me,He)=>{0===He&&Me.createObjectStore(mr)}}).catch(Me=>{throw Rn.create("idb-open",{originalErrorMessage:Me.message})})),Dr}function un(){return(un=(0,a.Z)(function*(Me){var He;try{return(yield Gn()).transaction(mr).objectStore(mr).get(cr(Me))}catch(Ve){if(Ve instanceof ge.ZR)de.warn(Ve.message);else{const Nt=Rn.create("idb-get",{originalErrorMessage:null===(He=Ve)||void 0===He?void 0:He.message});de.warn(Nt.message)}}})).apply(this,arguments)}function ur(Me,He){return _r.apply(this,arguments)}function _r(){return(_r=(0,a.Z)(function*(Me,He){var Ve;try{const Kt=(yield Gn()).transaction(mr,"readwrite");return yield Kt.objectStore(mr).put(He,cr(Me)),Kt.done}catch(Nt){if(Nt instanceof ge.ZR)de.warn(Nt.message);else{const Kt=Rn.create("idb-set",{originalErrorMessage:null===(Ve=Nt)||void 0===Ve?void 0:Ve.message});de.warn(Kt.message)}}})).apply(this,arguments)}function cr(Me){return`${Me.name}!${Me.options.appId}`}class Pi{constructor(He){this.container=He,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new tr(Ve),this._heartbeatsCachePromise=this._storage.read().then(Nt=>(this._heartbeatsCache=Nt,Nt))}triggerHeartbeat(){var He=this;return(0,a.Z)(function*(){const Nt=He.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kt=Vn();if(null===He._heartbeatsCache&&(He._heartbeatsCache=yield He._heartbeatsCachePromise),He._heartbeatsCache.lastSentHeartbeatDate!==Kt&&!He._heartbeatsCache.heartbeats.some(on=>on.date===Kt))return He._heartbeatsCache.heartbeats.push({date:Kt,agent:Nt}),He._heartbeatsCache.heartbeats=He._heartbeatsCache.heartbeats.filter(on=>{const dr=new Date(on.date).valueOf();return Date.now()-dr<=2592e6}),He._storage.overwrite(He._heartbeatsCache)})()}getHeartbeatsHeader(){var He=this;return(0,a.Z)(function*(){if(null===He._heartbeatsCache&&(yield He._heartbeatsCachePromise),null===He._heartbeatsCache||0===He._heartbeatsCache.heartbeats.length)return"";const Ve=Vn(),{heartbeatsToSend:Nt,unsentEntries:Kt}=function ds(Me,He=1024){const Ve=[];let Nt=Me.slice();for(const Kt of Me){const on=Ve.find(dr=>dr.agent===Kt.agent);if(on){if(on.dates.push(Kt.date),Ke(Ve)>He){on.dates.pop();break}}else if(Ve.push({agent:Kt.agent,dates:[Kt.date]}),Ke(Ve)>He){Ve.pop();break}Nt=Nt.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:Nt}}(He._heartbeatsCache.heartbeats),on=(0,ge.L)(JSON.stringify({version:2,heartbeats:Nt}));return He._heartbeatsCache.lastSentHeartbeatDate=Ve,Kt.length>0?(He._heartbeatsCache.heartbeats=Kt,yield He._storage.overwrite(He._heartbeatsCache)):(He._heartbeatsCache.heartbeats=[],He._storage.overwrite(He._heartbeatsCache)),on})()}}function Vn(){return(new Date).toISOString().substring(0,10)}class tr{constructor(He){this.app=He,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ge.hl)()&&(0,ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var He=this;return(0,a.Z)(function*(){return(yield He._canUseIndexedDBPromise)&&(yield function sn(Me){return un.apply(this,arguments)}(He.app))||{heartbeats:[]}})()}overwrite(He){var Ve=this;return(0,a.Z)(function*(){var Nt;if(yield Ve._canUseIndexedDBPromise){const on=yield Ve.read();return ur(Ve.app,{lastSentHeartbeatDate:null!==(Nt=He.lastSentHeartbeatDate)&&void 0!==Nt?Nt:on.lastSentHeartbeatDate,heartbeats:He.heartbeats})}})()}add(He){var Ve=this;return(0,a.Z)(function*(){var Nt;if(yield Ve._canUseIndexedDBPromise){const on=yield Ve.read();return ur(Ve.app,{lastSentHeartbeatDate:null!==(Nt=He.lastSentHeartbeatDate)&&void 0!==Nt?Nt:on.lastSentHeartbeatDate,heartbeats:[...on.heartbeats,...He.heartbeats]})}})()}}function Ke(Me){return(0,ge.L)(JSON.stringify({version:2,heartbeats:Me})).length}!function Ge(Me){bn(new k.wA("platform-logger",He=>new be(He),"PRIVATE")),bn(new k.wA("heartbeat",He=>new Pi(He),"PRIVATE")),rr(Ne,"0.7.33",Me),rr(Ne,"0.7.33","esm2017"),rr("fire-js","")}("")},4859:(Xt,st,V)=>{"use strict";V.d(st,{H0:()=>Ne,wA:()=>Q});var a=V(5861),k=V(2090);class Q{constructor(de,he,Pe){this.name=de,this.instanceFactory=he,this.type=Pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const ge="[DEFAULT]";class Oe{constructor(de,he){this.name=de,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const he=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(he)){const Pe=new k.BH;if(this.instancesDeferred.set(he,Pe),this.isInitialized(he)||this.shouldAutoInitialize())try{const yt=this.getOrInitializeService({instanceIdentifier:he});yt&&Pe.resolve(yt)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(de){var he;const Pe=this.normalizeInstanceIdentifier(de?.identifier),yt=null!==(he=de?.optional)&&void 0!==he&&he;if(!this.isInitialized(Pe)&&!this.shouldAutoInitialize()){if(yt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pe})}catch(ot){if(yt)return null;throw ot}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function je(We){return"EAGER"===We.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[he,Pe]of this.instancesDeferred.entries()){const yt=this.normalizeInstanceIdentifier(he);try{const ot=this.getOrInitializeService({instanceIdentifier:yt});Pe.resolve(ot)}catch{}}}}clearInstance(de=ge){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,a.Z)(function*(){const he=Array.from(de.instances.values());yield Promise.all([...he.filter(Pe=>"INTERNAL"in Pe).map(Pe=>Pe.INTERNAL.delete()),...he.filter(Pe=>"_delete"in Pe).map(Pe=>Pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=ge){return this.instances.has(de)}getOptions(de=ge){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:he={}}=de,Pe=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(Pe))throw Error(`${this.name}(${Pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const yt=this.getOrInitializeService({instanceIdentifier:Pe,options:he});for(const[ot,nt]of this.instancesDeferred.entries())Pe===this.normalizeInstanceIdentifier(ot)&&nt.resolve(yt);return yt}onInit(de,he){var Pe;const yt=this.normalizeInstanceIdentifier(he),ot=null!==(Pe=this.onInitCallbacks.get(yt))&&void 0!==Pe?Pe:new Set;ot.add(de),this.onInitCallbacks.set(yt,ot);const nt=this.instances.get(yt);return nt&&de(nt,yt),()=>{ot.delete(de)}}invokeOnInitCallbacks(de,he){const Pe=this.onInitCallbacks.get(he);if(Pe)for(const yt of Pe)try{yt(de,he)}catch{}}getOrInitializeService({instanceIdentifier:de,options:he={}}){let Pe=this.instances.get(de);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:(We=de,We===ge?void 0:We),options:he}),this.instances.set(de,Pe),this.instancesOptions.set(de,he),this.invokeOnInitCallbacks(Pe,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,Pe)}catch{}var We;return Pe||null}normalizeInstanceIdentifier(de=ge){return this.component?this.component.multipleInstances?de:ge:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const he=this.getProvider(de.name);if(he.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);he.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const he=new Oe(de,this);return this.providers.set(de,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(Xt,st,V)=>{"use strict";V.d(st,{Am:()=>We,Ub:()=>Ne,Yd:()=>je,in:()=>k});const a=[];var k=(()=>{return(de=k||(k={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",k;var de})();const Q={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},ge=k.INFO,Oe={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},be=(de,he,...Pe)=>{if(he<de.logLevel)return;const yt=(new Date).toISOString(),ot=Oe[he];if(!ot)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[ot](`[${yt}]  ${de.name}:`,...Pe)};class je{constructor(he){this.name=he,this._logLevel=ge,this._logHandler=be,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in k))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?Q[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...he),this._logHandler(this,k.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...he),this._logHandler(this,k.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,k.INFO,...he),this._logHandler(this,k.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,k.WARN,...he),this._logHandler(this,k.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...he),this._logHandler(this,k.ERROR,...he)}}function Ne(de){a.forEach(he=>{he.setLogLevel(de)})}function We(de,he){for(const Pe of a){let yt=null;he&&he.level&&(yt=Q[he.level]),Pe.userLogHandler=null===de?null:(ot,nt,...At)=>{const dt=At.map(ut=>{if(null==ut)return null;if("string"==typeof ut)return ut;if("number"==typeof ut||"boolean"==typeof ut)return ut.toString();if(ut instanceof Error)return ut.message;try{return JSON.stringify(ut)}catch{return null}}).filter(ut=>ut).join(" ");nt>=(yt??ot.logLevel)&&de({level:k[nt].toLowerCase(),message:dt,args:At,type:ot.name})}}}},7747:(Xt,st,V)=>{"use strict";V.d(st,{IJ:()=>Xc,M2:()=>vu,OC:()=>Hd});var a=V(4650),k=V(6895),Q=V(9751),ge=V(515),Oe=V(9646),be=V(7579),je=V(8421),Ne=V(5577),We=V(1144),de=V(576),he=V(3268);const Pe=["addListener","removeListener"],yt=["addEventListener","removeEventListener"],ot=["on","off"];function nt(h,_,c,b){if((0,de.m)(c)&&(b=c,c=void 0),b)return nt(h,_,c).pipe((0,he.Z)(b));const[M,z]=function ze(h){return(0,de.m)(h.addEventListener)&&(0,de.m)(h.removeEventListener)}(h)?yt.map(Ee=>Ye=>h[Ee](_,Ye,c)):function dt(h){return(0,de.m)(h.addListener)&&(0,de.m)(h.removeListener)}(h)?Pe.map(At(h,_)):function ut(h){return(0,de.m)(h.on)&&(0,de.m)(h.off)}(h)?ot.map(At(h,_)):[];if(!M&&(0,We.z)(h))return(0,Ne.z)(Ee=>nt(Ee,_,c))((0,je.Xf)(h));if(!M)throw new TypeError("Invalid event target");return new Q.y(Ee=>{const Ye=(...Ze)=>Ee.next(1<Ze.length?Ze:Ze[0]);return M(Ye),()=>z(Ye)})}function At(h,_){return c=>b=>h[c](_,b)}var Gt=V(4986),ft=V(3532);const{isArray:me}=Array;function Ae(h){return 1===h.length&&me(h[0])?h[0]:h}var ie=V(5403);V(1135),V(9841);var Qe=V(5032);new Q.y(Qe.Z);var jt=V(3269);function Jt(...h){const _=(0,jt.jO)(h),c=Ae(h);return c.length?new Q.y(b=>{let M=c.map(()=>[]),z=c.map(()=>!1);b.add(()=>{M=z=null});for(let Ee=0;!b.closed&&Ee<c.length;Ee++)(0,je.Xf)(c[Ee]).subscribe((0,ie.x)(b,Ye=>{if(M[Ee].push(Ye),M.every(Ze=>Ze.length)){const Ze=M.map(Et=>Et.shift());b.next(_?_(...Ze):Ze),M.some((Et,kt)=>!Et.length&&z[kt])&&b.complete()}},()=>{z[Ee]=!0,!M[Ee].length&&b.complete()}));return()=>{M=z=null}}):ge.E}var en=V(7272),ln=V(4482);function Wt(h){return(0,ln.e)((_,c)=>{(0,je.Xf)(h).subscribe((0,ie.x)(c,()=>c.complete(),Qe.Z)),!c.closed&&_.subscribe(c)})}var Yt=V(9300),$t=V(5698),bn=V(4004),ei=(V(8675),V(1884),V(3900)),fn=V(8505),Rn=V(4671);function er(...h){const _=(0,jt.jO)(h);return(0,ln.e)((c,b)=>{const M=h.length,z=new Array(M);let Ee=h.map(()=>!1),Ye=!1;for(let Ze=0;Ze<M;Ze++)(0,je.Xf)(h[Ze]).subscribe((0,ie.x)(b,Et=>{z[Ze]=Et,!Ye&&!Ee[Ze]&&(Ee[Ze]=!0,(Ye=Ee.every(Rn.y))&&(Ee=null))},Qe.Z));c.subscribe((0,ie.x)(b,Ze=>{if(Ye){const Et=[Ze,...z];b.next(_?_(...Et):Et)}}))})}V(9718);var xt=V(433);Math,Math,Math;const Gs=["*"],Tt=["dialog"];function ji(h,_){1&h&&a._uU(0),2&h&&a.Oqu(100===_.fill?"\u2605":"\u2606")}function ka(h,_){}function ls(h,_){if(1&h){const c=a.EpF();a.TgZ(0,"span",2),a._uU(1),a.qZA(),a.TgZ(2,"span",3),a.NdJ("mouseenter",function(){const z=a.CHM(c).index,Ee=a.oxw();return a.KtG(Ee.enter(z+1))})("click",function(){const z=a.CHM(c).index,Ee=a.oxw();return a.KtG(Ee.handleClick(z+1))}),a.YNc(3,ka,0,0,"ng-template",4),a.qZA()}if(2&h){const c=_.index,b=a.oxw(),M=a.MAs(1);a.xp6(1),a.hij("(",c<b.nextRate?"*":" ",")"),a.xp6(1),a.Udp("cursor",b.isInteractive()?"pointer":"default"),a.xp6(1),a.Q6J("ngTemplateOutlet",b.starTemplate||b.starTemplateFromContent||M)("ngTemplateOutletContext",b.contexts[c])}}function Te(h,_,c=0){return Math.max(Math.min(h,_),c)}function at(h){return"string"==typeof h}function Hn(h){return null!=h}function Ni(h){return(h||document.body).getBoundingClientRect()}const _n={animation:!0,transitionTimerDelayMs:5},vo=()=>{},{transitionTimerDelayMs:Zo}=_n,kr=new Map,mn=(h,_,c,b)=>{let M=b.context||{};const z=kr.get(_);if(z)switch(b.runningTransition){case"continue":return ge.E;case"stop":h.run(()=>z.transition$.complete()),M=Object.assign(z.context,M),kr.delete(_)}const Ee=c(_,b.animation,M)||vo;if(!b.animation||"none"===window.getComputedStyle(_).transitionProperty)return h.run(()=>Ee()),(0,Oe.of)(void 0).pipe(function Ps(h){return _=>new Q.y(c=>_.subscribe({next:Ee=>h.run(()=>c.next(Ee)),error:Ee=>h.run(()=>c.error(Ee)),complete:()=>h.run(()=>c.complete())}))}(h));const Ye=new be.x,Ze=new be.x,Et=Ye.pipe(function wt(...h){return _=>(0,en.z)(_,(0,Oe.of)(...h))}(!0));kr.set(_,{transition$:Ye,complete:()=>{Ze.next(),Ze.complete()},context:M});const kt=function ks(h){const{transitionDelay:_,transitionDuration:c}=window.getComputedStyle(h);return 1e3*(parseFloat(_)+parseFloat(c))}(_);return h.runOutsideAngular(()=>{const Nn=nt(_,"transitionend").pipe(Wt(Et),(0,Yt.h)(({target:Fn})=>Fn===_));(function Be(...h){return 1===(h=Ae(h)).length?(0,je.Xf)(h[0]):new Q.y(function fe(h){return _=>{let c=[];for(let b=0;c&&!_.closed&&b<h.length;b++)c.push((0,je.Xf)(h[b]).subscribe((0,ie.x)(_,M=>{if(c){for(let z=0;z<c.length;z++)z!==b&&c[z].unsubscribe();c=null}_.next(M)})))}}(h))})(function ke(h=0,_,c=Gt.P){let b=-1;return null!=_&&((0,ft.K)(_)?c=_:b=_),new Q.y(M=>{let z=function Ce(h){return h instanceof Date&&!isNaN(h)}(h)?+h-c.now():h;z<0&&(z=0);let Ee=0;return c.schedule(function(){M.closed||(M.next(Ee++),0<=b?this.schedule(void 0,b):M.complete())},z)})}(kt+Zo).pipe(Wt(Et)),Nn,Ze).pipe(Wt(Et)).subscribe(()=>{kr.delete(_),h.run(()=>{Ee(),Ye.next(),Ye.complete()})})}),Ye.asObservable()};let Hr=(()=>{class h{constructor(){this.animation=_n.animation}}return h.\u0275fac=function(c){return new(c||h)},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Bo=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[k.ez]}),h})(),Ks=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[k.ez]}),h})(),kl=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[k.ez]}),h})(),E=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})();var _e=(()=>{return(h=_e||(_e={}))[h.Tab=9]="Tab",h[h.Enter=13]="Enter",h[h.Escape=27]="Escape",h[h.Space=32]="Space",h[h.PageUp=33]="PageUp",h[h.PageDown=34]="PageDown",h[h.End=35]="End",h[h.Home=36]="Home",h[h.ArrowLeft=37]="ArrowLeft",h[h.ArrowUp=38]="ArrowUp",h[h.ArrowRight=39]="ArrowRight",h[h.ArrowDown=40]="ArrowDown",_e;var h})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Mo=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ul(h){const _=Array.from(h.querySelectorAll(Mo)).filter(c=>-1!==c.tabIndex);return[_[0],_[_.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let ya=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[k.ez,xt.u5]}),h})(),vu=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275dir=a.lG2({type:h,selectors:[["",8,"navbar"]]}),h})(),$r=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})();class ml{constructor(_,c,b){this.nodes=_,this.viewRef=c,this.componentRef=b}}let Ho=(()=>{class h{constructor(c,b){this._el=c,this._zone=b}ngOnInit(){this._zone.onStable.asObservable().pipe((0,$t.q)(1)).subscribe(()=>{mn(this._zone,this._el.nativeElement,(c,b)=>{b&&Ni(c),c.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return mn(this._zone,this._el.nativeElement,({classList:c})=>c.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return h.\u0275fac=function(c){return new(c||h)(a.Y36(a.SBq),a.Y36(a.R0b))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(c,b){2&c&&(a.Tol("modal-backdrop"+(b.backdropClass?" "+b.backdropClass:"")),a.ekj("show",!b.animation)("fade",b.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(c,b){},encapsulation:2}),h})();class Nl{close(_){}dismiss(_){}}class ju{constructor(_,c,b,M){this._windowCmptRef=_,this._contentRef=c,this._backdropCmptRef=b,this._beforeDismiss=M,this._closed=new be.x,this._dismissed=new be.x,this._hidden=new be.x,_.instance.dismissEvent.subscribe(z=>{this.dismiss(z)}),this.result=new Promise((z,Ee)=>{this._resolve=z,this._reject=Ee}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Wt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Wt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(_){this._windowCmptRef&&(this._closed.next(_),this._resolve(_),this._removeModalElements())}_dismiss(_){this._dismissed.next(_),this._reject(_),this._removeModalElements()}dismiss(_){if(this._windowCmptRef)if(this._beforeDismiss){const c=this._beforeDismiss();!function Un(h){return h&&h.then}(c)?!1!==c&&this._dismiss(_):c.then(b=>{!1!==b&&this._dismiss(_)},()=>{})}else this._dismiss(_)}_removeModalElements(){const _=this._windowCmptRef.instance.hide(),c=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Oe.of)(void 0);_.subscribe(()=>{const{nativeElement:b}=this._windowCmptRef.location;b.parentNode.removeChild(b),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),c.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:b}=this._backdropCmptRef.location;b.parentNode.removeChild(b),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Jt(_,c).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Gl=(()=>{return(h=Gl||(Gl={}))[h.BACKDROP_CLICK=0]="BACKDROP_CLICK",h[h.ESC=1]="ESC",Gl;var h})();let Hu=(()=>{class h{constructor(c,b,M){this._document=c,this._elRef=b,this._zone=M,this._closed$=new be.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new a.vpe,this.shown=new be.x,this.hidden=new be.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":at(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(c){this.dismissEvent.emit(c)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,$t.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:c}=this._elRef,b={animation:this.animation,runningTransition:"stop"},Ee=Jt(mn(this._zone,c,()=>c.classList.remove("show"),b),mn(this._zone,this._dialogEl.nativeElement,()=>{},b));return Ee.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Ee}_show(){const c={animation:this.animation,runningTransition:"continue"};Jt(mn(this._zone,this._elRef.nativeElement,(z,Ee)=>{Ee&&Ni(z),z.classList.add("show")},c),mn(this._zone,this._dialogEl.nativeElement,()=>{},c)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:c}=this._elRef;this._zone.runOutsideAngular(()=>{nt(c,"keydown").pipe(Wt(this._closed$),(0,Yt.h)(M=>M.which===_e.Escape)).subscribe(M=>{this.keyboard?requestAnimationFrame(()=>{M.defaultPrevented||this._zone.run(()=>this.dismiss(Gl.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let b=!1;nt(this._dialogEl.nativeElement,"mousedown").pipe(Wt(this._closed$),(0,fn.b)(()=>b=!1),(0,ei.w)(()=>nt(c,"mouseup").pipe(Wt(this._closed$),(0,$t.q)(1))),(0,Yt.h)(({target:M})=>c===M)).subscribe(()=>{b=!0}),nt(c,"click").pipe(Wt(this._closed$)).subscribe(({target:M})=>{c===M&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!b&&this._zone.run(()=>this.dismiss(Gl.BACKDROP_CLICK))),b=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:c}=this._elRef;if(!c.contains(document.activeElement)){const b=c.querySelector("[ngbAutofocus]"),M=ul(c)[0];(b||M||c).focus()}}_restoreFocus(){const c=this._document.body,b=this._elWithFocus;let M;M=b&&b.focus&&c.contains(b)?b:c,this._zone.runOutsideAngular(()=>{setTimeout(()=>M.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&mn(this._zone,this._elRef.nativeElement,({classList:c})=>(c.add("modal-static"),()=>c.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return h.\u0275fac=function(c){return new(c||h)(a.Y36(k.K0),a.Y36(a.SBq),a.Y36(a.R0b))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-modal-window"]],viewQuery:function(c,b){if(1&c&&a.Gf(Tt,7),2&c){let M;a.iGM(M=a.CRH())&&(b._dialogEl=M.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(c,b){2&c&&(a.uIk("aria-modal",!0)("aria-labelledby",b.ariaLabelledBy)("aria-describedby",b.ariaDescribedBy),a.Tol("modal d-block"+(b.windowClass?" "+b.windowClass:"")),a.ekj("fade",b.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Gs,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(c,b){1&c&&(a.F$t(),a.TgZ(0,"div",0,1)(2,"div",2),a.Hsn(3),a.qZA()()),2&c&&a.Tol("modal-dialog"+(b.size?" modal-"+b.size:"")+(b.centered?" modal-dialog-centered":"")+b.fullscreenClass+(b.scrollable?" modal-dialog-scrollable":"")+(b.modalDialogClass?" "+b.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),h})(),$u=(()=>{class h{constructor(c){this._document=c}hide(){const c=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),b=this._document.body,M=b.style,{overflow:z,paddingRight:Ee}=M;if(c>0){const Ye=parseFloat(window.getComputedStyle(b).paddingRight);M.paddingRight=`${Ye+c}px`}return M.overflow="hidden",()=>{c>0&&(M.paddingRight=Ee),M.overflow=z}}}return h.\u0275fac=function(c){return new(c||h)(a.LFG(k.K0))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),su=(()=>{class h{constructor(c,b,M,z,Ee,Ye){this._applicationRef=c,this._injector=b,this._document=M,this._scrollBar=z,this._rendererFactory=Ee,this._ngZone=Ye,this._activeWindowCmptHasChanged=new be.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new a.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Ze=this._windowCmpts[this._windowCmpts.length-1];((h,_,c,b=!1)=>{this._ngZone.runOutsideAngular(()=>{const M=nt(_,"focusin").pipe(Wt(c),(0,bn.U)(z=>z.target));nt(_,"keydown").pipe(Wt(c),(0,Yt.h)(z=>z.which===_e.Tab),er(M)).subscribe(([z,Ee])=>{const[Ye,Ze]=ul(_);(Ee===Ye||Ee===_)&&z.shiftKey&&(Ze.focus(),z.preventDefault()),Ee===Ze&&!z.shiftKey&&(Ye.focus(),z.preventDefault())}),b&&nt(_,"click").pipe(Wt(c),er(M),(0,bn.U)(z=>z[1])).subscribe(z=>z.focus())})})(0,Ze.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Ze.location.nativeElement)}})}_restoreScrollBar(){const c=this._scrollBarRestoreFn;c&&(this._scrollBarRestoreFn=null,c())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(c,b,M){const z=M.container instanceof HTMLElement?M.container:Hn(M.container)?this._document.querySelector(M.container):this._document.body,Ee=this._rendererFactory.createRenderer(null,null);if(!z)throw new Error(`The specified modal container "${M.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Ye=new Nl,Ze=this._getContentRef(M.injector||c,b,Ye,M);let Et=!1!==M.backdrop?this._attachBackdrop(z):void 0,kt=this._attachWindowComponent(z,Ze.nodes),Nn=new ju(kt,Ze,Et,M.beforeDismiss);return this._registerModalRef(Nn),this._registerWindowCmpt(kt),Nn.hidden.pipe((0,$t.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Ee.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Ye.close=an=>{Nn.close(an)},Ye.dismiss=an=>{Nn.dismiss(an)},this._applyWindowOptions(kt.instance,M),1===this._modalRefs.length&&Ee.addClass(this._document.body,"modal-open"),Et&&Et.instance&&(this._applyBackdropOptions(Et.instance,M),Et.changeDetectorRef.detectChanges()),kt.changeDetectorRef.detectChanges(),Nn}get activeInstances(){return this._activeInstances}dismissAll(c){this._modalRefs.forEach(b=>b.dismiss(c))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(c){let b=(0,a.LMc)(Ho,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(b.hostView),c.appendChild(b.location.nativeElement),b}_attachWindowComponent(c,b){let M=(0,a.LMc)(Hu,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:b});return this._applicationRef.attachView(M.hostView),c.appendChild(M.location.nativeElement),M}_applyWindowOptions(c,b){this._windowAttributes.forEach(M=>{Hn(b[M])&&(c[M]=b[M])})}_applyBackdropOptions(c,b){this._backdropAttributes.forEach(M=>{Hn(b[M])&&(c[M]=b[M])})}_getContentRef(c,b,M,z){return b?b instanceof a.Rgc?this._createFromTemplateRef(b,M):at(b)?this._createFromString(b):this._createFromComponent(c,b,M,z):new ml([])}_createFromTemplateRef(c,b){const z=c.createEmbeddedView({$implicit:b,close(Ee){b.close(Ee)},dismiss(Ee){b.dismiss(Ee)}});return this._applicationRef.attachView(z),new ml([z.rootNodes],z)}_createFromString(c){const b=this._document.createTextNode(`${c}`);return new ml([[b]])}_createFromComponent(c,b,M,z){const Ee=a.zs3.create({providers:[{provide:Nl,useValue:M}],parent:c}),Ye=(0,a.LMc)(b,{environmentInjector:this._applicationRef.injector,elementInjector:Ee}),Ze=Ye.location.nativeElement;return z.scrollable&&Ze.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ye.hostView),new ml([[Ze]],Ye.hostView,Ye)}_setAriaHidden(c){const b=c.parentElement;b&&c!==this._document.body&&(Array.from(b.children).forEach(M=>{M!==c&&"SCRIPT"!==M.nodeName&&(this._ariaHiddenValues.set(M,M.getAttribute("aria-hidden")),M.setAttribute("aria-hidden","true"))}),this._setAriaHidden(b))}_revertAriaHidden(){this._ariaHiddenValues.forEach((c,b)=>{c?b.setAttribute("aria-hidden",c):b.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(c){const b=()=>{const M=this._modalRefs.indexOf(c);M>-1&&(this._modalRefs.splice(M,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(c),this._activeInstances.emit(this._modalRefs),c.result.then(b,b)}_registerWindowCmpt(c){this._windowCmpts.push(c),this._activeWindowCmptHasChanged.next(),c.onDestroy(()=>{const b=this._windowCmpts.indexOf(c);b>-1&&(this._windowCmpts.splice(b,1),this._activeWindowCmptHasChanged.next())})}}return h.\u0275fac=function(c){return new(c||h)(a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(k.K0),a.LFG($u),a.LFG(a.FYo),a.LFG(a.R0b))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Kc=(()=>{class h{constructor(c){this._ngbConfig=c,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(c){this._animation=c}}return h.\u0275fac=function(c){return new(c||h)(a.LFG(Hr))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),pc=(()=>{class h{constructor(c,b,M){this._injector=c,this._modalStack=b,this._config=M}open(c,b={}){const M={...this._config,animation:this._config.animation,...b};return this._modalStack.open(this._injector,c,M)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(c){this._modalStack.dismissAll(c)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return h.\u0275fac=function(c){return new(c||h)(a.LFG(a.zs3),a.LFG(su),a.LFG(Kc))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Ha=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({providers:[pc]}),h})(),ou=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[k.ez]}),h})(),Y=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[k.ez]}),h})(),_c=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[k.ez]}),h})(),vc=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[k.ez]}),h})(),uu=(()=>{class h{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return h.\u0275fac=function(c){return new(c||h)},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Hd=(()=>{class h{constructor(c,b){this._changeDetectorRef=b,this.contexts=[],this.disabled=!1,this.hover=new a.vpe,this.leave=new a.vpe,this.rateChange=new a.vpe(!0),this.onChange=M=>{},this.onTouched=()=>{},this.max=c.max,this.readonly=c.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(c){this.isInteractive()&&this._updateState(c),this.hover.emit(c)}handleBlur(){this.onTouched()}handleClick(c){this.isInteractive()&&this.update(this.resettable&&this.rate===c?0:c)}handleKeyDown(c){switch(c.which){case _e.ArrowDown:case _e.ArrowLeft:this.update(this.rate-1);break;case _e.ArrowUp:case _e.ArrowRight:this.update(this.rate+1);break;case _e.Home:this.update(0);break;case _e.End:this.update(this.max);break;default:return}c.preventDefault()}ngOnChanges(c){c.rate&&this.update(this.rate),c.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(c){this.onChange=c}registerOnTouched(c){this.onTouched=c}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(c){this.disabled=c}update(c,b=!0){const M=Te(c,this.max,0);this.isInteractive()&&this.rate!==M&&(this.rate=M,this.rateChange.emit(this.rate)),b&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(c){this.update(c,!1),this._changeDetectorRef.markForCheck()}_updateState(c){this.nextRate=c,this.contexts.forEach((b,M)=>b.fill=Math.round(100*Te(c-M,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(c,b)=>({fill:0,index:b}))}}return h.\u0275fac=function(c){return new(c||h)(a.Y36(uu),a.Y36(a.sBO))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-rating"]],contentQueries:function(c,b,M){if(1&c&&a.Suo(M,a.Rgc,5),2&c){let z;a.iGM(z=a.CRH())&&(b.starTemplateFromContent=z.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(c,b){1&c&&a.NdJ("blur",function(){return b.handleBlur()})("keydown",function(z){return b.handleKeyDown(z)})("mouseleave",function(){return b.reset()}),2&c&&(a.Ikx("tabindex",b.disabled?-1:0),a.uIk("aria-valuemax",b.max)("aria-valuenow",b.nextRate)("aria-valuetext",b.ariaValueText())("aria-disabled",!!b.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[a._Bn([{provide:xt.JU,useExisting:(0,a.Gpc)(()=>h),multi:!0}]),a.TTD],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(c,b){1&c&&(a.YNc(0,ji,1,1,"ng-template",null,0,a.W1O),a.YNc(2,ls,4,5,"ng-template",1)),2&c&&(a.xp6(2),a.Q6J("ngForOf",b.contexts))},dependencies:[k.sg,k.tP],encapsulation:2,changeDetection:0}),h})(),Yc=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[k.ez]}),h})(),xf=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[k.ez]}),h})(),Gd=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[k.ez]}),h})(),bc=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})();new a.OlP("live announcer delay",{providedIn:"root",factory:function Bp(){return 100}});let Wl=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[k.ez]}),h})(),Oh=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})();const Jc=[Bo,Ks,kl,E,ya,$r,Ha,ou,Oh,Y,_c,vc,Yc,xf,Gd,bc,Wl];let Xc=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[Jc,Bo,Ks,kl,E,ya,$r,Ha,ou,Oh,Y,_c,vc,Yc,xf,Gd,bc,Wl]}),h})()},8766:(Xt,st,V)=>{"use strict";V.d(st,{Lj:()=>ft,X3:()=>Gt});var a=V(5861);let Q,ge;const je=new WeakMap,Ne=new WeakMap,We=new WeakMap,de=new WeakMap,he=new WeakMap;let ot={get(ie,Be,fe){if(ie instanceof IDBTransaction){if("done"===Be)return Ne.get(ie);if("objectStoreNames"===Be)return ie.objectStoreNames||We.get(ie);if("store"===Be)return fe.objectStoreNames[1]?void 0:fe.objectStore(fe.objectStoreNames[0])}return ut(ie[Be])},set:(ie,Be,fe)=>(ie[Be]=fe,!0),has:(ie,Be)=>ie instanceof IDBTransaction&&("done"===Be||"store"===Be)||Be in ie};function dt(ie){return"function"==typeof ie?function At(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(...Be){return ie.apply(ze(this),Be),ut(je.get(this))}:function(...Be){return ut(ie.apply(ze(this),Be))}:function(Be,...fe){const Fe=ie.call(ze(this),Be,...fe);return We.set(Fe,Be.sort?Be.sort():[Be]),ut(Fe)}}(ie):(ie instanceof IDBTransaction&&function yt(ie){if(Ne.has(ie))return;const Be=new Promise((fe,Fe)=>{const qe=()=>{ie.removeEventListener("complete",Qe),ie.removeEventListener("error",Ot),ie.removeEventListener("abort",Ot)},Qe=()=>{fe(),qe()},Ot=()=>{Fe(ie.error||new DOMException("AbortError","AbortError")),qe()};ie.addEventListener("complete",Qe),ie.addEventListener("error",Ot),ie.addEventListener("abort",Ot)});Ne.set(ie,Be)}(ie),((ie,Be)=>Be.some(fe=>ie instanceof fe))(ie,function Oe(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,ot):ie)}function ut(ie){if(ie instanceof IDBRequest)return function Pe(ie){const Be=new Promise((fe,Fe)=>{const qe=()=>{ie.removeEventListener("success",Qe),ie.removeEventListener("error",Ot)},Qe=()=>{fe(ut(ie.result)),qe()},Ot=()=>{Fe(ie.error),qe()};ie.addEventListener("success",Qe),ie.addEventListener("error",Ot)});return Be.then(fe=>{fe instanceof IDBCursor&&je.set(fe,ie)}).catch(()=>{}),he.set(Be,ie),Be}(ie);if(de.has(ie))return de.get(ie);const Be=dt(ie);return Be!==ie&&(de.set(ie,Be),he.set(Be,ie)),Be}const ze=ie=>he.get(ie);function Gt(ie,Be,{blocked:fe,upgrade:Fe,blocking:qe,terminated:Qe}={}){const Ot=indexedDB.open(ie,Be),Pt=ut(Ot);return Fe&&Ot.addEventListener("upgradeneeded",jt=>{Fe(ut(Ot.result),jt.oldVersion,jt.newVersion,ut(Ot.transaction))}),fe&&Ot.addEventListener("blocked",()=>fe()),Pt.then(jt=>{Qe&&jt.addEventListener("close",()=>Qe()),qe&&jt.addEventListener("versionchange",()=>qe())}).catch(()=>{}),Pt}function ft(ie,{blocked:Be}={}){const fe=indexedDB.deleteDatabase(ie);return Be&&fe.addEventListener("blocked",()=>Be()),ut(fe).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],me=new Map;function Ae(ie,Be){if(!(ie instanceof IDBDatabase)||Be in ie||"string"!=typeof Be)return;if(me.get(Be))return me.get(Be);const fe=Be.replace(/FromIndex$/,""),Fe=Be!==fe,qe=ke.includes(fe);if(!(fe in(Fe?IDBIndex:IDBObjectStore).prototype)||!qe&&!Ce.includes(fe))return;const Qe=function(){var Ot=(0,a.Z)(function*(Pt,...jt){const Jt=this.transaction(Pt,qe?"readwrite":"readonly");let en=Jt.store;return Fe&&(en=en.index(jt.shift())),(yield Promise.all([en[fe](...jt),qe&&Jt.done]))[0]});return function(jt){return Ot.apply(this,arguments)}}();return me.set(Be,Qe),Qe}!function nt(ie){ot=ie(ot)}(ie=>({...ie,get:(Be,fe,Fe)=>Ae(Be,fe)||ie.get(Be,fe,Fe),has:(Be,fe)=>!!Ae(Be,fe)||ie.has(Be,fe)}))},4333:(Xt,st,V)=>{"use strict";V.d(st,{JX:()=>ft,LS:()=>Gt,_s:()=>nt});var a=V(4650),k=V(6895);function Q(Ce,ke){if(1&Ce){const me=a.EpF();a.TgZ(0,"a",12),a.NdJ("keyup.enter",function(){a.CHM(me),a.oxw(3);const ie=a.MAs(1);return a.KtG(ie.previous())})("click",function(){a.CHM(me),a.oxw(3);const ie=a.MAs(1);return a.KtG(ie.previous())}),a._uU(1),a.TgZ(2,"span",13),a._uU(3),a.qZA()()}if(2&Ce){const me=a.oxw(3);a.xp6(1),a.hij(" ",me.previousLabel," "),a.xp6(2),a.Oqu(me.screenReaderPageLabel)}}function ge(Ce,ke){if(1&Ce&&(a.TgZ(0,"span",14),a._uU(1),a.TgZ(2,"span",13),a._uU(3),a.qZA()()),2&Ce){const me=a.oxw(3);a.xp6(1),a.hij(" ",me.previousLabel," "),a.xp6(2),a.Oqu(me.screenReaderPageLabel)}}function Oe(Ce,ke){if(1&Ce&&(a.TgZ(0,"li",9),a.YNc(1,Q,4,2,"a",10),a.YNc(2,ge,4,2,"span",11),a.qZA()),2&Ce){a.oxw(2);const me=a.MAs(1);a.ekj("disabled",me.isFirstPage()),a.xp6(1),a.Q6J("ngIf",1<me.getCurrent()),a.xp6(1),a.Q6J("ngIf",me.isFirstPage())}}function be(Ce,ke){if(1&Ce){const me=a.EpF();a.TgZ(0,"a",12),a.NdJ("keyup.enter",function(){a.CHM(me);const ie=a.oxw().$implicit;a.oxw(2);const Be=a.MAs(1);return a.KtG(Be.setCurrent(ie.value))})("click",function(){a.CHM(me);const ie=a.oxw().$implicit;a.oxw(2);const Be=a.MAs(1);return a.KtG(Be.setCurrent(ie.value))}),a.TgZ(1,"span",13),a._uU(2),a.qZA(),a.TgZ(3,"span"),a._uU(4),a.ALo(5,"number"),a.qZA()()}if(2&Ce){const me=a.oxw().$implicit,Ae=a.oxw(2);a.xp6(2),a.hij("",Ae.screenReaderPageLabel," "),a.xp6(2),a.Oqu("..."===me.label?me.label:a.xi3(5,2,me.label,""))}}function je(Ce,ke){if(1&Ce&&(a.ynx(0),a.TgZ(1,"span",16)(2,"span",13),a._uU(3),a.qZA(),a.TgZ(4,"span"),a._uU(5),a.ALo(6,"number"),a.qZA()(),a.BQk()),2&Ce){const me=a.oxw().$implicit,Ae=a.oxw(2);a.xp6(3),a.hij("",Ae.screenReaderCurrentLabel," "),a.xp6(2),a.Oqu("..."===me.label?me.label:a.xi3(6,2,me.label,""))}}function Ne(Ce,ke){if(1&Ce&&(a.TgZ(0,"li"),a.YNc(1,be,6,5,"a",10),a.YNc(2,je,7,5,"ng-container",15),a.qZA()),2&Ce){const me=ke.$implicit;a.oxw(2);const Ae=a.MAs(1);a.ekj("current",Ae.getCurrent()===me.value)("ellipsis","..."===me.label),a.xp6(1),a.Q6J("ngIf",Ae.getCurrent()!==me.value),a.xp6(1),a.Q6J("ngIf",Ae.getCurrent()===me.value)}}function We(Ce,ke){if(1&Ce){const me=a.EpF();a.TgZ(0,"a",12),a.NdJ("keyup.enter",function(){a.CHM(me),a.oxw(3);const ie=a.MAs(1);return a.KtG(ie.next())})("click",function(){a.CHM(me),a.oxw(3);const ie=a.MAs(1);return a.KtG(ie.next())}),a._uU(1),a.TgZ(2,"span",13),a._uU(3),a.qZA()()}if(2&Ce){const me=a.oxw(3);a.xp6(1),a.hij(" ",me.nextLabel," "),a.xp6(2),a.Oqu(me.screenReaderPageLabel)}}function de(Ce,ke){if(1&Ce&&(a.TgZ(0,"span",14),a._uU(1),a.TgZ(2,"span",13),a._uU(3),a.qZA()()),2&Ce){const me=a.oxw(3);a.xp6(1),a.hij(" ",me.nextLabel," "),a.xp6(2),a.Oqu(me.screenReaderPageLabel)}}function he(Ce,ke){if(1&Ce&&(a.TgZ(0,"li",17),a.YNc(1,We,4,2,"a",10),a.YNc(2,de,4,2,"span",11),a.qZA()),2&Ce){a.oxw(2);const me=a.MAs(1);a.ekj("disabled",me.isLastPage()),a.xp6(1),a.Q6J("ngIf",!me.isLastPage()),a.xp6(1),a.Q6J("ngIf",me.isLastPage())}}function Pe(Ce,ke){if(1&Ce&&(a.TgZ(0,"ul",4),a.YNc(1,Oe,3,4,"li",5),a.TgZ(2,"li",6),a._uU(3),a.qZA(),a.YNc(4,Ne,3,6,"li",7),a.YNc(5,he,3,4,"li",8),a.qZA()),2&Ce){const me=a.oxw(),Ae=a.MAs(1);a.ekj("responsive",me.responsive),a.xp6(1),a.Q6J("ngIf",me.directionLinks),a.xp6(2),a.AsE(" ",Ae.getCurrent()," / ",Ae.getLastPage()," "),a.xp6(1),a.Q6J("ngForOf",Ae.pages)("ngForTrackBy",me.trackByIndex),a.xp6(1),a.Q6J("ngIf",me.directionLinks)}}class yt{constructor(){this.change=new a.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(ke){return null==ke.id&&(ke.id=this.DEFAULT_ID),this.instances[ke.id]?this.updateInstance(ke):(this.instances[ke.id]=ke,!0)}updateInstance(ke){let me=!1;for(let Ae in this.instances[ke.id])ke[Ae]!==this.instances[ke.id][Ae]&&(this.instances[ke.id][Ae]=ke[Ae],me=!0);return me}getCurrentPage(ke){return this.instances[ke]?this.instances[ke].currentPage:1}setCurrentPage(ke,me){if(this.instances[ke]){let Ae=this.instances[ke];me<=Math.ceil(Ae.totalItems/Ae.itemsPerPage)&&1<=me&&(this.instances[ke].currentPage=me,this.change.emit(ke))}}setTotalItems(ke,me){this.instances[ke]&&0<=me&&(this.instances[ke].totalItems=me,this.change.emit(ke))}setItemsPerPage(ke,me){this.instances[ke]&&(this.instances[ke].itemsPerPage=me,this.change.emit(ke))}getInstance(ke=this.DEFAULT_ID){return this.instances[ke]?this.clone(this.instances[ke]):{}}clone(ke){var me={};for(var Ae in ke)ke.hasOwnProperty(Ae)&&(me[Ae]=ke[Ae]);return me}}const ot=Number.MAX_SAFE_INTEGER;let nt=(()=>{class Ce{constructor(me){this.service=me,this.state={}}transform(me,Ae){if(!(me instanceof Array)){let Pt=Ae.id||this.service.defaultId();return this.state[Pt]?this.state[Pt].slice:me}let Fe,qe,ie=Ae.totalItems&&Ae.totalItems!==me.length,Be=this.createInstance(me,Ae),fe=Be.id,Qe=Be.itemsPerPage,Ot=this.service.register(Be);if(!ie&&me instanceof Array){if(Qe=+Qe||ot,Fe=(Be.currentPage-1)*Qe,qe=Fe+Qe,this.stateIsIdentical(fe,me,Fe,qe))return this.state[fe].slice;{let jt=me.slice(Fe,qe);return this.saveState(fe,me,jt,Fe,qe),this.service.change.emit(fe),jt}}return Ot&&this.service.change.emit(fe),this.saveState(fe,me,me,Fe,qe),me}createInstance(me,Ae){return this.checkConfig(Ae),{id:null!=Ae.id?Ae.id:this.service.defaultId(),itemsPerPage:+Ae.itemsPerPage||0,currentPage:+Ae.currentPage||1,totalItems:+Ae.totalItems||me.length}}checkConfig(me){const ie=["itemsPerPage","currentPage"].filter(Be=>!(Be in me));if(0<ie.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${ie.join(", ")}`)}saveState(me,Ae,ie,Be,fe){this.state[me]={collection:Ae,size:Ae.length,slice:ie,start:Be,end:fe}}stateIsIdentical(me,Ae,ie,Be){let fe=this.state[me];return!(!fe||fe.size!==Ae.length||fe.start!==ie||fe.end!==Be)&&fe.slice.every((qe,Qe)=>qe===Ae[ie+Qe])}}return Ce.\u0275fac=function(me){return new(me||Ce)(a.Y36(yt,16))},Ce.\u0275pipe=a.Yjl({name:"paginate",type:Ce,pure:!1}),Ce})(),ut=(()=>{class Ce{constructor(me,Ae){this.service=me,this.changeDetectorRef=Ae,this.maxSize=7,this.pageChange=new a.vpe,this.pageBoundsCorrection=new a.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(ie=>{this.id===ie&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(me){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(me){this.pageChange.emit(me)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let me=this.service.getInstance(this.id);return me.totalItems<1?1:Math.ceil(me.totalItems/me.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let me=this.service.getInstance(this.id);const Ae=this.outOfBoundCorrection(me);Ae!==me.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(Ae),this.pages=this.createPageArray(me.currentPage,me.itemsPerPage,me.totalItems,this.maxSize)}):this.pages=this.createPageArray(me.currentPage,me.itemsPerPage,me.totalItems,this.maxSize)}outOfBoundCorrection(me){const Ae=Math.ceil(me.totalItems/me.itemsPerPage);return Ae<me.currentPage&&0<Ae?Ae:me.currentPage<1?1:me.currentPage}createPageArray(me,Ae,ie,Be){Be=+Be;let fe=[];const Fe=Math.max(Math.ceil(ie/Ae),1),qe=Math.ceil(Be/2),Qe=me<=qe,Ot=Fe-qe<me,Pt=!Qe&&!Ot;let jt=Be<Fe,Jt=1;for(;Jt<=Fe&&Jt<=Be;){let en,wt=this.calculatePageNumber(Jt,me,Be,Fe),ln=2===Jt&&(Pt||Ot),Wt=Jt===Be-1&&(Pt||Qe);en=jt&&(ln||Wt)?"...":wt,fe.push({label:en,value:wt}),Jt++}return fe}calculatePageNumber(me,Ae,ie,Be){let fe=Math.ceil(ie/2);return me===ie?Be:1===me?me:ie<Be?Be-fe<Ae?Be-ie+me:fe<Ae?Ae-fe+me:me:me}}return Ce.\u0275fac=function(me){return new(me||Ce)(a.Y36(yt),a.Y36(a.sBO))},Ce.\u0275dir=a.lG2({type:Ce,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[a.TTD]}),Ce})();function ze(Ce){return!!Ce&&"false"!==Ce}let Gt=(()=>{class Ce{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new a.vpe,this.pageBoundsCorrection=new a.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(me){this._directionLinks=ze(me)}get autoHide(){return this._autoHide}set autoHide(me){this._autoHide=ze(me)}get responsive(){return this._responsive}set responsive(me){this._responsive=ze(me)}trackByIndex(me){return me}}return Ce.\u0275fac=function(me){return new(me||Ce)},Ce.\u0275cmp=a.Xpm({type:Ce,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(me,Ae){if(1&me&&(a.TgZ(0,"pagination-template",0,1),a.NdJ("pageChange",function(Be){return Ae.pageChange.emit(Be)})("pageBoundsCorrection",function(Be){return Ae.pageBoundsCorrection.emit(Be)}),a.TgZ(2,"nav",2),a.YNc(3,Pe,6,8,"ul",3),a.qZA()()),2&me){const ie=a.MAs(1);a.Q6J("id",Ae.id)("maxSize",Ae.maxSize),a.xp6(2),a.uIk("aria-label",Ae.screenReaderPaginationLabel),a.xp6(1),a.Q6J("ngIf",!(Ae.autoHide&&ie.pages.length<=1))}},dependencies:[ut,k.O5,k.sg,k.JJ],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),Ce})(),ft=(()=>{class Ce{}return Ce.\u0275fac=function(me){return new(me||Ce)},Ce.\u0275mod=a.oAB({type:Ce}),Ce.\u0275inj=a.cJS({providers:[yt],imports:[[k.ez]]}),Ce})()},5861:(Xt,st,V)=>{"use strict";function a(Q,ge,Oe,be,je,Ne,We){try{var de=Q[Ne](We),he=de.value}catch(Pe){return void Oe(Pe)}de.done?ge(he):Promise.resolve(he).then(be,je)}function k(Q){return function(){var ge=this,Oe=arguments;return new Promise(function(be,je){var Ne=Q.apply(ge,Oe);function We(he){a(Ne,be,je,We,de,"next",he)}function de(he){a(Ne,be,je,We,de,"throw",he)}We(void 0)})}}V.d(st,{Z:()=>k})}},Xt=>{Xt(Xt.s=2458)}]);