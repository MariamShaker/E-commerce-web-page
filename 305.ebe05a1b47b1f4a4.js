"use strict";(self.webpackChunkmy_market=self.webpackChunkmy_market||[]).push([[305],{9305:(y,p,r)=>{r.r(p),r.d(p,{CartModule:()=>x});var u=r(6895),l=r(9062),t=r(4650),m=r(910),h=r(7556),C=r(7407),a=r(433);function g(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"div",3)(1,"div",4),t._UZ(2,"img",5),t.qZA(),t.TgZ(3,"div",6)(4,"div")(5,"nav")(6,"a",7),t._uU(7,"Home"),t.qZA(),t._uU(8,"/ "),t.TgZ(9,"a",8),t._uU(10,"T-shirt"),t.qZA()(),t.TgZ(11,"div",9),t._uU(12),t.qZA(),t.TgZ(13,"div",10),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.TgZ(16,"input",11),t.NdJ("ngModelChange",function(c){const s=t.CHM(o).$implicit;return t.KtG(s.amount=c)}),t.qZA(),t.TgZ(17,"div",12),t._uU(18),t.ALo(19,"currency"),t.qZA(),t.TgZ(20,"button",13),t.NdJ("click",function(){const d=t.CHM(o).index,s=t.oxw();return t.KtG(s.updateProduct(d))}),t._uU(21," Update "),t.qZA(),t.TgZ(22,"button",14),t.NdJ("click",function(){const d=t.CHM(o).index,s=t.oxw();return t.KtG(s.deleteProduct(d))}),t._uU(23,"delete"),t.qZA()()()()}if(2&e){const o=i.$implicit;t.xp6(2),t.s9C("src",o.imageUrl,t.LSH),t.xp6(10),t.hij(" ",o.name," "),t.xp6(2),t.hij(" ",t.lcZ(15,5,o.price)," "),t.xp6(2),t.Q6J("ngModel",o.amount),t.xp6(2),t.hij(" ",t.lcZ(19,7,o.price*o.amount)," ")}}const v=[{path:"",component:(()=>{class e{constructor(o,n,c){this.cartService=o,this.authservice=n,this.fireStore=c,this.shooping=[],this.productImage=[],this.uid=""}ngOnInit(){this.authservice.user.subscribe(o=>{o&&(this.uid=o.uid,this.getProduct())})}getProduct(){if(this.uid)return this.fireStore.collection(`users/${this.uid}/cart`).snapshotChanges().subscribe(o=>{this.shooping=o.map(n=>({id:n.payload.doc.id,...n.payload.doc.data()}))});console.error("User ID is not set.")}deleteProduct(o){this.cartService.deleteProduct(this.shooping[o].id)}updateProduct(o){this.cartService.updateAmountOfProduct(this.shooping[o].id,this.shooping[o].amount)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(m.N),t.Y36(h.e),t.Y36(C.ST))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart"]],decls:3,vars:1,consts:[[1,"shopping-cart"],[1,"container"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-2","mb-3"],["alt","t-shirt item","width","200px",3,"src"],[1,"col-md-10","cart-items"],["routerLink","home"],["href","#"],[1,"product-title"],[1,"product-price"],["type","number","name","","id","",1,"amount",3,"ngModel","ngModelChange"],[1,"totlal-price"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,g,24,9,"div",2),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("ngForOf",n.shooping))},dependencies:[u.sg,l.yS,a.Fj,a.wV,a.JJ,a.On,u.H9],styles:[".cart-items[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(v),l.Bz]}),e})();var Z=r(4466);let x=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,f,Z.m]}),e})()}}]);